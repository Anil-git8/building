{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./inventory.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./inventory.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { ProductService } from '../../services/product.service';\nimport { Router } from '@angular/router';\nlet InventoryComponent = class InventoryComponent {\n  productService;\n  router;\n  products = [];\n  editableProduct = {};\n  editIndex = -1;\n  // router: any;\n  searchTerm = '';\n  // constructor(private router: Router) {}\n  constructor(productService, router) {\n    this.productService = productService;\n    this.router = router;\n    this.products = this.productService.getProducts();\n  }\n  openEditModal(index) {\n    this.editIndex = index;\n    this.editableProduct = {\n      ...this.products[index]\n    };\n    const modal = new bootstrap.Modal(document.getElementById('editModal'));\n    modal.show();\n  }\n  saveEdit() {\n    this.products[this.editIndex] = this.editableProduct;\n    this.productService.updateProducts(this.products);\n    bootstrap.Modal.getInstance(document.getElementById('editModal'))?.hide();\n  }\n  removeProduct(index) {\n    this.products.splice(index, 1);\n    this.productService.updateProducts(this.products);\n  }\n  onEditImageSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.editableProduct.image = reader.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n  logout() {\n    const confirmed = window.confirm('Are you sure you want to logout?');\n    if (confirmed) {\n      localStorage.removeItem('isOwnerLoggedIn');\n      this.router.navigate(['/store']);\n    }\n  }\n  filteredProducts() {\n    if (!this.searchTerm) {\n      return this.products;\n    }\n    const term = this.searchTerm.toLowerCase();\n    return this.products.filter(product => product.name.toLowerCase().includes(term) || product.description.toLowerCase().includes(term) || product.category.toLowerCase().includes(term));\n  }\n  static ctorParameters = () => [{\n    type: ProductService\n  }, {\n    type: Router\n  }];\n};\nInventoryComponent = __decorate([Component({\n  selector: 'app-inventory',\n  standalone: false,\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], InventoryComponent);\nexport { InventoryComponent };","map":{"version":3,"names":["Component","ProductService","Router","InventoryComponent","productService","router","products","editableProduct","editIndex","searchTerm","constructor","getProducts","openEditModal","index","modal","bootstrap","Modal","document","getElementById","show","saveEdit","updateProducts","getInstance","hide","removeProduct","splice","onEditImageSelected","event","file","target","files","reader","FileReader","onload","image","result","readAsDataURL","logout","confirmed","window","confirm","localStorage","removeItem","navigate","filteredProducts","term","toLowerCase","filter","product","name","includes","description","category","__decorate","selector","standalone","template","__NG_CLI_RESOURCE__0"],"sources":["E:\\folk1\\building\\src\\app\\page\\inventory\\inventory.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ProductService } from '../../services/product.service';\r\nimport { Router } from '@angular/router';\r\n\r\ndeclare var bootstrap: any;\r\n\r\n@Component({\r\n  selector: 'app-inventory',\r\n  standalone: false,\r\n  templateUrl: './inventory.component.html',\r\n  styleUrls: ['./inventory.component.css']\r\n})\r\nexport class InventoryComponent {\r\n  products: any[] = [];\r\n  editableProduct: any = {};\r\n  editIndex = -1;\r\n  // router: any;\r\n  searchTerm: string = '';\r\n\r\n  // constructor(private router: Router) {}\r\n  \r\n  constructor(private productService: ProductService, private router: Router) {\r\n    this.products = this.productService.getProducts();\r\n  }\r\n\r\n  openEditModal(index: number) {\r\n    this.editIndex = index;\r\n    this.editableProduct = { ...this.products[index] };\r\n    const modal = new bootstrap.Modal(document.getElementById('editModal'));\r\n    modal.show();\r\n  }\r\n\r\n  saveEdit() {\r\n    this.products[this.editIndex] = this.editableProduct;\r\n    this.productService.updateProducts(this.products);\r\n    bootstrap.Modal.getInstance(document.getElementById('editModal'))?.hide();\r\n  }\r\n\r\n  removeProduct(index: number) {\r\n    this.products.splice(index, 1);\r\n    this.productService.updateProducts(this.products);\r\n  }\r\n\r\n\r\n  onEditImageSelected(event: any) {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        this.editableProduct.image = reader.result as string;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    const confirmed = window.confirm('Are you sure you want to logout?');\r\n    if (confirmed) {\r\n      localStorage.removeItem('isOwnerLoggedIn');\r\n      this.router.navigate(['/store']);\r\n    }\r\n\r\n  }\r\n\r\n  filteredProducts() {\r\n    if (!this.searchTerm) {\r\n      return this.products;\r\n    }\r\n  \r\n    const term = this.searchTerm.toLowerCase();\r\n    return this.products.filter(product =>\r\n      product.name.toLowerCase().includes(term) ||\r\n      product.description.toLowerCase().includes(term) ||\r\n      product.category.toLowerCase().includes(term)\r\n    );\r\n  }\r\n  \r\n}\r\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,cAAc,QAAQ,gCAAgC;AAC/D,SAASC,MAAM,QAAQ,iBAAiB;AAUjC,IAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EASTC,cAAA;EAAwCC,MAAA;EAR5DC,QAAQ,GAAU,EAAE;EACpBC,eAAe,GAAQ,EAAE;EACzBC,SAAS,GAAG,CAAC,CAAC;EACd;EACAC,UAAU,GAAW,EAAE;EAEvB;EAEAC,YAAoBN,cAA8B,EAAUC,MAAc;IAAtD,KAAAD,cAAc,GAAdA,cAAc;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAChE,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACF,cAAc,CAACO,WAAW,EAAE;EACnD;EAEAC,aAAaA,CAACC,KAAa;IACzB,IAAI,CAACL,SAAS,GAAGK,KAAK;IACtB,IAAI,CAACN,eAAe,GAAG;MAAE,GAAG,IAAI,CAACD,QAAQ,CAACO,KAAK;IAAC,CAAE;IAClD,MAAMC,KAAK,GAAG,IAAIC,SAAS,CAACC,KAAK,CAACC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAAC;IACvEJ,KAAK,CAACK,IAAI,EAAE;EACd;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACd,QAAQ,CAAC,IAAI,CAACE,SAAS,CAAC,GAAG,IAAI,CAACD,eAAe;IACpD,IAAI,CAACH,cAAc,CAACiB,cAAc,CAAC,IAAI,CAACf,QAAQ,CAAC;IACjDS,SAAS,CAACC,KAAK,CAACM,WAAW,CAACL,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAAC,EAAEK,IAAI,EAAE;EAC3E;EAEAC,aAAaA,CAACX,KAAa;IACzB,IAAI,CAACP,QAAQ,CAACmB,MAAM,CAACZ,KAAK,EAAE,CAAC,CAAC;IAC9B,IAAI,CAACT,cAAc,CAACiB,cAAc,CAAC,IAAI,CAACf,QAAQ,CAAC;EACnD;EAGAoB,mBAAmBA,CAACC,KAAU;IAC5B,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,IAAIF,IAAI,EAAE;MACR,MAAMG,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,MAAM,GAAG,MAAK;QACnB,IAAI,CAAC1B,eAAe,CAAC2B,KAAK,GAAGH,MAAM,CAACI,MAAgB;MACtD,CAAC;MACDJ,MAAM,CAACK,aAAa,CAACR,IAAI,CAAC;IAC5B;EACF;EAEAS,MAAMA,CAAA;IACJ,MAAMC,SAAS,GAAGC,MAAM,CAACC,OAAO,CAAC,kCAAkC,CAAC;IACpE,IAAIF,SAAS,EAAE;MACbG,YAAY,CAACC,UAAU,CAAC,iBAAiB,CAAC;MAC1C,IAAI,CAACrC,MAAM,CAACsC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAClC;EAEF;EAEAC,gBAAgBA,CAAA;IACd,IAAI,CAAC,IAAI,CAACnC,UAAU,EAAE;MACpB,OAAO,IAAI,CAACH,QAAQ;IACtB;IAEA,MAAMuC,IAAI,GAAG,IAAI,CAACpC,UAAU,CAACqC,WAAW,EAAE;IAC1C,OAAO,IAAI,CAACxC,QAAQ,CAACyC,MAAM,CAACC,OAAO,IACjCA,OAAO,CAACC,IAAI,CAACH,WAAW,EAAE,CAACI,QAAQ,CAACL,IAAI,CAAC,IACzCG,OAAO,CAACG,WAAW,CAACL,WAAW,EAAE,CAACI,QAAQ,CAACL,IAAI,CAAC,IAChDG,OAAO,CAACI,QAAQ,CAACN,WAAW,EAAE,CAACI,QAAQ,CAACL,IAAI,CAAC,CAC9C;EACH;;;;;;;AA/DW1C,kBAAkB,GAAAkD,UAAA,EAN9BrD,SAAS,CAAC;EACTsD,QAAQ,EAAE,eAAe;EACzBC,UAAU,EAAE,KAAK;EACjBC,QAAA,EAAAC,oBAAyC;;CAE1C,CAAC,C,EACWtD,kBAAkB,CAiE9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}