{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./store.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./store.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProductService } from '../../services/product.service';\nlet StoreComponent = class StoreComponent {\n  router;\n  productService;\n  products = [];\n  searchTerm = '';\n  cart = [];\n  //cartHasItems: boolean = false;\n  selectedCategory = '';\n  categories = ['Puja Items', 'Books', 'Decor', 'Clothing', 'Prasadam'];\n  constructor(router, productService) {\n    this.router = router;\n    this.productService = productService;\n  }\n  ngOnInit() {\n    this.products = this.productService.getProducts();\n    const cart = localStorage.getItem('cart');\n    this.cartHasItems = !!(cart && JSON.parse(cart).length);\n    const stored = localStorage.getItem('products');\n    this.products = stored ? JSON.parse(stored) : [];\n  }\n  filteredProducts() {\n    return this.products.filter(product => {\n      const matchesSearch = this.searchTerm ? product.name.toLowerCase().includes(this.searchTerm.toLowerCase()) : true;\n      const matchesCategory = this.selectedCategory ? product.category?.toLowerCase().trim() === this.selectedCategory.toLowerCase().trim() : true;\n      return matchesSearch && matchesCategory;\n    });\n  }\n  selectCategory(category) {\n    this.selectedCategory = category;\n  }\n  addToCart(product) {\n    let cart = JSON.parse(localStorage.getItem('cart') || '[]');\n    cart.push(product);\n    localStorage.setItem('cart', JSON.stringify(cart));\n    alert('Product added to cart!');\n    const found = this.cart.find(item => item.id === product.id);\n    if (!found) {\n      this.cart.push({\n        ...product,\n        quantity: 1\n      });\n      let cart = JSON.parse(localStorage.getItem('cart') || '[]');\n      const existingItem = cart.find(item => item.name === product.name);\n      if (existingItem) {\n        existingItem.quantity += 1;\n      } else {\n        cart.push({\n          ...product,\n          quantity: 1\n        }); // set quantity = 1 for new product\n      }\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }\n    this.cartHasItems = true;\n  }\n  // goToProfile() {\n  //   if (!localStorage.getItem('isLoggedIn')) {\n  //     alert('Please log in to view your profile.');\n  //     return;\n  //   }\n  //   alert(\"Profile page to be developed.\"); // Placeholder\n  // }\n  buyNow(product) {\n    if (!localStorage.getItem('isLoggedIn')) {\n      alert('Please log in to proceed with the purchase.');\n      return;\n    }\n    localStorage.setItem('paymentProduct', JSON.stringify(product));\n    this.router.navigate(['/payment']);\n  }\n  goToCart() {\n    this.router.navigate(['/cart']);\n  }\n  // searchTerm: string = '';\n  cartHasItems = false;\n  logout() {\n    localStorage.removeItem('isLoggedIn');\n    // localStorage.removeItem('cart');\n    alert('Logged out successfully!');\n  }\n  goToOwnerLogin() {\n    this.router.navigate(['/owner-login']);\n  }\n  static ctorParameters = () => [{\n    type: Router\n  }, {\n    type: ProductService\n  }];\n};\nStoreComponent = __decorate([Component({\n  selector: 'app-store',\n  standalone: false,\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], StoreComponent);\nexport { StoreComponent };","map":{"version":3,"names":["Component","Router","ProductService","StoreComponent","router","productService","products","searchTerm","cart","selectedCategory","categories","constructor","ngOnInit","getProducts","localStorage","getItem","cartHasItems","JSON","parse","length","stored","filteredProducts","filter","product","matchesSearch","name","toLowerCase","includes","matchesCategory","category","trim","selectCategory","addToCart","push","setItem","stringify","alert","found","find","item","id","quantity","existingItem","buyNow","navigate","goToCart","logout","removeItem","goToOwnerLogin","__decorate","selector","standalone","template","__NG_CLI_RESOURCE__0"],"sources":["E:\\folk1\\building\\src\\app\\page\\store\\store.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ProductService } from '../../services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-store',\r\n  standalone: false,\r\n  templateUrl: './store.component.html',\r\n  styleUrls: ['./store.component.css']\r\n})\r\nexport class StoreComponent implements OnInit {\r\n  products: any[] = [];\r\n  searchTerm: string = '';\r\n  cart: any[] = [];\r\n  //cartHasItems: boolean = false;\r\n  selectedCategory: string = '';\r\n  categories = ['Puja Items', 'Books', 'Decor', 'Clothing','Prasadam'];\r\n\r\n  constructor(private router: Router, private productService: ProductService) {}\r\n\r\n  ngOnInit() {\r\n    this.products = this.productService.getProducts();\r\n    const cart = localStorage.getItem('cart');\r\n    this.cartHasItems = !!(cart && JSON.parse(cart).length); \r\n    \r\n    const stored = localStorage.getItem('products');\r\n  this.products = stored ? JSON.parse(stored) : [];\r\n  }\r\n\r\n  filteredProducts() {\r\n    return this.products.filter(product => {\r\n      const matchesSearch = this.searchTerm\r\n        ? product.name.toLowerCase().includes(this.searchTerm.toLowerCase())\r\n        : true;\r\n  \r\n      const matchesCategory = this.selectedCategory\r\n        ? product.category?.toLowerCase().trim() === this.selectedCategory.toLowerCase().trim()\r\n        : true;\r\n  \r\n      return matchesSearch && matchesCategory;\r\n    });\r\n  }\r\n  \r\n  selectCategory(category: string) {\r\n    this.selectedCategory = category;\r\n  }\r\n\r\n  addToCart(product: any) {\r\n    let cart = JSON.parse(localStorage.getItem('cart') || '[]');\r\n    cart.push(product);\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    alert('Product added to cart!');\r\n    const found = this.cart.find(item => item.id === product.id);\r\n    if (!found) {\r\n      this.cart.push({ ...product, quantity: 1 }); \r\n\r\n\r\n      let cart = JSON.parse(localStorage.getItem('cart') || '[]');\r\n\r\n  const existingItem = cart.find((item: any) => item.name === product.name);\r\n\r\n  if (existingItem) {\r\n    existingItem.quantity += 1;\r\n  } else {\r\n    cart.push({ ...product, quantity: 1 });  // set quantity = 1 for new product\r\n  }\r\n\r\n  localStorage.setItem('cart', JSON.stringify(cart));\r\n    }\r\n\r\n\r\n    this.cartHasItems = true;\r\n  }\r\n  \r\n  // goToProfile() {\r\n  //   if (!localStorage.getItem('isLoggedIn')) {\r\n  //     alert('Please log in to view your profile.');\r\n  //     return;\r\n  //   }\r\n  //   alert(\"Profile page to be developed.\"); // Placeholder\r\n  // }\r\n\r\n  buyNow(product: any) {\r\n    if (!localStorage.getItem('isLoggedIn')) {\r\n      alert('Please log in to proceed with the purchase.');\r\n      return;\r\n    }\r\n    localStorage.setItem('paymentProduct', JSON.stringify(product));\r\n    this.router.navigate(['/payment']);\r\n  }\r\n  goToCart() {\r\n    this.router.navigate(['/cart']);\r\n  }\r\n\r\n  // searchTerm: string = '';\r\ncartHasItems: boolean = false;\r\n\r\nlogout() {\r\n  localStorage.removeItem('isLoggedIn');\r\n  // localStorage.removeItem('cart');\r\n alert('Logged out successfully!');\r\n}\r\n\r\ngoToOwnerLogin() {\r\n  this.router.navigate(['/owner-login']);\r\n}\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}