(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["88985"],{908026:function(e,t,o){var r,i,a,n;o.r(t),o.d(t,{default:()=>s});let l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[n],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};l.hash="bc8b32c56a4a58de585c9a05ae69bd9c";let s=l;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l.default||l)},913056:function(e,t,o){o.r(t),o.d(t,{default:()=>i});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardHeaderOverflowMenuFragment_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null}],type:"V3GetBoard",abstractKey:null};r.hash="5eb01f50884761ae6dfcf21978f9b0cd";let i=r},433100:function(e,t,o){o.d(t,{X:()=>j,f:()=>P});var r=o(667294),i=o(178226),a=o(509291),n=o(735243),l=o(477738),s=o(148),d=o(252974),c=o(250182),_=o(655068),u=o(531624),h=o(885086),p=o(515511),b=o(213491),x=o(360033),m=o(986475),f=o(640200),g=o(785893);let v=(e,t,o)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===o);if(!r)return;let i=(0,m.Z)(f.Z,!0)(r),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===o);e[a]?e[a]=i:e.push(i)},y=(e,t,o,r)=>{let i=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(i?.action?.filter){let e=i.action.filter.filterOptions;i.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[o]&&t.split(",").includes(String(e[o]))).map(e=>({...e,selected:!0})):[]}},{Provider:w,useHook:j}=(0,b.Z)("OneBarProductFilters");function P({children:e}){let[t,o]=(0,r.useState)([]),[b,m]=(0,r.useState)(null),f=function(){let{scope:e}=(0,s.b)();return[l.lw.BOARDS,l.lw.PINS_BUYABLE,l.lw.PINS_VIDEO,l.lw.USERS].includes(e)}(),j=(0,u.Z)(),P=(0,c.Z)(),A=(0,i.Z)(),C=(0,a.Z)(),S=(0,n.Z)(),z=(0,_.Z)(),B=(0,h.Z)(),I=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let i=e?.filter(({module_type:e})=>17===e||0===e);if(!i||i?.length===0||!r)return;let a=r!==b,n=a?[]:t;(a||!f)&&v(n,i,4),(a||!j)&&v(n,i,1),(a||!P)&&v(n,i,0),(a||!A)&&v(n,i,3),(a||!C)&&v(n,i,12),(a||!S)&&v(n,i,6),(a||!B)&&v(n,i,10),(a||!z)&&[7,8,9].forEach(e=>{v(n,i,e)}),(0,x.ZP)(n,t)||(o(n),m(r))},[t,A,C,S,f,P,z,j,B,b]),k=(0,d.Z)(),{priceMax:Z,priceMin:T,scope:E,brandValue:O,brands:R,onSale:D,style:N,colors:U,domains:M}=(0,s.b)();(0,r.useEffect)(()=>{if(!k||0===t.length)return;let e=(0,p.Z)(t);if(E!==l.lw.PINS){let t=(0,l.gi)(E),o=e.find(({moduleType:e})=>0===e);o?.action?.filter&&(o.action.filter.appliedFilterOptions=[...o.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:o}=e;return{searchType:o,selected:o===t}}))}if("string"==typeof Z||"string"==typeof T){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(T)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(Z)}:null].filter(Boolean))}y(new Set([3]),R,"stringValue",e),y(new Set([12]),O,"stringValue",e),y(new Set([6]),U,"stringValue",e),y(new Set([0]),M,"stringValue",e),y(new Set([7,8,9]),D,"numericValue",e),y(new Set([10]),N,"stringValue",e),(0,x.ZP)(e,t)||o(e)},[t,k,Z,T,E,O,R,U,M,D,N]);let F=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:I}),[t,I]);return(0,g.jsx)(w,{value:F,children:e})}},178226:function(e,t,o){o.d(t,{Z:()=>a});var r=o(616550),i=o(575820);function a(){return!!(0,i.mB)((0,r.TH)().search).brands}},509291:function(e,t,o){o.d(t,{Z:()=>n});var r=o(616550),i=o(613567),a=o(575820);function n(){let{checkExperiment:e}=(0,i.F)(),t=(0,r.TH)(),{brandValue:o}=(0,a.mB)(t.search);return!!o&&!!e("dweb_shopping_onebar_brand_values_filter",{dangerouslySkipActivation:!0}).anyEnabled}},735243:function(e,t,o){o.d(t,{Z:()=>n});var r=o(616550),i=o(613567),a=o(575820);function n(){let{checkExperiment:e}=(0,i.F)(),t=(0,r.TH)(),{colors:o}=(0,a.mB)(t.search);return!!o&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,o){o.d(t,{Z:()=>i});var r=o(613567);function i(){let{checkExperiment:e}=(0,r.F)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,o){o.d(t,{Z:()=>a});var r=o(616550),i=o(575820);function a(){return!!(0,i.mB)((0,r.TH)().search).domains}},655068:function(e,t,o){o.d(t,{Z:()=>a});var r=o(616550),i=o(575820);function a(){let e=(0,r.TH)(),{on_sale:t}=(0,i.mB)(e.search);return!!t}},531624:function(e,t,o){o.d(t,{Z:()=>a});var r=o(616550),i=o(575820);function a(){let e=(0,r.TH)(),{price_max:t,price_min:o}=(0,i.mB)(e.search);return!!(o??t)}},885086:function(e,t,o){o.d(t,{Z:()=>n});var r=o(616550),i=o(613567),a=o(575820);function n(){let{checkExperiment:e}=(0,i.F)(),t=(0,r.TH)(),{style:o}=(0,a.mB)(t.search);return!!o&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},272598:function(e,t,o){o.d(t,{Z:()=>j});var r=o(667294),i=o(883119),a=o(505633),n=o(521367),l=o(465784),s=o(986475),d=o(640200),c=o(721703),_=o(271245),u=o(785893);let h=(0,_.Z)(()=>o.e("88929").then(o.bind(o,775533)),{ssr:!1}),p=(0,_.Z)(()=>o.e("33629").then(o.bind(o,282842)),{ssr:!1}),b=(0,_.Z)(()=>Promise.all([o.e("6608"),o.e("63833")]).then(o.bind(o,568432)),{ssr:!1}),x=(0,_.Z)(()=>o.e("12026").then(o.bind(o,788635)),{ssr:!1}),m=(0,_.Z)(()=>Promise.all([o.e("66276"),o.e("3799")]).then(o.bind(o,50415)),{ssr:!1}),f=(0,_.Z)(()=>o.e("3256").then(o.bind(o,126963)),{ssr:!1}),g=(0,_.Z)(()=>o.e("1295").then(o.bind(o,826241)),{ssr:!1}),v=(0,_.Z)(()=>o.e("29376").then(o.bind(o,708459)),{ssr:!1}),y=(0,_.Z)(()=>o.e("28234").then(o.bind(o,182112)),{ssr:!1}),w=[505420,505933,506173,506124,506436];function j({placementId:e}){return(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(n.a3,{eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],placementId:e,children:({complete:t,dismiss:o,experience:{experience_id:r,display_data:n}})=>{let _=function(e){switch(e){case 504721:return g;case 504569:return f;case 504032:return v;case 502271:return p;case 505093:return y;default:return h}}(r),j=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(r);return(0,u.jsxs)(i.xu,{children:[!w.includes(r)&&(0,u.jsx)(l.ZP,{accessibilityModalLabel:"",onDismiss:o,size:j,children:(0,u.jsx)(_,{...(0,s.Z)(d.Z)(n),experienceId:r,handleComplete:t,handleDismiss:o,placementId:e})}),506124===r&&(0,u.jsx)(b,{handleComplete:t,handleDismiss:o,isDesktop:!0,isGooglePrimary:!0,...(0,s.Z)(d.Z)(n)}),(506173===r||506436===r)&&(0,u.jsx)(b,{handleComplete:t,handleDismiss:o,isDesktop:!0,isGooglePrimary:!1,...(0,s.Z)(d.Z)(n)}),505420===r&&(0,u.jsx)(m,{experienceId:505420,onSubmitSurvey:async()=>{(0,a.Z)((0,c.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:e,viewType:251}),505933===r&&(0,u.jsx)(x,{handleComplete:()=>{t(),(0,a.Z)((0,c.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:o,onAdsReportingSurface:!1})]})}})})}},589641:function(e,t,o){o.d(t,{ZP:()=>f,MY:()=>x,H$:()=>m});var r=o(667294),i=o(883119),a=o(138596),n=o(216975),l=o(785893);function s({shouldBlock:e,updateShouldBlock:t,user:o}){let r=(0,a.ZP)(),{fullName:s,username:d}=o,c=s?`${s} (${d})`:d;return(0,l.jsxs)(i.xu,{paddingY:3,children:[(0,l.jsx)(i.xv,{size:"100",children:(0,n.nk)(r._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:c})}),(0,l.jsxs)(i.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,l.jsx)(i.xu,{marginEnd:2,children:(0,l.jsx)(i.XZ,{checked:e,id:"blockUser",onChange:t})}),(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.xv,{size:"300",children:(0,n.nk)(r._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,l.jsx)(i.xv,{inline:!0,size:"300",weight:"bold",children:(0,l.jsx)(i.rU,{display:"inlineBlock",href:`/${d}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:c},"blockUserLink")})})})})]})]})}let d={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function c({objectToReport:e,selectedReason:t,shouldBlockUser:o,renderVideoReasonDetailPage:r,updateShouldBlockUser:a}){let{detail_page_removal_examples:n,detail_page_removal_example_header:c,detail_page_non_removal_examples:_,detail_page_non_removal_example_header:u,detail_page_additional_text:h}=t;return(0,l.jsxs)(i.xu,{paddingX:8,children:[(0,l.jsxs)(i.xu,{paddingY:3,children:[(0,l.jsx)(i.xv,{size:"100",children:c}),n.length>0&&(0,l.jsx)(i.xu,{paddingY:2,children:(0,l.jsx)("ul",{children:n.map((e,t)=>(0,l.jsx)("li",{style:d,children:(0,l.jsx)(i.xv,{size:"300",children:e})},`removals-${t}`))})})]}),_.length>0&&(0,l.jsxs)(i.xu,{paddingY:3,children:[(0,l.jsx)(i.xv,{size:"100",children:u}),(0,l.jsx)(i.xu,{paddingY:2,children:(0,l.jsx)("ul",{children:_.map((e,t)=>(0,l.jsx)("li",{style:d,children:(0,l.jsx)(i.xv,{size:"300",children:e})},`removals-${t}`))})})]}),h&&(0,l.jsx)(i.xu,{paddingY:3,children:(0,l.jsx)(i.xv,{size:"300",children:h})}),r&&r(),"conversation"===e.type&&a&&e.userToBlock&&(0,l.jsx)(s,{shouldBlock:!!o,updateShouldBlock:a,user:{username:e.userToBlock.username,fullName:e.userToBlock.fullName}})]})}var _=o(230201);function u({isSelectionStep:e,hasTimestampErrors:t,selectedReason:o,handleSubmitReport:r,onDismiss:n,step:s,shouldBlockUser:d,objectToReport:c,setStep:u}){let h=(0,a.ZP)(),{logContextEvent:p}=(0,_.v)(),b=({component:e,element:t,event:o})=>{c&&p({event_type:o,component:e,element:t,object_id_str:c.id,view_parameter:c.viewParameter||void 0,view_type:c.viewType||void 0})},f=e=>{c.type===m.PIN&&b({event:59,element:e.element_type}),window.open(e.open_web_url,"_blank"),n()},g=e=>()=>{e!==x&&b({event:101,component:13179,...o?{element:o.element_type}:{}}),u(e)},v=e&&!o?.key||!e&&t,y=!(!1===s&&o?.secondary_reasons&&o.secondary_reasons.length>0),w=e?h._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):h._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),j=e?g(!1):()=>{o&&r({reasonKey:o.key,selectedReason:o,shouldBlockUser:d})};o?.open_web_url&&(j=()=>f(o));let P=e?h._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):h._('Back', 'ReportModal.backButton', 'Back button'),A=e?n:g(!0);return(0,l.jsxs)(i.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,l.jsx)(i.xu,{paddingX:1,children:(0,l.jsx)(i.xu,{"data-test-id":"report-pin-back-button",children:(0,l.jsx)(i.zx,{onClick:A,size:"lg",text:P})})}),y&&(0,l.jsx)(i.xu,{paddingX:1,children:(0,l.jsx)(i.xu,{"data-test-id":"report-pin-submit-button",children:(0,l.jsx)(i.zx,{color:"red",disabled:v??!1,onClick:j,size:"lg",text:w})})})]})}var h=o(439);function p({handleSelectedReason:e,reason:t,reportingReasons:o}){let r=(0,a.ZP)();return(0,l.jsx)(i.xu,{paddingX:4,paddingY:2,children:(0,l.jsx)(i.FX,{id:"select-reporting-reason",legend:r._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:o.map(o=>(0,l.jsx)(i.xu,{direction:"row",display:"flex",paddingX:4,children:(0,l.jsx)(i.xu,{"data-test-id":`report-pin-reason-${o.key}`,children:(0,l.jsx)(i.FX.RadioButton,{checked:o.key===t,helperText:o.secondary_text||"",id:o.key,label:o.primary_text||"",name:"reportPinOptions",onChange:()=>e(o),value:o.key})})},`Option-${o.key}`))})})}var b=o(465784);let x=!0,m={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function f({onDismiss:e,handleSubmitReport:t,hasTimestampErrors:o,objectToReport:n,renderVideoReasonDetailPage:s,reportingReasons:d}){let _=(0,a.ZP)(),[f,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[w,j]=(0,r.useState)(x),P=e=>{g(e)},A=()=>{if(w!==x&&f?.detail_page_header_text)return f.detail_page_header_text;switch(n.type){case m.PIN:return _._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case m.USER:return _._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case m.CONVERSATION:return _._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case m.BOARD:return _._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return d?(0,l.jsx)(b.ZP,{accessibilityModalLabel:A(),footer:d&&(0,l.jsx)(u,{handleSubmitReport:t,hasTimestampErrors:o,isSelectionStep:w===x,objectToReport:n,onDismiss:e,selectedReason:f,setStep:j,shouldBlockUser:v,step:w}),heading:A(),onDismiss:e,children:(0,l.jsxs)(i.xu,{children:[w===x&&(0,l.jsx)(p,{handleSelectedReason:P,reason:f?.key,reportingReasons:d}),w!==x&&f?.secondary_reasons&&f.secondary_reasons.length>0?(0,l.jsx)(h.Z,{onChange:P,secondaryReasons:f.secondary_reasons}):w!==x&&f&&(0,l.jsx)(c,{objectToReport:n,renderVideoReasonDetailPage:s,selectedReason:f,shouldBlockUser:v,updateShouldBlockUser:()=>{n.userToBlock&&y(!v)}})]})}):(0,l.jsx)(i.$j,{accessibilityLabel:_._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},439:function(e,t,o){o.d(t,{Z:()=>n});var r=o(883119),i=o(138596),a=o(785893);function n({onChange:e,secondaryReasons:t}){let o=(0,i.ZP)();return(0,a.jsx)(r.xu,{children:t.map(t=>(0,a.jsx)(r.iP,{onTap:()=>t.open_web_url?window.open(t.open_web_url,"_blank"):e(t),children:(0,a.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,a.jsx)(r.xu,{paddingX:8,children:(0,a.jsx)(r.xv,{children:t.primary_text})}),(0,a.jsx)(r.xu,{paddingX:8,children:t.open_web_url?(0,a.jsx)(r.JO,{accessibilityLabel:o._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",icon:"arrow-up-right"}):(0,a.jsx)(r.JO,{accessibilityLabel:o._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",icon:"arrow-forward"})})]})},t.key))})}},433069:function(e,t,o){o.d(t,{G:()=>l,b:()=>s});var r=o(667294),i=o(616550),a=o(785893);let n=(0,r.createContext)(!0);function l({children:e}){let t=(0,i.TH)(),[o,l]=(0,r.useState)(!0),s=(0,r.useRef)(t);return(0,r.useEffect)(()=>{s.current!==t&&(s.current=t,l(!1))},[t]),(0,a.jsx)(n.Provider,{value:o,children:e})}function s(){return(0,r.useContext)(n)}},564023:function(e,t,o){o.d(t,{Z:()=>i});var r=o(681698);let i=async e=>(await (0,r.Z)({url:`/v3/board/${e}/report_reasons/`})).resource_response.data},711960:function(e,t,o){o.d(t,{Z:()=>i});var r=o(681698);let i=async(e,t)=>await (0,r.Z)({url:`/v3/board/${e}/flag/`,method:"POST",data:t})},877263:function(e,t,o){o.d(t,{Z:()=>l});var r=o(924591),i=o(138596),a=o(577356),n=o(785893);function l(){let e=(0,i.ZP)(),{showToast:t}=(0,a.F9)();return{showErrorToast:()=>{t(({hideToast:t})=>(0,n.jsx)(r.Z,{onHide:t,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')}))},showSuccessToast:()=>{t(({hideToast:t})=>(0,n.jsx)(r.Z,{onHide:t,text:e._('Thanks. For updates, see your reports and violations center.', 'userReporting.handleSubmitReport.toast', 'This string appears on a banner that is displayed for a few seconds after the user submits a report, such as for content that violates Pinterest\u2019s policies. This banner confirms receipt and lets the user know where they can find updates. \u201Creports and violations center\u201D is the name of a feature within settings. It is a common noun. The tone of this is neutral and calm.')}))}}}},880201:function(e,t,o){o.d(t,{Z:()=>_});var r=o(667294),i=o(883119),a=o(104999),n=o(648999),l=o(138596),s=o(785893);let d=(0,r.lazy)(()=>o.e("92871").then(o.bind(o,541583))),c={sm:12,md:16,lg:20,xl:24};function _({isVerifiedMerchant:e,size:t,showText:o,showVerifiedIdentity:_,inspirationalBadges:u,inspirationalBadgesColor:h}){let p=(0,l.ZP)(),[b,x]=(0,r.useState)(!1),{dangerousInlineStyle:m,iconColor:f}=(0,n.Z)(!!e),g=(0,a.Z)();return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(i.iP,{onTap:()=>{g({component:13534,element:11717,event_type:102}),x(!0)},rounding:"circle",children:(0,s.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:m,"data-test-id":"verified-badge-icon","data-unadopted-gestalt":"Badge",display:"flex",children:[(0,s.jsx)(i.JO,{accessibilityLabel:e?p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):p._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:f,icon:"workflow-status-ok",inline:!0,size:c[t]}),o&&!_&&(0,s.jsx)(i.xu,{marginStart:2,children:(0,s.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:m,children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||o&&!_)&&b&&(0,s.jsx)(r.Suspense,{children:(0,s.jsx)(d,{inspirationalBadges:u,inspirationalBadgesColor:h,setShowModal:x,showModal:b})})]})}},767894:function(e,t,o){o.d(t,{Z:()=>h,w:()=>p});var r=o(216975);let i=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),a=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),n=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),l=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),s=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),d=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),_=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),u=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)');function h(e,t){let o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,r.nk)(i(t),o);case 2:return(0,r.nk)(a(t),o);case 3:return(0,r.nk)(n(t),o);case 4:return(0,r.nk)(l(t),o);case 5:return(0,r.nk)(s(t),o);case 6:return(0,r.nk)(d(t),o);default:return(0,r.nk)(_(t),o)}}function p(e,t){let o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,r.nk)(i(t),o);case 2:return(0,r.nk)(a(t),o);case 3:return(0,r.nk)(n(t),o);case 4:return(0,r.nk)(l(t),o);case 5:return(0,r.nk)(s(t),o);case 6:return(0,r.nk)(d(t),o);case 7:return(0,r.nk)(c(t),o);default:return(0,r.nk)(u(t),o)}}},59355:function(e,t,o){o.d(t,{Q:()=>s,Z:()=>d});var r=o(667294),i=o(104999),a=o(746868),n=o(730056),l=o(774838);function s(e,t){let{setViewContextData:o}=(0,a.sV)(),{requestIdentifier:s}=(0,l.B)(),d=(0,i.Z)(),{viewData:c}=(0,a.SU)();(0,r.useEffect)(()=>{e&&(o({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,n.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:o}=e;return s(o),t||null}},213491:function(e,t,o){o.d(t,{Z:()=>a});var r=o(667294);function i(e,t){let o="consumer"===t?`${e}Consumer`:`use${e}`;return`
  ${o} must be used within a ${e}Provider.
  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.
  `}function a(e,t){let o;let a=(0,r.createContext)(t),n=(o=(o=e.slice(1)).endsWith("Context")?o:`${o}Context`,`${e[0].toUpperCase()}${o}`);a.displayName=n;let{Provider:l}=a,s=({children:e})=>{let t=(0,r.useContext)(a);if(void 0===t)throw Error(i(n,"consumer"));return e(t)},d=()=>(0,r.useContext)(a);return l.displayName=`${n}Provider`,s.displayName=`${n}Consumer`,{Provider:l,Consumer:s,MaybeConsumer:({children:e})=>e((0,r.useContext)(a)),useMaybeHook:d,useHook:function(){let e=d();if(void 0===e)throw Error(i(n,"hook"));return e}}}},673434:function(e,t,o){o.d(t,{Z:()=>r});let r=e=>Math.floor(new Date(e).getTime()/1e3)},824870:function(e,t,o){o.d(t,{Z:()=>c});var r=o(667294),i=o(15881),a=o(818244),n=o(613567),l=o(418282),s=o(739405);let d=new Map([["enabled_3_pages",3],["enabled_4_pages",4],["enabled_4_pages_rollout",4],["enabled_5_pages",5]]);function c({pageUniqueKey:e,containerPage:t}){let o=(0,a.g)(),c=(0,s.HG)(),{checkExperiment:_}=(0,n.F)(),u=(0,l.Nl)(),h=c&&d.get(_("upsell_diversity_navigational_pages").group);(0,r.useEffect)(()=>{if(h&&o&&!u.getItem(i.J7)){let r=JSON.parse(u.getItem(i.uL)??"[]");r.length+1>=h&&!r.includes(e)?(o.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),u.setItem(i.J7,"true"),u.removeItem(i.uL)):u.setItem(i.uL,JSON.stringify([...new Set([...r,e])]))}},[e,t,h,o,u])}},648999:function(e,t,o){o.d(t,{Z:()=>r});let r=e=>{let t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}}},730056:function(e,t,o){o.d(t,{Z:()=>function e(t,o,r=()=>void 0){let i=r(t,o);return void 0!==i?i:void 0===o?t:Array.isArray(t)&&Array.isArray(o)?o.reduce((t,i,a)=>(t[a]=e(t[a],o[a],r),t),[...t]):t&&"object"==typeof t&&o&&"object"==typeof o?Object.keys(o).reduce((t,i)=>(t[i]=e(t[i],o[i],r),t),{...t}):o}})},160125:function(e,t,o){o.d(t,{GH:()=>s,JF:()=>m,Jb:()=>h,MI:()=>b,_V:()=>d,fi:()=>f,sl:()=>_,we:()=>u});var r=o(673434),i=o(681698),a=o(877904),n=o(951608),l=o(865043);let s="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],_=e=>{e&&(0,l.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,l.dy)({event:"global_object_not_found",provider:"facebook"}):(0,l.My)("pcons.non_autologin.fb.global_object_not_found")},u=(e,t)=>(t&&(0,l.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,n.Z)(e),"FACEBOOK").then(()=>_(t))),h=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),p=({userID:e,accessToken:t,data:{birthday:o,email:i,first_name:a,gender:n,last_name:l,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:o?(0,r.Z)(o):void 0,email:i,first_name:a,gender:n,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:l});async function b(e){let t=(await (0,i.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}})).resource_response.data||{};return(0,l.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let x=(e,t)=>new Promise((o,r)=>{if("connected"!==e.status){r({status:e.status||"unknown"});return}let{userID:i,accessToken:a}=e.authResponse;b(a).then(e=>{o({creds:{facebook_id:i,facebook_token:a,facebook_autologin:t?.autologin||!1},signupOptions:p({userID:i,accessToken:a,data:e})})},r)}),m=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>x(e)),f=async(e,t)=>{await u(e,!1);let o=await h(),r=t?"dweb":"mweb";if("connected"===o.status){(0,l.My)(`${r}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=o.authResponse;try{let o=await (0,i.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(o?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:i}=o.resource_response.data,a=e||t;return(0,l.My)(`${r}.login_data_from_fb_token.success`),{isGoogleConnected:a,hasPassword:i,isFBAuthOnly:!a&&!i}}(0,l.My)(`${r}.login_data_from_fb_token.no_data`)}catch{(0,l.My)(`${r}.login_data_from_fb_token.error`)}}return null}},613567:function(e,t,o){o.d(t,{F:()=>i,a:()=>r});let{Provider:r,useHook:i}=(0,o(213491).Z)("ExperimentContext")},774838:function(e,t,o){o.d(t,{B:()=>c,LC:()=>d,P2:()=>s,gf:()=>_});var r=o(667294),i=o(659541),a=o(907049),n=o(785893);let l=(0,r.createContext)();function s({children:e,initialValue:t}){let[o,s]=(0,r.useState)(t),d=(0,r.useMemo)(()=>({requestContext:o,updateRequestContext:e=>{let t={...o,...e};(0,a.Z)(o,e)||s(t),(0,i.J)(t)}}),[o]);return(0,n.jsx)(l.Provider,{value:d,children:e})}let d=({children:e})=>{let t=(0,r.useContext)(l);if(!t)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function c(){let e=(0,r.useContext)(l);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function _(){let e=(0,r.useContext)(l);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},659541:function(e,t,o){let r;function i(e){r=e}function a(){return r}o.d(t,{J:()=>i,l:()=>a})},81179:function(e,t,o){o.d(t,{Z:()=>r});function r(e,t){let o;if(e.error){let{httpStatus:r,api_error_code:i,redirectUrl:a}=e.error;(404===r||401===r&&7===i)&&(o={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===r&&a&&(o={pathname:a})}return o}},317109:function(e,t,o){o.d(t,{Z:()=>l});var r=o(667294),i=o(653015);function a({children:e}){if("undefined"==typeof window)throw Error(i.u);return e}var n=o(785893);function l({children:e,fallback:t}){return(0,n.jsx)(r.Suspense,{fallback:t,children:(0,n.jsx)(a,{children:e})})}},477738:function(e,t,o){o.d(t,{Hd:()=>d,_R:()=>l,gi:()=>a,lw:()=>r,oD:()=>i,wF:()=>s,zh:()=>n});let r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},i=e=>Object.values(r).find(t=>t===e)??void 0,a=e=>{switch(e){case r.PINS:return 0;case r.PINS_MINE:return null;case r.PINS_BUYABLE:return 1;case r.PINS_VIDEO:return 2;case r.BOARDS:return 3;case r.USERS:return 4;default:return null}},n=e=>{switch(e){case 0:return r.PINS;case 1:return r.PINS_BUYABLE;case 2:return r.PINS_VIDEO;case 3:return r.BOARDS;case 4:return r.USERS;default:return null}},l=e=>{switch(e){case r.PINS_MINE:case r.MY_CONTENT:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.SHOP_TOOL:return 3380;case r.BOARDS:return 44;case r.USERS:return 45;case r.PINS:default:return 43}},s=e=>{switch(e){case r.PINS:return 60;case r.PINS_MINE:case r.MY_CONTENT:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}},d=(e,t)=>{if(t)switch(e){case r.USERS:return 1000392;case r.PINS_BUYABLE:return 1000391;case r.PINS:default:return 29}switch(e){case r.USERS:return 1000432;case r.PINS_BUYABLE:return 1000433;case r.PINS:default:return 1000269}}},892232:function(e,t,o){o.d(t,{Z:()=>a});var r=o(575820),i=o(99737);function a(e){if(!e)return"";let{directory:t,queryKey:o}=(0,i.Z)((0,r.Gw)(e,["request_params"]));return t+"?"+Object.keys(o).sort().map(e=>`${e}=${o[e]}`).join("&")}},830293:function(e,t,o){o.d(t,{Ht:()=>n,Tb:()=>a});var r=o(892232),i=o(405897);function a({appliedProductFilters:e,appliedUnifiedFilters:t,autoCorrectionDisabled:o,filters:r,journeyDepth:i,query:a,rs:n,scope:l,selectedOneBarModules:s,selectedPinImgSig:d,sourceId:c,sourceModuleId:_,topPinIds:u,user:h}){let p=[e,r,i,a,n,l,s,d,c,_,t,u,h].map(e=>e??"").join(":");return o?"auto-correction-disabled:"+p:p}function n(e){let{appliedProductFilters:t,appliedUnifiedFilters:o,autoCorrectionDisabled:a,bubbleId:n,domains:l,dynamicPageSizeExpGroup:s,filters:d,guidedSearchQuery:c,journeyDepth:_,pageSize:u,priceMax:h,priceMin:p,query:b,requestParams:x,rs:m,scope:f,selectedOneBarModules:g,selectedPinImgSig:v,seoDrawerEnabled:y,sourceId:w,sourceModuleId:j,sourceUrl:P,topPinId:A,topPinIds:C,user:S}=e;return{name:"BaseSearchResource",options:function({appliedUnifiedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:o=!1,bubbleId:a=null,domains:n=null,dynamicPageSizeExpGroup:l=null,filters:s=null,journeyDepth:d=null,pageSize:c=null,priceMax:_=null,priceMin:u=null,query:h="",requestParams:p=null,rs:b=i.i.DIRECT_NAVIGATION,scope:x="pins",selectedOneBarModules:m=null,selectedPinImgSig:f=null,seoDrawerEnabled:g=!1,sourceId:v=null,sourceModuleId:y=null,sourceUrl:w=null,topPinId:j=null,topPinIds:P=null,user:A}){return{applied_unified_filters:e,appliedProductFilters:t,article:a,auto_correction_disabled:o,corpus:f?"personalize":null,customized_rerank_type:f?"manas_graph_sage_only_wand_rewrite":null,domains:n,dynamicPageSizeExpGroup:l,filters:s,journey_depth:d,page_size:c,price_max:_,price_min:u,query_pin_sigs:f,query:h,redux_normalize_feed:!0,request_params:p,rs:b,scope:x,selected_one_bar_modules:m,seoDrawerEnabled:g,source_id:v,source_module_id:y,source_url:(0,r.Z)(w),top_pin_id:j,top_pin_ids:P,user:A}}({appliedProductFilters:t,appliedUnifiedFilters:o,autoCorrectionDisabled:!!a,bubbleId:n,domains:l,dynamicPageSizeExpGroup:s,filters:d,guidedSearchQuery:c,journeyDepth:_,pageSize:u,priceMax:h,priceMin:p,query:b,requestParams:x,rs:m,scope:f,selectedOneBarModules:g,selectedPinImgSig:v,seoDrawerEnabled:y,sourceId:w,sourceModuleId:j,sourceUrl:P,topPinId:A,topPinIds:C,user:S})}}},907049:function(e,t,o){o.d(t,{Z:()=>r});function r(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let o=Object.keys(e),r=Object.keys(t);return o.length===r.length&&o.every(o=>e[o]===t[o])}},537701:function(e,t,o){o.d(t,{Z:()=>r});function r(e,t){let o=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(o,(e,t)=>"_"+t.toLowerCase())}},836447:function(e,t,o){o.d(t,{Z:()=>i});var r=o(575820);function i(e){let{boardId:t,username:o,slug:i}=e;return t?(0,r.tV)`/v3/boards/${t}/`:o&&i?(0,r.tV)`/v3/boards/${o}/${i}/`:null}},739405:function(e,t,o){o.d(t,{HG:()=>_,Kf:()=>n,Wb:()=>c,ZP:()=>u,dA:()=>l,ds:()=>s,ml:()=>d});var r=o(374535),i=o(774838);let a=()=>{let e=(0,i.B)();return(0,r.Z)(e)},n=e=>"phone"===e,l=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>n(a()),c=()=>l(a()),_=()=>s(a()),u=a},462867:function(e,t,o){o.d(t,{$:()=>r,Z:()=>a});let{Provider:r,useHook:i}=(0,o(213491).Z)("viewer"),a=i},121614:function(e,t,o){o.r(t),o.d(t,{default:()=>y,BoardCollabFlyout:()=>v});var r=o(667294),i=o(616550),a=o(883119),n=o(138596),l=o(739405),s=o(462867),d=o(727208),c=o(661376),_=o(836447),u=o(704472),h=o(129748),p=o(785893);function b({board:e,scrollInfo:t}){let o=(0,n.ZP)(),i=(0,c.Z)({name:"ApiResource",options:{url:_.Z({boardId:e.id})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!i.isLoaded)return(0,p.jsx)(a.$j,{accessibilityLabel:o._('Loading', 'Loading spinner when rendering users', 'Loading spinner when rendering users'),show:!0});{let{owner:o}=e,{data:a,isAtEnd:n,isFetching:l,fetchMore:s}=i,d=[o,...a||[]];return(0,p.jsxs)(r.Fragment,{children:[t?(0,p.jsx)(h.Z,{fetchMore:s,isAtEnd:n,isFetching:l,scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top}):null,d.map(e=>{let{full_name:t,id:o,image_medium_url:r,username:i}=e;return(0,p.jsx)(u.Z,{imageUrl:r??"",linkURL:`/${i}/`,name:t??"",subtitle:i,title:t??""},o)})]})}}var x=o(260510),m=o(887742),f=o(500602);function g(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class v extends r.Component{constructor(...e){super(...e),g(this,"state",{contentRef:null,scrollContainer:null,scrollTop:null}),g(this,"handleBoardLeave",()=>{let{history:e,viewer:t}=this.props,o=t.isAuth?`/${t.username}`:"/";e.replace(o)}),g(this,"handleContentRef",e=>{let{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),g(this,"handleScrollContainer",e=>{let{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),g(this,"handleScroll",()=>{let{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})})}renderInvite(e,t,o){if(!e.invited_user)return null;let r={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:o,useGestaltModal:!0,isDim:!1};return(0,p.jsx)(d.Z,{...r})}render(){let{anchor:e,board:t,onDismiss:o,viewer:r}=this.props,{scrollContainer:i,scrollTop:n}=this.state,l=r.isAuth&&r.username===t.owner.username,s=i?{container:i,top:n||0}:null,d=(t.access||[]).includes("write");return(0,p.jsx)(m.k,{viewerIsOwner:l,children:(0,p.jsx)(a.mh,{children:(0,p.jsx)(a.xu,{position:"absolute",top:!0,zIndex:f.BO,children:(0,p.jsx)(a.J2,{anchor:e,idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,p.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:320,width:"100%",children:[(0,p.jsx)(a.Le,{top:0,children:(0,p.jsx)(a.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:(0,p.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,p.jsx)(a.xv,{size:"300",weight:"bold",children:this.props.i18n._('Group members', 'boardCollabFlyout.header', 'Heading for the group members flyout')})})})}),(0,p.jsx)(a.xu,{overflow:"scrollY",children:(0,p.jsx)(a.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,p.jsx)(x.Z,{board:t,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,scrollInfo:s}):(0,p.jsx)(b,{board:t,scrollInfo:s})})})]})})})})})}}function y(e){let t=(0,n.ZP)(),o=(0,s.Z)(),r=(0,i.k6)(),a=(0,l.HG)();return(0,p.jsx)(v,{...e,history:r,i18n:t,isDesktop:a,viewer:o})}},494843:function(e,t,o){o.d(t,{Z:()=>r});let r={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},850724:function(e,t,o){o.d(t,{Z:()=>f});var r=o(814702),i=o(883119),a=o(104999),n=o(351736),l=o(774838),s=o(739405),d=o(893957),c=o(631284),_=o(785893);function u({action:e,alignCenter:t,auxData:o={}}){let r=(0,a.Z)(),n=(0,s.HG)(),{title:l,description:d,button:u}=e,h=l&&l.text,p=d&&d.text,b=u&&u.text||"",x=u&&u.link||"";return(0,_.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[!!h&&(0,_.jsx)(i.xv,{align:t?"center":"start",weight:"bold",children:h}),!!p&&(0,_.jsx)(i.xv,{align:t?"center":"start",children:p}),!!(u&&b&&x)&&(0,_.jsx)(i.xu,{paddingY:3,children:(0,_.jsx)(i.zx,{color:"white",fullWidth:!0,onClick:()=>{(0,c.qA)({logContextEvent:r,auxData:{url:x,...o},isDesktop:n}),window.location.replace(x)},text:b})})]})}var h=o(384544),p=o(767415);let b={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},x={backgroundColor:"#DDF3F2",...b},m={backgroundColor:"#21374B",...b};function f({alignCenter:e,boardId:t,boardSectionId:o,notice:b,viewType:f,viewParameter:g,query:v,sensitivity:y}){let w=(0,a.Z)(),j=b?.actions??[],P=b?.description,A=P?.text||"",C=P?.text_tags||[],S=b?.title,z=b?.footer,B=(0,l.B)(),I=(0,s.HG)(),k={advisory_level:y?.advisory,entered_query:v,severity_level:y?.severity,stage:B.stage,advisory_type:y?.advisory_type,resource_country:y?.resource_country},Z=(0,h.Z)(A,C,w,k,I);return(0,d.Z)(()=>{f&&(w({aux_data:k,event_type:120,component:13367,view_parameter:g,view_type:f}),(0,p.QX)("webapp.searchAdvisories.view",1,{sampleRate:1,tags:{advisory_level:k.advisory_level,advisory_type:k.advisory_type,app:I?"DESKTOP_WEB":"MOBILE_WEB",resource_country:k.resource_country,placement:5===f?"board":"search"}})),t&&5===f&&w({aux_data:{board_id:t,board_section_id:o??0},component:178,event_type:15549,view_parameter:g,view_type:f})}),(0,_.jsxs)(i.xu,{children:[(0,_.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:(0,n.Yc)()?m:x},"data-test-id":"search-advisory",margin:"auto",marginBottom:8,marginTop:6,maxWidth:"800px",padding:6,rounding:2,children:[!!S&&(0,_.jsx)(i.xu,{display:"flex",justifyContent:e?"center":void 0,marginBottom:3,children:(0,_.jsx)(i.X6,{size:"500",children:S})}),!!A&&(0,_.jsx)(i.xu,{marginBottom:4,children:(0,_.jsx)(i.xv,{size:"100",children:Z})}),j.map(t=>(0,_.jsx)(i.xu,{paddingY:j.length>1?2:0,children:(0,_.jsx)(u,{action:t,alignCenter:e,auxData:k})},t.id))]}),!!z&&(0,_.jsx)(i.xu,{marginTop:4,children:(0,_.jsx)(i.xv,{color:"subtle",size:"100",children:(0,_.jsx)(r.Z,{options:{overrides:{b:{component:({children:e})=>(0,_.jsx)(i.rU,{display:"inlineBlock",href:z.link??"",onClick:()=>{(0,c.qA)({logContextEvent:w,auxData:{url:z.link,...k},isDesktop:I})},target:"blank",children:(0,_.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:e})},z.link)}}},children:z.text})})})]})}},384544:function(e,t,o){o.d(t,{Z:()=>n});var r=o(883119),i=o(631284),a=o(785893);function n(e,t,o,l={},s){let d=[],c=0;for(let n=0;n<t.length;n+=1){let _=t[n];if(5===_.tag_type&&_.link){let{offset:t,length:u,link:h}=_;if(null!=t&&null!=u&&null!=h){let _=e.substring(t,t+u),p=(0,a.jsx)(r.rU,{display:"inline",href:h,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,i.qA)({auxData:{...l,url:h},isDesktop:s,logContextEvent:o})},target:"blank",underline:"hover",children:(0,a.jsx)(r.xv,{inline:!0,weight:"bold",children:_})},`link-${n}-${_}`);d.push((0,a.jsx)(r.xv,{inline:!0,children:e.substring(c,t)},`text-${n}-${_}`)),d.push(p),c=t+u}}}return(c>0&&d.push((0,a.jsx)(r.xv,{inline:!0,children:e.substring(c)},e.substring(c))),0===d.length)?[(0,a.jsx)("span",{children:e},e)]:d}},532282:function(e,t,o){o.d(t,{Z:()=>p});var r=o(667294),i=o(883119),a=o(351736),n=o(289935),l=o(609252),s=o(70625),d=o(564377),c=o(74972),_=o(785893);let u={__style:{border:(0,a.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,a.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out, visibility 0.5s",WebkitOverflowScrolling:"touch"}},h={modalOpen:{__style:{...u.__style}},modalClose:{__style:{...u.__style,transform:"translate3d(0px, 100%, 0px)",visibility:"hidden"}}};function p({accessibilityModalLabel:e,allowClickAndDrag:t,children:o,isOpen:a}){let{setAppFocusState:u}=(0,c.I)(),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>(a&&(l.Z.pause(),u(!1),document.body&&(document.body.style.overflow="hidden")),()=>{a&&(l.Z.resume(),u(!0),document.body&&(document.body.style.overflow=""))}),[a,u]),(0,_.jsx)(d.Z,{allowClickAndDrag:t,children:(0,_.jsx)(i.mh,{zIndex:n.b7,children:(0,_.jsx)(i.xu,{"aria-label":e,display:"inlineBlock",role:"dialog",children:(0,_.jsx)(i.xu,{ref:p,dangerouslySetInlineStyle:{__style:a?h.modalOpen.__style:h.modalClose.__style},children:(0,_.jsx)(s.Z.Provider,{value:p.current,children:o})})})})})}},488661:function(e,t,o){o.d(t,{HW:()=>n,YW:()=>_,i3:()=>u,o2:()=>c});var r=o(667294),i=o(213491),a=o(785893);let n=660,l={educationId:null,paddingRight:0,zIndex:660};function s(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:r}=t.payload;return{...e,paddingRight:r};case"FOOTER_SET_Z_INDEX":let{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}let{Provider:d,Consumer:c,useHook:_}=(0,i.Z)("footerContext");function u({children:e}){let[t,o]=(0,r.useReducer)(s,l),i=(0,r.useCallback)(e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),n=(0,r.useCallback)(e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),c=(0,r.useCallback)(e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),_=(0,r.useMemo)(()=>({...t,setEducationId:n,setPaddingRight:i,setZIndex:c}),[t,n,i,c]);return(0,a.jsx)(d,{value:_,children:e})}},105435:function(e,t,o){o.d(t,{Z:()=>l});var r=o(667294),i=o(730448);function a(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let n=({scrollTop:e,clientHeight:t,scrollHeight:o},r)=>e+t+(r?r(t):2*t)>o;class l extends r.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",(0,i.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&n(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},775196:function(e,t,o){o.d(t,{Z:()=>u});var r=o(667294),i=o(883119),a=o(178315),n=o(613567),l=o(774838),s=o(730448),d=o(785893);function c(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class _ extends r.PureComponent{constructor(...e){super(...e),c(this,"onScroll",(0,s.Z)(()=>{if(this.anchorElement){let e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());let{isOnView:t}=this;t()&&this.props.onView?.()}},this.props.throttleTime||100)),c(this,"wasViewed",()=>{let e=this.anchorElement?.getBoundingClientRect();return!!e&&e.top<=a.R$}),c(this,"isOnView",()=>{let e=this.anchorElement?.getBoundingClientRect();return!!e&&e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||window.height)-150&&e.right<=(window.innerWidth||window.width)}),c(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){let{children:e}=this.props;return(0,d.jsx)(i.xu,{ref:e=>{this.anchorElement=e,this.anchorElement&&this.wasViewed()&&this.props.onView?.()},children:e})}}function u({children:e,onView:t,onEnter:o,onExit:r,throttleTime:i}){let{checkExperiment:a}=(0,n.F)(),{isAuthenticated:s}=(0,l.B)();return(0,d.jsx)(_,{checkExperiment:a,isAuth:s,onEnter:o,onExit:r,onView:t,throttleTime:i,children:e})}},687163:function(e,t,o){o.d(t,{Z:()=>l});var r=o(667294),i=o(883119),a=o(667389),n=o(785893);let l=function({badgeSize:e,badgeSpacing:t,fullName:o,isVerifiedIdentity:l,isVerifiedMerchant:s,truncate:d=!1,size:c="200"}){let _=o.split(" "),u=_.slice(0,_.length-1).join(" "),h=" ".concat(_[_.length-1]);return d?(0,n.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,n.jsx)(i.xv,{lineClamp:1,size:c,weight:"bold",children:o}),(0,n.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:(0,n.jsx)(a.Z,{isVerifiedIdentity:l,isVerifiedMerchant:s,size:e})})]}):(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)("span",{children:u}),(0,n.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h,"\xa0",(0,n.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:(0,n.jsx)(a.Z,{isVerifiedIdentity:l,isVerifiedMerchant:s,size:e})})]})]})}},500602:function(e,t,o){o.d(t,{BO:()=>w,D5:()=>C,Dk:()=>A,GC:()=>z,GJ:()=>x,L7:()=>p,Lc:()=>c,Mh:()=>l,Qf:()=>d,Qq:()=>S,Xd:()=>B,bT:()=>g,bd:()=>f,df:()=>_,dg:()=>s,dv:()=>P,kl:()=>m,m6:()=>j,mT:()=>y,nQ:()=>I,pS:()=>v,qM:()=>k,xp:()=>h,yg:()=>u,zz:()=>b});var r=o(883119),i=o(876594),a=o(492601),n=o(386385);let l="right",s=l,d=72,c="VerticalNavContent",_=24,u="lg",h="compress",p=16,b=16,x=392,m=12,f=i.mJW,g=i.Kuk,v=new r.H3([n.NW]),y=new r.Ry(n.fe-3),w=new r.H3([v,a.kl]),j=new r.H3([v]),P=2,A=8,C=4,S=3,z=12,B=20,I=24,k={menuItemPadding:"12px",anchorOffset:"16px"}},603284:function(e,t,o){o.d(t,{Z:()=>d});var r=o(667294),i=o(746868),a=o(360033),n=o(495773),l=o(785893);class s extends r.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:o,viewType:r}=this.props;e({viewData:t,viewParameter:o,viewType:r})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:o,viewParameter:r,viewType:i}=this.props;r===e.viewParameter&&i===e.viewType&&(0,a.ZP)(o,e.viewData)||t({viewData:o,viewParameter:r,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:o,objectIdStr:r,viewData:i,viewParameter:a,viewType:s,clientTrackingParams:d}=this.props;return(0,l.jsx)(n.Z,{auxData:e,clientTrackingParams:d,component:o,objectIdStr:r,viewData:i,viewParameter:a,viewType:s,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:o}=(0,i.sV)();return(0,l.jsx)(s,{...e,clearCurrentPageData:o,setCurrentPageData:t})}},616870:function(e,t,o){o.d(t,{X:()=>s,m:()=>l});var r=o(667294),i=o(213491),a=o(785893);let{Provider:n,useHook:l}=(0,i.Z)("Session");function s({children:e}){let[t,o]=(0,r.useState)(void 0),i=(0,r.useMemo)(()=>({unauthBoardInvite:t,setUnauthBoardInvite:o}),[t]);return(0,a.jsx)(n,{value:i,children:e})}},311752:function(e,t,o){o.d(t,{Z:()=>d});var r=o(667294),i=o(309947),a=o(59111),n=o(739405),l=o(596663),s=o(785893);let d=({children:e,isGetServerRenderGridHeaderStyles:t,maxColumns:o,style:d})=>{let c=(0,n.ZP)(),{experimentalColumnWidth:_,experimentalGutter:u}=(0,i.Z)(null==o),h=(0,l.s)({trafficSource:"board",deviceType:c,experimentalGutter:u})||0,p=(0,l.SY)({deviceType:c,experimentalColumnWidth:_?236:void 0}),b=`boardFeedAlignmentWrapper-${new Date().getTime()}`,x=t&&(0,l.mb)({gutterWidth:h,itemWidth:p,className:b,maxColumns:o});return(0,s.jsxs)(r.Fragment,{children:[!!x&&(0,s.jsx)(a.Z,{unsafeCSS:x}),(0,s.jsx)("div",{className:b,style:d?{...d}:{margin:"auto"},children:e})]})}},487002:function(e,t,o){o.d(t,{Z:()=>c});var r=o(667294),i=o(883119),a=o(351736),n=o(138596),l=o(292917),s=o(785893);let d=e=>e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;function c({description:e,isSeoBot:t}){let o=(0,n.ZP)(),[c,_]=(0,r.useState)(!t),[u,h]=(0,r.useState)(!1),p=(0,r.useRef)(null),b=(0,a.vs)(),x=(0,l.j)(e);return((0,r.useEffect)(()=>{p.current&&h(d(p.current))},[]),e)?(0,s.jsx)(i.xu,{"data-test-id":"board-description-container",flex:"grow",position:"relative",children:(0,s.jsxs)("div",{dir:x,children:[(0,s.jsxs)(i.xv,{ref:p,align:"ltr"===x?"forceLeft":void 0,lineClamp:c?2:0,size:"300",title:c?e:void 0,children:[e,!c&&(0,s.jsx)(i.xu,{display:"inlineBlock",children:(0,s.jsx)(i.iP,{fullWidth:!1,onTap:()=>_(!0),children:(0,s.jsx)(i.xv,{inline:!0,weight:"bold",children:o._('... less', 'boardPage.header.description.truncateDescription', 'Text for cta to show less text for the board description')})})})]}),c&&u&&(0,s.jsx)(i.xu,{bottom:!0,color:b?"dark":"light","data-test-id":"more-board-description",paddingX:1,position:"absolute",right:!0,children:(0,s.jsx)(i.iP,{fullWidth:!1,onTap:()=>_(!1),children:(0,s.jsx)(i.xv,{inline:!0,weight:"bold",children:o._('... more', 'boardPage.header.description.expandDescription', 'Text for cta to show full text for the board description')})})})]})}):null}},580188:function(e,t,o){o.d(t,{i0:()=>tj,Sk:()=>tb,ZP:()=>tP,x0:()=>ty});var r,i=o(667294),a=o(581722),n=o(616550),l=o(883119),s=o(4533),d=o(230201),c=o(351736),_=o(824870),u=o(521367),h=o(375217),p=o(924591),b=o(138596),x=o(609252),m=o(433069),f=o(176714),g=o(271202),v=o(134136),y=o(613567),w=o(705460),j=o(495839),P=o(139876),A=o(774838),C=o(81179),S=o(890678),z=o(661376),B=o(825605),I=o(34550),k=o(730448),Z=o(112658),T=o(736328),E=o(577356),O=o(575820),R=o(739405),D=o(893957),N=o(462867),U=o(603284),M=o(311752),F=o(487002),L=o(345880),H=o(785893);function $({description:e,lastModified:t,pinCount:o,sectionCount:r,isArchived:i,isAuthenticated:a,isFeaturedBoard:n=!1,isSecret:s,isSeoBot:d,showEditorialBoardTag:c}){let _=(0,R.HG)();return(0,H.jsx)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:_?void 0:"100%",children:(0,H.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column-reverse",gap:"12px"}},display:"flex",width:"100%",children:[!!e&&(0,H.jsx)(l.xv,{align:"start",inline:!0,size:"300",children:(0,H.jsx)(F.Z,{description:e,isSeoBot:d})}),(0,H.jsx)(l.xv,{color:"subtle",inline:!0,overflow:"noWrap",size:"200",children:(0,H.jsx)(L.Z,{fontSize:"200",isArchived:i,isFeaturedBoard:n,isSecret:s,lastModified:!a&&t?t:void 0,pinCount:o||0,sectionCount:r||0,showEditorialBoardTag:c})})]})})}var G=o(720459),V=o(216975),W=o(880201);function X({user:e}){let t=e?.verified_identity?.verified,o=e?.is_verified_merchant,r=t||o,i=(0,T.Z)(),{logContextEvent:a}=(0,d.v)(),n=e?.is_ads_only_profile&&e.ads_only_profile_site,s=e?.ads_only_profile_site&&n?e.ads_only_profile_site:`/${e?.username??""}/`;return(0,H.jsx)(l.xu,{"data-test-id":"user-rep",display:"inlineBlock",children:(0,H.jsx)(l.rU,{href:s,onClick:()=>{i({action:"click",item:"user-rep"}),n?a({event_type:9371,element:13382,component:13798,view_parameter:3070,aux_data:{aop_origin:"BoardHeaderDescriptionNames"}}):a({event_type:102,component:13798,view_parameter:3070})},rel:n?"nofollow":"none",tapStyle:"compress",target:n?"blank":null,underline:"auto",children:(0,H.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,H.jsxs)(l.kC,{alignItems:"center",children:[e?.full_name,r&&(0,H.jsx)(l.xu,{"data-test-id":o?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:1,children:(0,H.jsx)(W.Z,{isVerifiedMerchant:o,showVerifiedIdentity:t,size:"md"})})]})})})})}function Y({collaborators:e,boardOwnerId:t,collaboratorsAmount:o}){let r=(0,b.ZP)(),i=(0,G.Z)(),{locale:a}=(0,A.B)(),{id:n}=(0,N.Z)();if(!e.length)return null;let s=[...e.filter(({id:e})=>e===t),...e.filter(({id:e})=>e===n&&e!==t),...e.filter(({id:e})=>![t,n].includes(e))],d=s[0],c=s[1];if(s.some(({id:e})=>e===n))return null;let _=s.length,u="";if(_>3){let e=s[2],t=r._('By {{ownerName}}, {{ secondCollaborator}}, {{ thirdCollaborator }} and {{collaboratorCount}}', 'BoardHeaderDescriptionNames.Redesign.CollabNamesMoreThan3', 'Name of board owner and number of collaborators. ownerName: name of board owner, secondCollaborator: name of second collaborator, thirdCollaborator: name of third collaborator, collaboratorCount: number of other collaborators'),n=(null!=o?o+1:s.length)-3;u=(0,V.nk)(t,{ownerName:(0,H.jsx)(X,{user:d},d.id),secondCollaborator:(0,H.jsx)(X,{user:c},c.id),thirdCollaborator:(0,H.jsx)(X,{user:e},e.id),collaboratorCount:(0,H.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,V.nk)(r.ngettext('{{collaboratorsCount}} other', '{{collaboratorsCount}} others', n, 'BoardHeaderDescriptionNames.CollabNamesMoreThan2Text', 'Name of board owner and number of other collaborators'),{collaboratorsCount:i(a,n,{})})},"collaborator-count")})}if(3===_){let e=s[2],t=r._('By {{ownerName}}, {{ secondCollaborator}} and {{ thirdCollaborator }}', 'BoardHeaderDescriptionNames.Redesign.CollabNames3', 'Names of board collaborators. . ownerName: name of board owner, secondCollaborator: name of second collaborator, thirdCollaborator: name of third collaborator');u=(0,V.nk)(t,{ownerName:(0,H.jsx)(X,{user:d},d.id),secondCollaborator:(0,H.jsx)(X,{user:c},c.id),thirdCollaborator:(0,H.jsx)(X,{user:e},e.id)})}if(2===_){let e=r._('By {{ownerName}} and {{ secondCollaborator}}', 'BoardHeaderDescriptionNames.Redesign.CollabNames2', 'Names of board collaborators. ownerName: name of board owner, secondCollaborator: name of second collaborator');u=(0,V.nk)(e,{ownerName:(0,H.jsx)(X,{user:d},d.id),secondCollaborator:(0,H.jsx)(X,{user:c},c.id)})}if(1===_){let e=r._('By {{ownerName}}', 'BoardHeaderDescriptionNames.Redesign.CollabNames1', 'Names of board owner. ownerName: name of board owner.');u=(0,V.nk)(e,{ownerName:(0,H.jsx)(X,{user:d},d.id)})}return u}var q=o(470205),J=o(120100),K=o(263433),Q=o(230110);let ee=(0,i.lazy)(()=>Promise.resolve().then(o.bind(o,121614))),et=({board:e,onAddCollab:t,collaborators:o,boardOwnerId:r,canAddCollaborators:a})=>{let{id:s}=(0,N.Z)(),c=(0,n.k6)(),_=(0,i.useRef)(null),h=(0,i.useRef)(null),{logContextEvent:p}=(0,d.v)(),b=(0,T.Z)(),x=(0,J.Z)(),[m,f]=(0,i.useState)(!1),g=[...o.filter(({id:e})=>e===r),...o.filter(({id:e})=>e===s&&e!==r),...o.filter(({id:e})=>![r,s].includes(e))],{displayedCollaborators:v,nonDisplayedCollaboratorCount:y}=(0,Q.Z)({boardCollaboratorCount:e.collaborator_count,collaborators:g}),w=v.map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),j=x({fn:()=>{e.id&&a?c.push(`/board/${e.id}/edit/collaborators/`):f(!m)}}),P=g[0].is_ads_only_profile&&g[0].ads_only_profile_site,A=()=>{p({event_type:9371,element:13382,aux_data:{aop_origin:"BoardPageFacepiles"}}),window.open(v[0].ads_only_profile_site,"_blank")},C=()=>{P?A():c.push(`/${g[0].username??""}`)};return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(l.kC,{alignItems:"stretch",flex:"none",justifyContent:"start",children:(0,H.jsxs)(l.xu,{ref:h,display:"flex",children:[(0,H.jsx)(K.Z,{addButtonRef:_,avatarSize:"sm",collaboratorCount:o.length-1,displayedCollaborators:w,nonDisplayedCollaboratorCount:y,onClick:()=>{b({action:"click",item:"user-rep-avatar"}),g.length>1||a?j():C()},showAddButton:a}),(0,H.jsx)(u.cs,{anchors:{4002:_.current},onCompleteByAnchor:{4002:t},placementId:1000251,positionRelativeToAnchor:!1})]})}),m&&(0,H.jsx)(q.Z,{name:"SafeSuspense_BoardPageFacePiles_BoardCollabFlyout",children:(0,H.jsx)(B.Z,{children:(0,H.jsx)(ee,{anchor:h.current,board:e,onDismiss:()=>{f(!1)}})})})]})};var eo=o(631284),er=o(398419);function ei({board:e,canAddCollaborators:t,isAuthenticated:o,isBoardPreviewMode:r,isOwnerOrCollaborator:a,isSeoBot:n,pinCount:s,onAddCollab:d}){let{archived_by_me_at:c,board_order_modified_at:_,collaborating_users:u=[],collaborator_count:h,description:p,featured_board_metadata:b,id:x,layout:m,owner:f={},section_count:g,sensitivity:v,should_show_board_collaborators:y}=e,{curator:w,is_sponsored_content:j}=b||{},P=j?w:null,A=a&&!r,C=[];w&&!A?C.push(w):y&&u.length?C.push(...u):f&&C.push(f);let S=(0,eo.Uz)(v),z=b?.board_tag;return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:3,width:"100%",wrap:!0,children:(0,H.jsx)($,{description:p,isArchived:!!c,isAuthenticated:o,isFeaturedBoard:"featured_board"===m,isSecret:e?.privacy==="secret",isSeoBot:n,lastModified:_,pinCount:s??0,sectionCount:g,showEditorialBoardTag:"number"==typeof z&&z>=0},x)}),(0,H.jsxs)(l.xu,{marginTop:3,children:[!A&&P&&(0,H.jsx)(er.Z,{user:P}),(A||!P)&&(0,H.jsxs)(l.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",direction:"row",gap:2,children:[!S&&(0,H.jsx)(et,{board:e,boardOwnerId:f.id,canAddCollaborators:t&&!r,collaborators:C,onAddCollab:d},"boardPageFace"),(0,H.jsx)(l.xu,{alignItems:"start",direction:"column",display:"flex",height:"100%",justifyContent:"center",wrap:!0,children:(0,H.jsx)(l.xv,{align:"start",inline:!0,size:"300",children:(0,H.jsx)(Y,{boardOwnerId:f?.id??"",collaborators:C,collaboratorsAmount:h})})},"boardPageName")]})]})]})}var ea=o(167912),en=o(104999),el=o(465784),es=o(865043),ed=o(662911),ec=o(615714),e_=o(10565),eu=o(701572),eh=o(951798),ep=o(914253);function eb({overflowMenuButtonRef:e,isDesktop:t}){return(0,H.jsx)(u.N,{anchors:{[t?3001:4001]:e},idealDirection:"down",onAnchorTouch:"complete",placementId:t?18:1000251,scrollToDismiss:!0})}function ex({handleClose:e,isMenuOpen:t,setMenuOpen:o,bgColor:r="lightGray",iconSize:a="sm",iconColor:n,children:s}){let d=(0,b.ZP)(),c=(0,i.useRef)(null);return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(l.xu,{ref:c,children:(0,H.jsx)(l.hU,{accessibilityLabel:d._('More board options', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for more board options overflow menu button'),bgColor:r,icon:"ellipsis",iconColor:n,onClick:()=>o(!t),selected:t,size:a})}),t&&(0,H.jsx)(l.Lt,{anchor:c.current,disableMobileUI:!0,id:"more-board-options-desktop",idealDirection:"down",onDismiss:e,zIndex:new l.Ry(1e3),children:s({handleClose:e})}),!t&&(0,H.jsx)(eb,{isDesktop:!0,overflowMenuButtonRef:c.current})]})}function em({isSensitive:e,isTemporarilyDisabledBoard:t,isOwnerOrCollaborator:o,openSendBoardModal:r,username:s,hideShare:d,bgColor:c,iconColor:_,iconSize:u,archivedByMeAt:h,boardName:x,id:m,privacy:f,followByMe:g,showFollowOption:v,showReportOption:y,showReportDSAOption:w,showReportIndiaOption:j,slug:P}){let A=(0,b.ZP)(),C=(0,R.HG)(),S=(0,J.Z)(),z=(0,n.k6)(),B=(0,a.I0)(),{showToast:I}=(0,E.F9)(),k=(0,T.Z)(),[Z,O]=(0,i.useState)(!1),[D,N]=(0,i.useState)(!1),U=(0,en.Z)(),[M,F]=(0,i.useState)(g),L=!!h,$=(0,i.useRef)(null),G=(0,ep.gC)()(m),W=()=>{O(!1),k({action:"click",item:"close-overflow-menu"})},X=()=>N(!1),Y=()=>N(!0),q=L?(0,V.nk)(A._('Unarchived {{ boardName }}', 'boardHeaderOverflowMenu.onBoardUnarchive.toast', 'Toast text on complete unarchiving board'),{boardName:x}).join(""):(0,V.nk)(A._('Archived {{ boardName }}', 'boardHeaderOverflowMenu.onBoardArchive.toast', 'Toast text on complete archiving board'),{boardName:x}).join(""),K=(0,H.jsx)(l.xu,{height:32,width:32,children:(0,H.jsx)(ed.default,{boardKey:G?{type:"deprecated",data:G}:null,type:"thumbnail",viewType:void 0})}),Q=()=>{B((0,e_.z)(m,s)).then(()=>{I(({hideToast:e})=>(0,H.jsx)(p.Z,{_dangerouslySetThumbnail:K,onHide:e,text:q}))}),X(),W()},ee=()=>{B((0,eh.f)(m,s)).then(()=>{I(({hideToast:e})=>(0,H.jsx)(p.Z,{_dangerouslySetThumbnail:K,onHide:e,text:q}))}),X(),W()},et=()=>D?L?ee:Q:()=>{},eo=L?A._('Unarchive', 'boardHeaderOverflowMenu.archiveOptionTitle.UnarchiveBoard', 'Title for option UnarchiveBoard on Edit Board page'):A._('Archive', 'boardHeaderOverflowMenu.archiveOptionTitle.ArchiveBoard', 'Title for option ArchiveBoard on Edit Board page'),er=`https://www.pinterest.com/about/dsa/?username=${s}&boardName=${P||""}`,ei=`https://www.pinterest.com/about/india/?username=${s}&boardName=${P||""}`,ea="secret"!==f&&!e&&!d&&!t,em=o&&!t,ef=em||ea||o||y||w||j,[eg,ev]=(0,i.useState)(!1);if(!ef)return null;let ey={unfollow:A._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:A._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board')};return C?(0,H.jsx)(ex,{bgColor:c,handleClose:()=>ev(!1),iconColor:_,iconSize:u,isMenuOpen:eg,setMenuOpen:ev,children:()=>(0,H.jsxs)(l.Lt.Section,{label:A._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[em&&(0,H.jsx)(l.Lt.Item,{dataTestId:"edit-board",onSelect:S({fn:()=>{z.replace(`/board/${m}/edit/`)}}),option:{label:A._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board'),value:A._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board')}}),ea&&(0,H.jsx)(l.Lt.Item,{dataTestId:"share-board",onSelect:r,option:{label:A._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board'),value:A._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board')}}),o&&(0,H.jsx)(l.Lt.Item,{dataTestId:"archive-board",onSelect:Y,option:{label:eo,value:eo}}),y&&(0,H.jsx)(l.Lt.Link,{dataTestId:"report-board",href:`/board/${m}/report/`,option:{label:A._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)'),value:A._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)')}}),w&&(0,H.jsx)(l.Lt.Link,{dataTestId:"report-board-dsa",href:er,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),(0,es.My)("desktop.unauth.board.overflowmenu.dsa"),window.open(er,"_blank")},option:{label:A._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law'),value:A._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law')}}),j&&(0,H.jsx)(l.Lt.Link,{dataTestId:"report-board-india",href:ei,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),(0,es.My)("desktop.unauth.board.overflowmenu.indiareport"),window.open(ei,"_blank")},option:{label:A._('Report for Indian law', 'BoardOptions.ReportIndia', 'Reports a board for India law'),value:A._('Report for Indian law', 'BoardOptions.ReportIndia', 'Reports a board for India law')}}),(0,H.jsx)(ec.Z,{fullName:x,isOpen:D,onConfirm:et(),onDismiss:()=>X(),type:h?"unarchive":"archive"})]})}):(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(l.xu,{display:"inlineBlock",children:(0,H.jsxs)(l.xu,{"data-test-id":"board-overflow-menu-button-mobile",children:[(0,H.jsx)(l.hU,{ref:$,accessibilityLabel:A._('More board options', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for more board options overflow menu button'),bgColor:c||"white",icon:"ellipsis",iconColor:_,onClick:()=>{O(!0),k({action:"click",item:"overflow-menu"})},size:u||"lg"}),(0,H.jsx)(eb,{isDesktop:C,overflowMenuButtonRef:$.current})]})}),(0,H.jsx)(el.ZP,{accessibilityModalLabel:A._('Board options', 'boardHeaderOverflowMenu.boardOptions', 'Options heading on Modal on own board'),isOpen:Z,mobileHideCloseIcon:!0,onDismiss:W,type:"block_button",children:(0,H.jsx)(l.xu,{paddingX:5,paddingY:6,children:(0,H.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},children:[(0,H.jsx)(l.xv,{children:A._('Board options', 'boardHeaderOverflowMenu.boardOptions', 'Options heading on Modal on own board')}),em&&(0,H.jsx)(l.iP,{fullWidth:!1,onTap:S({fn:()=>{z.replace(`/board/${m}/edit/`)}}),rounding:"circle",children:(0,H.jsx)(l.xu,{"data-test-id":"edit-board",children:(0,H.jsx)(l.X6,{size:"400",children:A._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board')})})}),ea&&(0,H.jsx)(l.iP,{fullWidth:!1,onTap:r,rounding:"circle",children:(0,H.jsx)(l.xu,{"data-test-id":"share-board",children:(0,H.jsx)(l.X6,{size:"400",children:A._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board')})})}),o&&(0,H.jsx)(l.iP,{fullWidth:!1,onTap:Y,rounding:"circle",children:(0,H.jsx)(l.xu,{"data-test-id":"archive-board",children:(0,H.jsx)(l.X6,{size:"400",children:eo})})}),v&&(0,H.jsx)(l.iP,{fullWidth:!1,onTap:()=>{M?(B((0,eu.f)(m,U)),F(!1)):(B((0,eu.Z)(m,U)),F(!0))},rounding:"circle",children:M?(0,H.jsx)(l.xu,{"data-test-id":"unfollow-board",children:(0,H.jsx)(l.X6,{size:"400",children:ey.unfollow})}):(0,H.jsx)(l.xu,{"data-test-id":"follow-board",children:(0,H.jsx)(l.X6,{size:"400",children:ey.follow})})}),y&&(0,H.jsx)(l.xu,{"data-test-id":"report-board",children:(0,H.jsx)(l.X6,{size:"400",children:(0,H.jsx)(l.rU,{accessibilityLabel:A._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)'),href:`/board/${m}/report/`,underline:"none",children:A._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)')})})}),w&&(0,H.jsx)(l.xu,{"data-test-id":"report-board-dsa",children:(0,H.jsx)(l.X6,{size:"400",children:(0,H.jsx)(l.rU,{accessibilityLabel:A._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law'),href:er,onClick:()=>(0,es.My)("mweb.unauth.board.overflowmenu.dsa"),target:"blank",underline:"none",children:A._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law')})})}),j&&(0,H.jsx)(l.xu,{"data-test-id":"report-board-india",children:(0,H.jsx)(l.X6,{size:"400",children:(0,H.jsx)(l.rU,{accessibilityLabel:A._('Report for Indian law', 'BoardOptions.ReportIndia', 'Reports a board for India law'),href:ei,onClick:()=>(0,es.My)("mweb.unauth.board.overflowmenu.india"),target:"blank",underline:"none",children:A._('Report for Indian law', 'BoardOptions.ReportIndia', 'Reports a board for India law')})})}),(0,H.jsx)(l.xu,{"data-test-id":"close-board-options-mobile",display:"flex",justifyContent:"center",marginTop:3,children:(0,H.jsx)(l.zx,{color:"gray",onClick:W,size:"lg",text:A._('Close', 'boardHeaderOverflowMenu.boardOptions.closeModal', 'Accessibility label for close button on Modal on a own board')})}),(0,H.jsx)(ec.Z,{fullName:x,isOpen:D,onConfirm:et(),onDismiss:()=>X(),type:h?"unarchive":"archive"})]})})})]})}function ef({board:e,isSensitive:t,isTemporarilyDisabledBoard:o,isOwnerOrCollaborator:r,openSendBoardModal:i,username:a,hideShare:n,bgColor:l,iconSize:s,iconColor:d,showReportOption:c,viewType:_,viewParameter:u,showFollowOption:h,showReportDSAOption:p,showReportIndiaOption:b,slug:x}){return(0,H.jsx)(em,{archivedByMeAt:e.archived_by_me_at,bgColor:l,boardName:e.name,followByMe:e.followed_by_me,hideShare:n,iconColor:d,iconSize:s,id:e.id,isOwnerOrCollaborator:r,isSensitive:t,isTemporarilyDisabledBoard:o,openSendBoardModal:i,privacy:e.privacy,showFollowOption:h,showReportDSAOption:p,showReportIndiaOption:b,showReportOption:c,slug:x,username:a,viewParameter:u,viewType:_})}let eg=void 0!==r?r:r=o(913056);function ev({boardRef:e,isSensitive:t,isTemporarilyDisabledBoard:o,isOwnerOrCollaborator:r,openSendBoardModal:i,username:a,hideShare:n,iconColor:l,bgColor:s,iconSize:d,showReportOption:c,viewType:_,viewParameter:u,showFollowOption:h,showReportDSAOption:p,showReportIndiaOption:b,slug:x}){let{data:m}=(0,ea.useFragment)(eg,e);return m?(0,H.jsx)(em,{archivedByMeAt:m.archivedByMeAt,bgColor:s,boardName:m.name??"",followByMe:m.followedByMe,hideShare:n,iconColor:l,iconSize:d,id:m.entityId,isOwnerOrCollaborator:r,isSensitive:t,isTemporarilyDisabledBoard:o,openSendBoardModal:i,privacy:m.privacy??"",showFollowOption:h,showReportDSAOption:p,showReportIndiaOption:b,showReportOption:c,slug:x,username:a,viewParameter:u,viewType:_}):null}function ey({isSensitive:e,isTemporarilyDisabledBoard:t,isOwnerOrCollaborator:o,openSendBoardModal:r,username:i,hideShare:a,bgColor:n,iconColor:l="darkGray",iconSize:s,showReportOption:d,viewType:c,viewParameter:_,showFollowOption:u,showReportDSAOption:h,showReportIndiaOption:p,slug:b,...x}){return x.boardRef?(0,H.jsx)(ev,{bgColor:n,boardRef:x.boardRef,hideShare:a,iconColor:l,iconSize:s,isOwnerOrCollaborator:o,isSensitive:e,isTemporarilyDisabledBoard:t,openSendBoardModal:r,showFollowOption:u,showReportDSAOption:h,showReportIndiaOption:p,showReportOption:d,slug:b,username:i,viewParameter:_,viewType:c}):(0,H.jsx)(ef,{bgColor:n,board:x.board,hideShare:a,iconColor:l,iconSize:s,isOwnerOrCollaborator:o,isSensitive:e,isTemporarilyDisabledBoard:t,openSendBoardModal:r,showFollowOption:u,showReportDSAOption:h,showReportIndiaOption:p,showReportOption:d,slug:b,username:i,viewParameter:_,viewType:c})}var ew=o(806513),ej=o(59111),eP=o(759302),eA=o(838751);let eC="BoardPageSkeletonLoader__",eS=()=>(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(ej.Z,{unsafeCSS:[{name:`${eC}board_title`,width:280,height:51},{name:`${eC}profile_pic`,width:51,height:51}].map(({name:e,width:t,height:o})=>(0,eA.Z)({name:e,width:t,height:o})).join("")}),(0,H.jsxs)(l.xu,{paddingX:ew.D6,paddingY:3,children:[(0,H.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:6,children:[(0,H.jsx)(l.xu,{children:(0,H.jsx)("div",{className:`${eC}board_title`})}),(0,H.jsx)(l.xu,{children:(0,H.jsx)("div",{className:`${eC}profile_pic`})})]}),(0,H.jsx)(eP.Z,{})]})]});var ez=o(864150),eB=o(21418),eI=o(786628),ek=o(236269),eZ=o(995514),eT=o(27399),eE=o(583875),eO=o(767415);let eR=e=>{let t=(0,b.ZP)(),{user:o,invitedByUser:r,inviterFirstName:i}=e;return(0,H.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginBottom:3,marginEnd:-1,marginStart:-1,paddingX:4,paddingY:4,rounding:5,width:"100%",children:[(0,H.jsx)(l.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-1}},marginTop:-3,rounding:"circle",children:(0,H.jsx)(l.xu,{height:34,width:34,children:(0,H.jsx)(eE.qE,{color:o?.avatar_color_index,name:o?o.username:"",src:o?o.image_medium_url??"":""})})}),(0,H.jsx)(l.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-2}},marginStart:-3,marginTop:3,rounding:"circle",children:(0,H.jsx)(l.xu,{height:34,width:34,children:(0,H.jsx)(eE.qE,{color:r?.avatar_color_index,name:r?r.username:"",src:r?r.image_medium_url??"":""})})}),(0,H.jsxs)(l.xu,{marginStart:4,children:[(0,H.jsx)(l.xv,{weight:"bold",children:t._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,H.jsx)(l.xv,{children:(0,V.nk)(t._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:i})})]})]})};function eD({boardId:e,inviteCode:t,inviterFirstName:o,invitedByUser:r,isSeamlessLanding:a,onAccept:n,user:l}){let{showToast:s}=(0,E.F9)(),d=(0,b.ZP)(),[c,_]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{n&&eT.Z.create("BoardInviteResource",{board_id:e,invited_user_id:l&&l.id,invite_code:t}).callGet().then(()=>{let e=n();e&&e.then(()=>{_(!0),a&&(0,eO.nP)("mweb.social.group_board.seamless.accepted")}).catch(e=>{s(({hideToast:t})=>(0,H.jsx)(p.Z,{onHide:t,text:e.message||d._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"}))})}).catch(e=>{s(({hideToast:t})=>(0,H.jsx)(p.Z,{onHide:t,text:e.message||d._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"}))})},[]),c?(0,H.jsx)(eR,{user:l,inviterFirstName:o,invitedByUser:r}):null}let eN=e=>!!(0,O.mB)(e.search).accept_invite;var eU=o(616870),eM=o(643121),eF=o(26499),eL=o(160587),eH=o(211731),e$=o(871962),eG=o(631042),eV=o(157498),eW=o(972699);function eX({inviteCreationDatetime:e,invitedByUser:t,inviterFirstName:o,onAccept:r,onDismiss:i,loginModal:a,isMwebUnauthBoardInviteLanding:s,setShowLoginModal:d,showLoginModal:c}){let _=(0,b.ZP)(),u=(0,eZ.Z)(),h=(0,n.TH)(),{showToast:x}=(0,E.F9)(),m=`/${t?.username||""}`,f=(0,J.Z)(),g=(0,R.HG)(),v=f({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),i()},modalHeader:(0,eF.gv)({firstName:o,i18n:_}),nextLocation:(0,eF.F4)(h)}),y=f({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),r(),g||c||s||x(({hideToast:e})=>(0,H.jsx)(p.Z,{duration:4e3,onHide:e,text:_._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')}))},modalHeader:(0,eF.gv)({firstName:o,i18n:_}),nextLocation:(0,eF.F4)(h)});return(0,H.jsxs)(l.xu,{alignItems:"start",borderStyle:"shadow",color:"default",display:"flex",marginBottom:2,marginTop:2,maxWidth:400,padding:6,rounding:6,children:[g&&c&&a,(0,H.jsx)(l.xu,{marginEnd:2,children:(0,H.jsx)(l.HE,{accessibilityLabel:_._('Avatar of invited person', 'mweb.board.inviteCard.avatar', 'Avatar of invited person'),collaborators:[{name:o,src:(t instanceof eM.Z?t.image_large_url:t?.image_medium_url)||void 0,color:t instanceof eM.Z?t.avatar_color_index:void 0}],href:m,role:"link",size:"md"})}),(0,H.jsxs)(l.xu,{marginBottom:0,children:[(0,H.jsx)(l.xv,{color:"default",weight:"normal",children:(0,V.nk)(_._('{{ name }} invited you to collaborate on this board  {{age}}', 'mweb.board.inviteCard.inviteCopy', 'Invite copy in board page'),{name:(0,H.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,H.jsx)(l.rU,{display:"inlineBlock",href:m,tapStyle:"none",underline:"hover",children:t?.full_name||""})}),age:(0,H.jsx)(l.xv,{color:"subtle",inline:!0,children:e&&u(e,!0)})})}),(0,H.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,H.jsx)(l.xu,{display:"inlineBlock",marginEnd:2,marginTop:2,children:(0,H.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:v,size:"lg",text:_._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,H.jsx)(l.xu,{display:"inlineBlock",marginTop:2,children:(0,H.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:g&&d&&a?()=>d(!0):y,size:"lg",text:_._('Accept', 'accept board invite', 'accept board invite')})})]})]})]})}function eY({boardId:e}){let t=(0,n.TH)(),{inviter_first_name:r,board_collab_inviter:a,board_url:s,invite_code:d,sender:c,inviter_user_id:_}=(0,O.mB)(t.search),[u,h]=(0,i.useState)(!!(r&&s)),[p,x]=(0,i.useState)(!1),m=(0,n.k6)(),f=(0,b.ZP)(),g=_??c,v=(0,R.HG)(),{setUnauthBoardInvite:y}=(0,eU.m)(),w=(0,eW.Z)(),j=w?.invite?.sender,P=v&&!!j,A=r||j?.first_name||"",C=(0,i.lazy)(()=>o.e("774").then(o.bind(o,167714)));if((P||!v&&d&&a&&_)&&!u&&h(!0),!u)return null;let S=(0,V.nk)(f._('Log in to accept {{ firstName }}\'s board invite', 'GroupBoardInviteBanner.login.firstName', 'Inviter\'s first name. firstName: name of inviter'),{firstName:A}).join(""),z=(0,H.jsxs)(l.xu,{height:"100%",width:"100%",children:[(0,H.jsx)(l.mh,{zIndex:new l.Ry(10001),children:(0,H.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",paddingY:12,position:"fixed",width:"100%",children:(0,H.jsx)(C,{container:"limited_login",customLoginTagline:S,customSignupTagline:S,handleCloseButtonClick:()=>x(!1),nextUrlParam:`${t.pathname}${t.search}&accept_invite=True`,showCloseIcon:!0,signupFlow:{type:"login"},signupSource:"boardInvite"})})}),(0,H.jsx)(l.xu,{alignItems:"center",color:"dark",display:"flex",height:"100%",left:!0,opacity:.7,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1e4)})]});return v?(0,H.jsx)(eX,{invitedByUser:j,inviterFirstName:A,loginModal:z,onAccept:()=>x(!0),onDismiss:()=>h(!1),setShowLoginModal:x,showLoginModal:p}):(0,H.jsx)(eX,{invitedByUser:j,inviterFirstName:A,isMwebUnauthBoardInviteLanding:!0,onAccept:async()=>{let o=`/invited/${t.search}&board_id=${e}&inviter_first_name=${j?.first_name||""}`;y({inviterId:g,boardId:e,hasAcceptedInvite:!1}),m.push(o)},onDismiss:()=>h(!1)})}function eq({boardId:e,boardImageRep:t,boardName:o}){let r=(0,n.TH)(),s=(0,a.I0)(),{id:d}=(0,N.Z)(),{invite_code:c,seamless:_}=(0,O.mB)(r.search),u=(0,e$.U)({board:e,invited_user:d??""}),h=(0,eV.mN)()(d??""),x=(0,en.Z)(),m=(0,R.HG)(),f=(0,b.ZP)(),{showToast:g}=(0,E.F9)(),v=(0,i.useRef)(!1);(0,S.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});let y=(0,a.v9)(({invites:e})=>e[u]?.created_at||void 0),w=(0,z.Z)({name:"BoardInviteResource",options:{field_set_key:"boardEdit",board_id:e,invite_code:c,invited_user_id:d}}),j=(0,a.v9)(t=>{let o=(0,eG.Z)(t)[e];return o?t.invites[o]:void 0}),P=(0,a.v9)(({users:e,invites:t})=>Object.keys(t).reduce((o,r)=>{let i=t[r];return i&&(o[r]=e[i.invited_by_user]),o},{})[u]),{unauthBoardInvite:A,setUnauthBoardInvite:C}=(0,eU.m)(),{boardId:B,inviterId:I,hasAcceptedInvite:k}=A||Object.freeze({}),Z=B&&I&&!k,T=B&&I&&k;if((0,D.Z)(()=>{Z&&h&&(async()=>{v.current=!0;try{await s((0,eH.SD)(e,h,x)),C({boardId:e,inviterId:I||"",hasAcceptedInvite:!0}),await w.refresh(),g(({hideToast:e})=>(0,H.jsx)(p.Z,{duration:5e3,onHide:e,text:(0,H.jsx)(l.xv,{children:(0,V.nk)(f._('You can now collaborate on {{boardName}}!', 'mweb_group_board_invite_banner.acceptInviteToast', 'Title on toast when user accepts a board invite from unauth invite, boardName: name of the board.'),{boardName:(0,H.jsx)(l.xv,{inline:!0,weight:"bold",children:o})})}),thumbnail:{image:(0,H.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}}))}catch(e){g(({hideToast:t})=>(0,H.jsx)(p.Z,{onHide:t,text:(0,ek.Z)(e,"message")??"",type:"error"}))}finally{v.current=!1}})()}),!j||!P||!h||j&&T)return null;let U=P.first_name,M=()=>s((0,eH.SD)(e,h,x));return eN(r)?(m&&g(({hideToast:e})=>(0,H.jsx)(p.Z,{duration:5e3,onHide:e,text:f._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')})),(0,H.jsx)(eD,{boardId:e,inviteCode:c,invitedByUser:P,inviterFirstName:U,isSeamlessLanding:!!_,onAccept:M,user:h})):!v.current&&(0,H.jsx)(eX,{inviteCreationDatetime:y,invitedByUser:P,inviterFirstName:U,onAccept:M,onDismiss:()=>s((0,eL.xR)(e,d??"",x))})}let eJ=({isAuthenticated:e,boardId:t,boardImageRep:o,boardName:r})=>e?(0,H.jsx)(eq,{boardId:t,boardImageRep:o,boardName:r}):(0,H.jsx)(eY,{boardId:t});var eK=o(853930),eQ=o(29217);function e0({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:o}){let r=(0,b.ZP)(),a=(0,en.Z)();return(0,i.useEffect)(()=>{a({component:13860,event_type:13,view_type:5,aux_data:o})},[a]),(0,H.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)",paddingTop:260}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),children:(0,H.jsxs)(l.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,H.jsx)(l.X6,{align:"center",color:"light",children:r._('This board may contain sensitive content', 'board.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,H.jsxs)(l.kC,{gap:{row:6,column:0},children:[(0,H.jsx)(l.zx,{color:"red",onClick:e,size:"lg",text:r._('Go back', 'board.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,H.jsx)(l.zx,{color:"white",onClick:t,size:"lg",text:r._('View anyway', 'board.sensitivityScreen.viewButton', 'Text on button that allows user to dismiss sensitivity screen and view board')})]}),(0,H.jsx)(l.xu,{padding:4,children:(0,H.jsx)(l.xv,{align:"center",color:"inverse",overflow:"normal",size:"200",children:(0,V.nk)(r._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'board.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,H.jsx)(l.rU,{href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",children:(0,H.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",underline:!0,children:r._('Community Guidelines', 'board.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})}let e1=new l.Ry(1),e3=new l.H3([e1]),e2=new l.H3([e3]);function e6(){return(0,H.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(181deg, rgba(0, 0, 0, 0.50) 0.8%, rgba(0, 0, 0, 0.20) 50.98%, rgba(0, 0, 0, 0.50) 99.19%)"}},height:"100%",left:!0,position:"absolute",width:"100%",zIndex:e3})}function e5({imageUrl:e,children:t}){let o=(0,b.ZP)();return(0,H.jsxs)(l.zd,{height:250,width:"100%",children:[(0,H.jsx)(e6,{}),(0,H.jsx)(l.xu,{height:"100%",left:!0,position:"absolute",width:"100%",zIndex:e1,children:(0,H.jsx)(l.Ee,{alt:o._('Board Header Image', 'board.header.mobileBoardHeaderImage', 'alt for the image that is displayed in a boards header on mobile'),fit:"cover",naturalHeight:312,naturalWidth:472,role:"presentation",src:e})}),(0,H.jsx)(l.xu,{display:"flex",height:"100%",paddingX:4,paddingY:3,position:"relative",zIndex:e2,children:t})]})}var e8=o(968856);function e4(e){let t=(0,b.ZP)(),{isRequestedByMe:o,toggle:r,size:i}=e,a=o?t._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator'):t._('Join', 'BoardJoinButton.RequestToJoinText', '[Button] Request to join a group board as a collaborator');return(0,H.jsx)(l.zx,{fullWidth:!0,onClick:r,size:i,text:a})}function e7(e){let{isRequestedByMe:t,boardId:o}=e,r=(0,a.I0)(),i=(0,N.Z)(),n=(0,eH.tV)();return(0,H.jsx)(e4,{...e,toggle:()=>{t?r((0,eH.GJ)(o,i.isAuth?i.id:"")):r(n(o))}})}var e9=o(225254),te=o(850724),tt=o(85430),to=o(931869),tr=o(395235),ti=o(956701),ta=o(956226),tn=o(254889),tl=o(273379),ts=o(230689),td=o(401545),tc=o(10516),t_=o(775196);function tu(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let th=(0,i.lazy)(()=>Promise.all([o.e("25418"),o.e("17078"),o.e("6574"),o.e("59035")]).then(o.bind(o,634234))),tp=(0,i.lazy)(()=>Promise.all([o.e("25418"),o.e("17078"),o.e("21586")]).then(o.bind(o,610082))),tb=5,tx=(e,t)=>{let[o]=(0,I.M0)().getItem(s.tH)??[];if(!(o&&o.path===t.pathname)&&!t.state?.isFromNavFooterPage){let o=e.cover_pin,r=o?.pin_id,i=e.cover_images,a=o&&o.image_signature||null,n=i&&i["222x"]||null;(0,to.p9)(t.pathname,a,r,n,"board")}},tm=({boardId:e,children:t,hasFixedHeader:o,viewParameter:r})=>(0,H.jsx)(tt.H,{children:(0,H.jsx)(U.Z,{objectIdStr:e,viewParameter:r,viewType:5,children:(0,H.jsx)(Z.Z,{objectId:e,view:5,viewParameter:r,children:(0,H.jsx)(v.default,{dataLayoutShiftBoundaryId:"BoardPageContainer",hasFixedHeader:o,children:t})})})}),tf=({board:e,blockedByMe:t,children:o,experience:r,isAuthenticated:s,isBoardPreviewMode:h,isSeoBot:p,location:x,setBoardPreviewMode:f,stickyHeaderRef:v,username:w})=>{let j;let P=(0,n.k6)(),A=(0,m.b)(),C=(0,b.ZP)(),S=(0,c.vs)(),z=(0,J.Z)(),[I,k]=(0,i.useState)(!1),[Z,E]=(0,i.useState)(!1),{logContextEvent:U}=(0,d.v)(),F=(0,T.Z)(),{checkExperiment:L}=(0,y.F)(),$=(0,a.I0)(),{canUseNativeApp:G}=(0,a.v9)(({session:e})=>e),{id:V,name:W,access:X,owner:Y,sensitivity:q,privacy:K,pin_count:Q,section_count:ee,sensitivity_screen:et,collaborator_invites_enabled:er,is_temporarily_disabled:ea=!1,collaborated_by_me:en,collaborator_requests_enabled:el,viewer_collaborator_join_requested:es,image_cover_url:ed,collaborator_permissions_setting:ec}=e,e_=(0,R.HG)(),eu=(0,R.ml)(),eh=(0,R.Wb)(),ep=(0,eQ.Z)(!!en),eb={board_id:V,reason:et?.reason||""},{slug:ex}=(0,n.UO)(),{isSmallerImage:em,isSmallScreen:ef}=(0,tc.Z)();(0,D.Z)(()=>{s||tx(e,x)}),(0,_.Z)({pageUniqueKey:V,containerPage:"board_page"});let eg=()=>{z({fn:e=>{e&&e.stopPropagation&&e.stopPropagation(),E(!0),F({action:"click",item:"main-share-button"})}})()};(0,i.useEffect)(()=>{"t"===(0,O.mB)(x.search).open_share&&eg()},[]),(0,i.useEffect)(()=>(s&&$((0,ti.FK)()),()=>{s&&$((0,ti.Cp)())}),[$,s]);let ev=(X||[]).includes("write"),ew=(0,eK.Z)(Y?.id),ej=(0,eo.Uz)(q),eP=(0,N.Z)(),eA=ep||ew,eC="secret"===K,eS=!s&&!p,eB=!eA&&!eS,{isEUBasedIp:ek,isIndiaIp:eZ}=(0,tr.Z)(),eT=e_&&eS,eE=eS&&ek,eO=eS&&eZ,eR=eA||eB||eE||eO,eD=!e_&&(s||!G||eS),eU=!!eR&&!e_,eM=!!eR&&eT,eF=(0,i.useRef)(null),[eH,e$]=(0,i.useState)(!1),[eG,eV]=(0,i.useState)(!1);(0,D.Z)(()=>{U({aux_data:{board_id:V,board_pin_count:Q??0,board_section_count:ee??0},component:178,event_type:13,view_parameter:ew?3069:3070,view_type:5})});let[eW,eX]=(0,i.useState)(!ew&&!ep&&!!et?.show_warning),eY=ew?3069:3070,eq=(ew||ep&&er)??!1,e1=!e_&&!ea&&!eC,e3=!e1&&!eT&&!eC,{featured_board_metadata:e2}=e,{board_subtitle:e6,has_expanded_sections:e4}=e2||{},tt=eu||eh,to=eA&&!h,ta=e4&&ew&&f,tu=e.header?.large_image_url||null,tf=tt&&!!tu,[tg,tv]=(0,i.useState)(tf);(0,i.useEffect)(()=>{tv(tf)},[tf]);let ty=s&&!ev,tw=eu?2:0,tj=eu?2:0,tP=()=>(0,H.jsxs)(l.kC,{gap:2,children:[(0,H.jsxs)(l.xu,{ref:eF,alignContent:"center",alignItems:"center","data-test-id":"share-board-button",direction:"row",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,H.jsx)(l.hU,{accessibilityLabel:C._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board'),icon:"share",onClick:()=>{F({action:"click",item:"main-share-button"}),e$(!0)},selected:eH,size:"lg",tooltip:{text:C._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')}}),(0,H.jsx)(u.N,{anchors:{4020:eF.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0}),eH&&(0,H.jsx)(B.Z,{children:(0,H.jsx)(tp,{anchor:eF.current,component:13216,objectId:V,objectType:2,onDismiss:()=>e$(!1),title:C._('Send this board', 'Sharesheet.ShareSocialBar', 'social media sharing board'),viewType:5})})]}),eM&&(0,H.jsx)(l.xu,{marginStart:4,children:(0,H.jsx)(ey,{bgColor:"transparent",board:e,hideShare:!e3,iconSize:"lg",isOwnerOrCollaborator:eA,isSensitive:ej,isTemporarilyDisabledBoard:ea,openSendBoardModal:eg,showReportDSAOption:eE,showReportIndiaOption:eO,showReportOption:eB,slug:ex,username:w,viewParameter:eY,viewType:578})})]});return eT&&tu&&(j=ef?{__style:{flexDirection:"column-reverse",gap:"32px"}}:{__style:{gap:"64px"}}),(0,H.jsxs)(tm,{boardId:V,hasFixedHeader:eD,viewParameter:eY,children:[r&&(0,H.jsx)(u.iH,{placementId:1000251}),(0,H.jsx)(u._f,{customFooterHeight:ew||ep?72:0,experience:r}),(0,H.jsx)(u.nj,{experience:r}),tt&&(0,H.jsx)(t_.Z,{checkExperiment:L,isAuth:s,onEnter:()=>{tf&&tv(!0),eV(!1)},onExit:()=>{tf&&tv(!1),eV(!0)},throttleTime:10,children:(0,H.jsx)(l.xu,{})}),(0,H.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eW?{filter:"blur(20px)"}:{}},children:[e_&&!eS&&(0,H.jsx)(l.xu,{paddingX:2,children:(0,H.jsx)(tn.Z,{color:"darkGray",fallbackUrl:`/${w}/`,padding:3,size:"lg"})}),eD&&(0,H.jsx)(e9.Z,{position:tf?"fixed":"sticky",style:tf?{zIndex:499,width:"calc(100% - 16px)"}:void 0,children:(0,H.jsx)(g.default,{isTransparentBackground:tg,paddingY:2,children:(0,H.jsxs)(l.xu,{ref:v,alignItems:"center",column:12,"data-test-id":"boardHeader",display:"flex",height:"100%",children:[!eS&&(0,H.jsx)(l.kC,{children:(0,H.jsx)(tn.Z,{color:tg&&!S?"white":"darkGray",fallbackUrl:eS&&w?`/${w}/`:"/",shouldUseFallbackUrl:eN(x),size:"lg"})}),eG&&(0,H.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"start",marginEnd:0,marginStart:0,children:(0,H.jsx)(l.xv,{align:"start",lineClamp:1,overflow:"breakAll",weight:"bold",children:W})}),(0,H.jsx)(l.xu,{flex:"grow"}),ta&&(0,H.jsx)(td.Z,{isBoardPreviewMode:h,setBoardPreviewMode:f}),e1&&(0,H.jsxs)(l.xu,{"data-test-id":"share-board-button",children:[(0,H.jsx)(l.hU,{ref:eF,accessibilityLabel:C._('Share board', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for button to share board'),icon:"share",iconColor:tg&&!S?"white":"darkGray",onClick:eg,size:"lg"}),(0,H.jsx)(u.N,{anchors:{4020:eF.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]}),eU&&(0,H.jsx)(l.xu,{flex:"none",marginStart:eu?2:void 0,children:(0,H.jsx)(ey,{bgColor:"transparent",board:e,hideShare:!e3,iconColor:tg&&!S?"white":"darkGray",iconSize:!e_&&eS?"lg":void 0,isOwnerOrCollaborator:eA,isSensitive:ej,isTemporarilyDisabledBoard:ea,openSendBoardModal:eg,showFollowOption:ty,showReportDSAOption:eE,showReportIndiaOption:eO,showReportOption:eB,slug:ex,username:w,viewParameter:eY,viewType:578})}),s&&!ev&&(0,H.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:!t&&el&&s&&!eP.isPrivateProfile&&(0,H.jsx)(l.xu,{flex:"none",paddingX:1,children:(0,H.jsx)(e7,{boardId:V,isRequestedByMe:!!es,size:"lg"})})})]})})}),tt&&!!tu&&(0,H.jsx)(l.xu,{"data-test-id":"board-header-image-container",marginEnd:-2,marginStart:-2,width:"calc(100% + 16px",children:(0,H.jsx)(e5,{imageUrl:tu,children:(0,H.jsxs)(l.kC,{dataTestId:"board-name-container",direction:"column",justifyContent:"end",children:[e6&&(0,H.jsx)(l.xu,{marginBottom:2,children:(0,H.jsx)(l.xv,{color:"light",size:"300",weight:"bold",children:e6})}),(0,H.jsx)(l.X6,{accessibilityLevel:1,color:"light",size:"500",children:W})]})})}),(0,H.jsx)(l.kC,{justifyContent:"center",children:(0,H.jsx)(eJ,{boardId:V,boardImageRep:ed??"",boardName:W??"",isAuthenticated:s})}),(s||eS)&&(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(B.Z,{children:(0,H.jsx)(th,{component:13216,element:72,hideContactsSuggestions:!s,isOpen:Z,objectId:String(V),objectType:2,onDismiss:e=>{e&&e.stopPropagation&&e.stopPropagation(),E(!1)},viewParameter:eY,viewType:5})}),I&&(0,H.jsx)(e8.Z,{boardCollabPermissionsSetting:ew&&ec,isOpen:I,objectId:V,objectType:2,onDismiss:()=>k(!1)})]}),ea?(0,H.jsx)(tl.Z,{boardName:W||"",isOwnerOrCollaborator:ew||ep,showOverflowButton:!1}):(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(M.Z,{isGetServerRenderGridHeaderStyles:e_,maxColumns:tb,children:(0,H.jsxs)(l.xu,{alignItems:eT&&(ef||!tu)?"start":"stretch",dangerouslySetInlineStyle:j,direction:"row",display:"flex",justifyContent:"between",paddingX:e_?0:2,paddingY:e_?8:void 0,children:[(0,H.jsx)(l.kC,{alignItems:"center",justifyContent:eT?"between":"center",width:eu?"100%":void 0,children:(0,H.jsxs)(l.xu,{column:12,"data-test-id":"board-header",marginBottom:tt&&ew?4:tw,marginTop:tw,maxWidth:750,children:[e6&&!tf&&(0,H.jsx)(l.xu,{marginBottom:2,children:(0,H.jsx)(l.xv,{weight:"bold",children:e6})}),!tf&&(0,H.jsx)(l.xu,{"data-test-id":"board-title",maxWidth:750,children:(0,H.jsx)(l.X6,{accessibilityLevel:1,align:"start",overflow:"breakWord",size:eu?"500":void 0,children:W})}),(0,H.jsx)(ei,{blockedByMe:t,board:e,canAddCollaborators:eq,isAuthenticated:s,isBoardPreviewMode:h,isOwnerOrCollaborator:ew||ep,isSeoBot:p,onAddCollab:()=>k(!0),pinCount:Q})]})}),eT&&(0,H.jsx)(l.xu,{alignItems:"start",direction:"row",display:"flex",justifyContent:"center",marginBottom:tj,marginTop:tj,children:tu?(0,H.jsx)(ts.Z,{boardActions:tP(),imageUrl:tu,imageWidth:em?tc.w:void 0}):tP()})]})}),ej&&(0,eo.Fx)(q)&&q&&(0,H.jsx)(l.xu,{paddingY:2,children:(0,H.jsx)(te.Z,{boardId:V,notice:q.notices?.[0],sensitivity:q,viewParameter:eY,viewType:5})}),to&&(0,H.jsx)(l.xu,{paddingX:2,children:(0,H.jsx)(ez.Z,{boardId:V,horizontalAlignment:"start",toolSize:72})}),(0,H.jsx)(l.xu,{children:o}),(ew||ep)&&(0,H.jsx)(eI.Z,{boardId:V,surface:"board"})]})]}),eW&&(0,H.jsx)(l.xu,{marginStart:-2,children:(0,H.jsx)(e0,{handleGoBack:()=>{U({event_type:101,component:13860,element:73,view_type:5,aux_data:eb}),A||P.replace("/"),P.goBack()},hideSensitivityScreen:()=>{$((0,eL.of)(V)),U({event_type:101,component:13860,element:12448,view_type:5,aux_data:eb}),eX(!1)},sensitivityScreenAuxData:eb})})]})};class tg extends i.Component{constructor(...e){super(...e),tu(this,"stickyHeaderRef",(0,i.createRef)()),tu(this,"logScrollEvent",(0,k.Z)(()=>{let e=this.props.board?this.props.board.id:0;this.props.logContextEvent({event_type:110,view_type:5,view_parameter:3070,aux_data:{unauth_page_board_id:e}})},300))}componentDidMount(){let{board:e,dispatch:t,isAuthenticated:o,isViewerBoardOwner:r,isViewerCollaborator:i,isSeoBot:a,location:n,pwtStaticContext:l}=this.props;if(e){let o="other";r?o="own":i&&(o="collaborator"),t((0,h.pz)([1000251],a,{board_id:e.id,board_ownership:o}))}(0,f.Z)(),o?(0,O.mB)(n.search).seamless&&(0,eO.nP)("mweb.social.group_board.seamless.land"):((0,to.Mt)({key:s._b,lastVisitedPage:n.pathname}),window.addEventListener("scroll",this.logScrollEvent),(0,w.S$)({appLoadName:"board_page_interactive",clientNavName:"client_route_push_unauth_board"},l)),this.stickyHeaderRef&&this.stickyHeaderRef.current&&x.Z.addObstruction("top",this.stickyHeaderRef.current)}componentWillUnmount(){this.props.isAuthenticated||window.removeEventListener("scroll",this.logScrollEvent),this.stickyHeaderRef&&this.stickyHeaderRef.current&&x.Z.removeObstruction("top",this.stickyHeaderRef.current)}render(){let{board:e,children:t,experience:o,i18n:r,isAuthenticated:i,isBoardPreviewMode:a,isSeoBot:n,location:s,setBoardPreviewMode:d,user:c}=this.props;return e&&c?(0,H.jsx)(tf,{blockedByMe:c.blocked_by_me,board:e,experience:o,isAuthenticated:i,isBoardPreviewMode:a,isSeoBot:n,location:s,setBoardPreviewMode:d,stickyHeaderRef:this.stickyHeaderRef,username:c.username??"",children:t}):(0,H.jsx)(l.xu,{column:12,paddingY:2,children:i?(0,H.jsx)(l.$j,{accessibilityLabel:r._('Loading feed', ' - ', ' -- '),show:!0}):(0,H.jsx)(eS,{})})}}let tv=({boardId:e})=>{let{slug:t,username:o}=(0,n.UO)();return(0,S.Z)({name:"BoardInvitesResource",options:{...e?{board_id:e}:{username:o,slug:t},status_filters:"new,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),null};function ty({isBoardPreviewMode:e,children:t,setIsBoardPreviewMode:o}){let r=(0,b.ZP)(),l=(0,P.Z)(),s=(0,n.TH)(),{slug:c,username:_}=(0,n.UO)(),h=(0,a.I0)(),{logContextEvent:p}=(0,d.v)(),{isAuthenticated:x,isBot:m}=(0,A.B)(),f=`/${_||""}/${(0,eB.X)(c||"")}/`,g=(0,a.v9)(e=>(0,ta.Z)(e)[f]),v=g?.owner,y=(0,u._P)({id:1000251}),w=(0,eK.Z)(g?.owner?.id),C=(0,eQ.Z)(!!g?.collaborated_by_me);return(0,H.jsxs)(i.Fragment,{children:[g&&(g.access||[]).includes("write")&&(0,H.jsx)(tv,{boardId:g.id}),(0,H.jsx)(j.Z,{measureGridVisuallyComplete:!0,surface:"board",children:(0,H.jsx)(tg,{board:g,dispatch:h,experience:y,i18n:r,isAuthenticated:x,isBoardPreviewMode:e,isSeoBot:m,isViewerBoardOwner:w,isViewerCollaborator:C,location:s,logContextEvent:p,pwtStaticContext:l,setBoardPreviewMode:o,user:v,children:t})})]})}let tw=({username:e,field_set_key:t,slug:o,getPageMetadata:r,invite_code:i})=>({field_set_key:t||"profile_grid_item",is_mobile_fork:!0,username:e,slug:o,get_page_metadata:r,invite_code:i});function tj({children:e}){let t=(0,b.ZP)(),{isAuthenticated:o,isBot:r}=(0,A.B)(),i=(0,n.TH)(),{slug:a,username:l}=(0,n.UO)(),{showToast:s}=(0,E.F9)(),{error:d}=(0,z.Z)({name:"BoardResource",options:tw({username:decodeURIComponent(l||""),slug:(0,eB.$)(a||"")})}),c=d&&o&&{pathname:i.pathname.match(/\/[^\/]*\//g),search:i.search},_=(0,z.Z)(r?null:{name:"UserResource",options:{field_set_key:"profile",username:decodeURIComponent(l||"")}}),u=!r&&(0,C.Z)(_);return!o&&d?(0,H.jsx)(n.l_,{to:{pathname:"/ideas/",state:{showError:!0}}}):c?(s(({hideToast:e})=>(0,H.jsx)(p.Z,{duration:7e3,onHide:e,text:o?t._('We couldn\'t find that Pinner\'s board but here are some of their other boards!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'):t._('We can\'t find that board. Please log in and give it another try!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'),type:"error"})),(0,H.jsx)(n.l_,{to:c})):u?(0,H.jsx)(n.l_,{to:u}):e}function tP({children:e}){return(0,H.jsx)(tj,{children:(0,H.jsx)(ty,{children:e})})}},525556:function(e,t,o){o.d(t,{Z:()=>l});var r=o(667294),i=o(883119),a=o(138596),n=o(785893);function l({setting:e,viewerIsOwner:t}){let o=(0,a.ZP)(),l={0:{name:o._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:o._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},1:{name:o._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:t?o._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):o._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardPermissionDescription.SaveOnly.Collab', 'Text explaining collaborator permission setting')},INVITE_SETTING:{name:o._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:o._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}};return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(i.X6,{accessibilityLevel:2,size:"400",children:l[e].name}),(0,n.jsx)(i.xu,{paddingY:1,children:(0,n.jsx)(i.xv,{color:"subtle",size:"300",children:l[e].description})})]})}},864150:function(e,t,o){o.d(t,{Z:()=>u});var r=o(581722),i=o(883119),a=o(667294),n=o(521367),l=o(774838),s=o(785893);let d=88,c=e=>{switch(e){case 1:return 4004;case 2:return 4005;default:return}},_=({toolSize:e=d,boardTool:{icon:t,link:o,text:r,tool:_}})=>{let[u,h]=(0,a.useState)(!1),{isRTL:p}=(0,l.B)(),b=(0,a.useRef)(null),x=c(_);return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(i.Tg,{ref:b,accessibilityLabel:r,href:o,onBlur:()=>h(!1),onFocus:()=>h(!0),rounding:6,children:(0,s.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,s.jsx)(i.xu,{alignItems:"center",color:u?"lightWash":"secondary",display:"flex",height:e,justifyContent:"center",rounding:6,width:e,children:(0,s.jsx)(i.JO,{accessibilityLabel:r,color:"default",icon:"text-align-left"===t&&p?"text-align-right":t,size:24})}),(0,s.jsx)(i.xu,{paddingY:1,width:e,children:(0,s.jsx)(i.xv,{align:"center",overflow:"normal",size:"100",weight:"bold",children:r})})]})}),x&&(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(n.cs,{anchors:{[x]:b.current},placementId:1000251,positionRelativeToAnchor:!1}),(0,s.jsx)(n.N,{anchors:{[x]:b.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]})]})};function u({boardId:e,sectionId:t,horizontalAlignment:o="center",toolSize:a}){let n="";t?n=t:e&&(n=e);let l=t?`section-tools:${n}`:`board-tools:${n}`,d=(0,r.v9)(({feeds:e})=>e[l])||[];return d.length<1?null:d?(0,s.jsx)(i.xu,{"data-test-id":"board-tools-container",children:(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:o,width:"100%",children:(0,s.jsx)(i.kC,{alignItems:"stretch",gap:2,justifyContent:"start",children:d.map(e=>(0,s.jsx)(i.xu,{children:(0,s.jsx)(_,{boardTool:e,toolSize:a})},e.id))})})}):null}_.displayName="BoardTool"},21418:function(e,t,o){o.d(t,{$:()=>i,X:()=>a});var r=o(34198);let i=e=>decodeURIComponent(e),a=e=>encodeURIComponent((0,r.t)(e))},786628:function(e,t,o){o.d(t,{Z:()=>n});var r=o(883119),i=o(289478),a=o(785893);function n({boardId:e,surface:t}){return(0,a.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,a.jsx)(i.Z,{bgColor:"white",boardId:e,buttonPadding:4,elementType:10643,iconButtonColor:"darkGray",iconButtonSize:"xl",viewType:"board"===t?5:164})})}},853930:function(e,t,o){o.d(t,{Z:()=>i});var r=o(462867);function i(e){return e===(0,r.Z)().id}},29217:function(e,t,o){o.d(t,{Z:()=>i});var r=o(462867);function i(e){return(0,r.Z)().isAuth&&e}},968856:function(e,t,o){o.d(t,{Z:()=>Y});var r=o(667294),i=o(616550),a=o(883119),n=o(27399),l=o(104999),s=o(843061),d=o(571710),c=o(900565),_=o(824504),u=o(465784),h=o(924591),p=o(138596),b=o(160125),x=o(521233),m=o(577356),f=o(525556),g=o(581722),v=o(562400),y=o(233597),w=o(890678),j=o(730448),P=o(462867),A=o(236269),C=o(583875),S=o(211731),z=o(871962),B=o(785893);function I(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class k extends r.PureComponent{constructor(...e){super(...e),I(this,"state",{isSent:!1}),I(this,"onInlineSend",async()=>{let{inviteCollaborator:e,viewingUserId:t,boardId:o,recipient:r,showToast:i}=this.props;this.setState({isSent:!0});try{await e(o,r?.id??"",t),i(({hideToast:e})=>(0,B.jsx)(h.Z,{onHide:e,text:this.props.i18n._('1 invite sent!', 'BoardCollabSuggestionCell.onInlineSend.confirmationToast', 'Toast message after sending out an invitation to collaborate on a board.')}))}catch(e){this.setState({isSent:!1}),i(({hideToast:t})=>(0,B.jsx)(h.Z,{onHide:t,text:(0,A.Z)(e,"message")||this.props.i18n._('Sorry! There was an error adding collaborators', 'Toast for adding collaborator error', 'Toast for adding collaborator error'),type:"error"}))}})}render(){let{invite:e,legoBoardModalsEnabled:t,recipient:o}=this.props,{isSent:r}=this.state,i=!!(r||e),n=o?.avatar_color_index;return(0,B.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,B.jsx)(a.xu,{children:(0,B.jsx)(C.qE,{accessibilityLabel:"",color:n,name:o?.full_name??"",size:"md",src:o?.image_large_url??""})}),(0,B.jsx)(a.xu,{flex:"grow",paddingX:2,children:t?(0,B.jsxs)(a.xu,{children:[(0,B.jsx)(a.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:o?.full_name}),(0,B.jsx)(a.xv,{color:"subtle",lineClamp:1,size:"100",children:o?.username})]}):(0,B.jsx)(a.xv,{lineClamp:1,weight:"bold",children:o?.full_name})}),(0,B.jsx)(a.xu,{flex:"none",marginStart:2,right:!0,children:i?(0,B.jsx)(a.xu,{marginEnd:2,children:(0,B.jsx)(a.xv,{color:"subtle",size:"300",weight:"bold",children:this.props.i18n._('Invited', 'Disabled button after a user invites someone else', 'Disabled button after a user invites someone else')})}):(0,B.jsx)(a.zx,{color:"red",disabled:i,onClick:()=>{this.onInlineSend()},size:"lg",text:this.props.i18n._('Invite', 'Button to invite a contact to collaborate on a group board', 'Button to invite a contact to collaborate on a group board')})})]})}}function Z(e){let t=(0,p.ZP)(),{showToast:o}=(0,m.F9)();(0,w.Z)({name:"BoardInviteResource",options:{board_id:e.boardId,invited_user_id:e.recipient?.id}});let{id:r}=(0,P.Z)(),i=(0,g.I0)(),a=(0,S.DK)(),n=(0,z.U)({board:e.boardId,invited_user:e.recipient?.id??""}),l=(0,g.v9)(({invites:e})=>e[n]);return(0,B.jsx)(k,{...e,i18n:t,invite:l,inviteCollaborator:(e,t)=>i(a(e,[t])),showToast:o,viewingUserId:r??""})}var T=o(157498),E=o(508859),O=o(767415);function R(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let D={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class N extends r.PureComponent{constructor(e){super(e),R(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[]}),R(this,"onSearchChange",({value:e})=>{let{userId:t,searchContacts:o}=this.props;this.setState({value:e},o({options:{user:t,term:e}}))}),R(this,"getContactSuggestions",()=>{let{suggestions:e,userId:t,users:o}=this.props,{value:r,defaultSuggestions:i}=this.state;if(!r)return i.filter(e=>e.id&&o[e.id])||[];let a=`share-suggestions:${t}:${r}`,n=`share-suggestions:${t}:${r.slice(0,-1)}`;return e[a]||e[n]||[]}),R(this,"renderContactSuggestions",()=>{let{fetching:e,users:t,boardId:o,legoBoardModalsEnabled:r,isFullHeight:i}=this.props,{value:n}=this.state,l=this.getContactSuggestions(),s=Math.min(l.length,4),d=i?"100%":`calc(8.5vh * ${s})`;return e?(0,B.jsx)(a.xu,{height:d,paddingY:2,children:(0,B.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu'),show:!0})}):0===l.length?i&&n.trim()&&(0,B.jsx)(a.xu,{marginTop:4,children:(0,B.jsx)(a.xv,{align:"center",children:this.props.i18n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,B.jsx)(a.xu,{height:d,children:l.map(e=>(0,B.jsx)(Z,{boardId:o,legoBoardModalsEnabled:!!r,recipient:t[e.id]},e.id))})}),this.scrollerRef=(0,r.createRef)()}componentDidUpdate(e){let{fetching:t}=e,{value:o}=this.state,r=t&&!this.props.fetching,i=this.getContactSuggestions();if(!o&&r){let e=i.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:5,view_parameter:3059})}}componentDidMount(){n.Z.create("ShareSuggestionsResource",{suggestion_type:"group_board",board:this.props.boardId}).callGet().then(e=>{let t=e.resource_response.data;this.setState({defaultSuggestions:t})}).catch(()=>{(0,O.nP)("mweb_share_menu_load_suggestions.fail.board_invite",{sampleRate:1})})}render(){let{showScrollShadow:e}=this.state,{expandContactsList:t}=this.props,o=(0,j.Z)(()=>{let e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})},100);return(0,B.jsxs)(a.xu,{color:"default",direction:"column",display:"flex",height:"90%",paddingX:0,children:[(0,B.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:e?D:null},paddingX:4,paddingY:2,children:(0,B.jsx)(E.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),autoFocus:!1,id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:t,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value})}),(0,B.jsx)(a.xu,{ref:this.scrollerRef,direction:"column",display:"flex",onScroll:o,overflow:"scrollY",paddingX:4,paddingY:1,children:this.renderContactSuggestions()})]})}}function U(e){let t=(0,p.ZP)(),o=(0,g.I0)(),r=(0,g.v9)(({resources:e})=>Object.values(e.ShareSuggestionsTypeaheadResource||{}).some(e=>e.fetching)),i=(0,g.v9)(({feeds:e})=>Object.keys(e).filter(e=>e.includes("share-suggestions")).reduce((t,o)=>({...t,[o]:e[o]}),{})),{id:a}=(0,P.Z)(),n=(0,T.kW)(),s=(0,l.Z)();return(0,w.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:a}}),(0,B.jsx)(N,{...e,fetching:r,i18n:t,logContextEvent:s,searchContacts:e=>{(0,v.Z)(o((0,y.U)("ShareSuggestionsTypeaheadResource",e)),200)},suggestions:i,userId:a??"",users:n})}var M=o(532282),F=o(912471);function L(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let H=()=>o.e("74459").then(o.t.bind(o,842152,23)),$=({text:e})=>(0,B.jsx)(a.xv,{align:"center",size:"100",children:(0,B.jsx)(x.Z,{maxHeightPx:30,maxWidthPx:70,children:e})}),G=({heading:e,legoBoardModalsEnabled:t,onDismiss:o})=>{let r=(0,p.ZP)();return(0,B.jsxs)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,B.jsx)(a.xu,{alignItems:"center",display:"flex",padding:2,children:(0,B.jsx)(a.hU,{accessibilityLabel:r._('Close', 'close share menu', 'close share menu'),icon:"cancel",iconColor:"darkGray",onClick:o,padding:4,size:t?"lg":"sm"})}),(0,B.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginEnd:12,children:(0,B.jsx)(a.xv,{align:"center",size:"400",weight:"bold",children:e})})]})},V=({children:e,isOpen:t,legoBoardModalsEnabled:o,onDismiss:r,shouldRenderFullHeight:i})=>{let a=(0,p.ZP)(),n=a._('Invite collaborators', 'mweb.inviteSheet.header.label', 'Heading for the add collaborators sharesheet'),l={accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:a._('close send modal', ' - ', ' -- '),heading:n,isOpen:t,onDismiss:r,type:"board_collab_share_menu"};return i?(0,B.jsxs)(M.Z,{accessibilityModalLabel:n,isOpen:t,children:[(0,B.jsx)(G,{heading:n,legoBoardModalsEnabled:o,onDismiss:r}),e]}):(0,B.jsx)(u.ZP,{...l,children:e})};class W extends r.PureComponent{constructor(...e){super(...e),L(this,"state",{invitePath:"",inviteCode:null,Clipboard:null,fbLoaded:!1}),L(this,"setClipboard",e=>{let{Clipboard:t}=this.state;if(this.copyButtonRef=e,!e||!t)return;let o=new t(e,{text:()=>this.state.invitePath});o.on("success",e=>{this.showCopyToast(e)}),o.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}),L(this,"showCopyToast",e=>{this.logShare(12),this.props.onDismiss(e),this.props.showToast(({hideToast:e})=>(0,B.jsx)(h.Z,{onHide:e,text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard')}))}),L(this,"handleMessengerClick",()=>{this.logShare(6),this.fetchFreshInviteCode(6)}),L(this,"handleTwitterClick",()=>{this.logShare(9),this.fetchFreshInviteCode(9)}),L(this,"handleWhatsappClick",()=>{this.logShare(10),this.fetchFreshInviteCode(10)}),L(this,"handleFacebookClick",()=>{let{inviteCode:e,invitePath:t,fbLoaded:o}=this.state;o&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},t=>{t&&!t.error_message&&this.logShare(5,e)}),this.fetchFreshInviteCode(5)}),L(this,"copyButtonRef",null)}componentDidMount(){this.fetchFreshInviteCode(12),(0,b.we)("en_US").then(()=>{this.setState({fbLoaded:!0})}),H().then(({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}),this.props.logContextEvent({event_type:7120,element:331,view_type:5,view_parameter:3059})}componentDidUpdate({objectId:e}){let{objectId:t}=this.props;e!==t&&this.fetchFreshInviteCode(12)}async fetchFreshInviteCode(e){let{objectId:t,objectType:o,fetchFreshInviteCode:r}=this.props,{invitePath:i,inviteCode:a}=await r(e,t,o);i&&this.setState({invitePath:i}),a&&this.setState({inviteCode:a})}logShare(e,t=this.state.inviteCode){let{objectId:o,objectType:r}=this.props;n.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:4,invite_object:r,invite_channel:e},invite_code:t,object_id:o}).callCreate()}render(){let{boardCollabPermissionsSetting:e,history:t,legoBoardModalsEnabled:o,objectId:i,onExpand:n,shouldRenderFullHeight:l}=this.props,{invitePath:u}=this.state,h=`fb-messenger://share/?link=${encodeURIComponent(u)}&app_id=${b.GH}`,p=`twitter://post?message=${encodeURIComponent(u)}`,x=`whatsapp://send?text=${encodeURIComponent(u)}`,m=({children:e,marginEnd:t})=>(0,B.jsx)(a.xu,{direction:"column",display:"flex",marginEnd:t,width:o?void 0:78,children:e}),g=({children:e})=>(0,B.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:o?void 0:3,children:e}),v=this.props.i18n._('Copy link', 'Copy link icon', 'Copy link icon'),y=this.props.i18n._('Messenger', 'Facebook Messenger App', 'Facebook Messenger App'),w=o?44:48;return(0,B.jsxs)(r.Fragment,{children:[!l&&(0,B.jsxs)(a.xu,{children:[(0,B.jsx)(a.xu,{height:4}),[0,1].includes(e)&&(0,B.jsx)(a.iP,{onTap:()=>t.push(`/board/${i}/permissions`),children:(0,B.jsxs)(a.xu,{marginBottom:8,paddingX:4,children:[(0,B.jsx)(a.xu,{paddingY:2,children:(0,B.jsx)(a.xv,{size:"100",children:this.props.i18n._('Collaborators can...', 'boardEdit.EditCollaborators', 'Text before showing collaborator permissions on a board')})}),(0,B.jsxs)(a.kC,{alignItems:"start",justifyContent:"between",children:[(0,B.jsx)(a.xu,{width:"60%",children:(0,B.jsx)(f.Z,{setting:e})}),(0,B.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('See permission options', 'boardEdit.EditCollaborators', 'accessibility label on button'),icon:"arrow-forward"})]})]})}),(0,B.jsxs)(a.xu,{display:"flex",justifyContent:"around",marginEnd:4,marginStart:4,overflow:"scrollX",width:"100%",children:[(0,B.jsxs)(m,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(a.xu,{ref:this.setClipboard,children:(0,B.jsx)(a.Sj,{bgColor:"lightGray",icon:"link",size:"lg"})})}),(0,B.jsx)($,{text:v})]}),(0,B.jsxs)(m,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(a.rU,{href:h,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},rel:"nofollow",children:(0,B.jsx)(d.Z,{size:w})})}),(0,B.jsx)($,{text:y})]}),(0,B.jsxs)(m,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(a.rU,{href:x,onClick:this.handleWhatsappClick,rel:"nofollow",children:(0,B.jsx)(c.Z,{size:w})})}),(0,B.jsx)($,{text:this.props.i18n._('WhatsApp', 'WhatsApp App', 'WhatsApp App')})]}),(0,B.jsxs)(m,{marginEnd:2,children:[(0,B.jsx)(g,{children:(0,B.jsx)(a.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),this.handleFacebookClick()},rel:"nofollow",children:(0,B.jsx)(s.Z,{size:w})})}),(0,B.jsx)($,{text:this.props.i18n._('Facebook', 'Facebook App', 'Facebook App')})]}),(0,B.jsxs)(m,{children:[(0,B.jsx)(g,{children:(0,B.jsx)(a.rU,{href:p,onClick:this.handleTwitterClick,rel:"nofollow",children:(0,B.jsx)(_.Z,{size:w})})}),(0,B.jsx)($,{text:this.props.i18n._('X', 'Twitter App', 'Twitter App Label')})]})]}),(0,B.jsx)(a.xu,{height:16})]}),(0,B.jsx)(U,{boardId:i,expandContactsList:n,isFullHeight:l,legoBoardModalsEnabled:o})]})}}function X(e){let t=(0,i.k6)(),o=(0,p.ZP)(),r=(0,l.Z)(),{showToast:a}=(0,m.F9)(),n=(0,F.D3)();return(0,B.jsx)(W,{...e,fetchFreshInviteCode:n,history:t,i18n:o,logContextEvent:r,showToast:a})}let Y=({boardCollabPermissionsSetting:e,isOpen:t,onDismiss:o,objectId:r,objectType:i})=>(0,B.jsx)(V,{isOpen:t,legoBoardModalsEnabled:!0,onDismiss:o,shouldRenderFullHeight:!0,children:(0,B.jsx)(X,{boardCollabPermissionsSetting:e,legoBoardModalsEnabled:!0,objectId:r,objectType:i,onDismiss:o,shouldRenderFullHeight:!0})})},615714:function(e,t,o){o.d(t,{Z:()=>u});var r=o(883119),i=o(465784),a=o(138596),n=o(216975),l=o(785893);let s={ARCHIVE:"archive",DELETE:"delete",DELETE_SECTION:"deleteSection",LEAVE:"leave",REMOVE:"remove",UNARCHIVE:"unarchive"},d=(e,t,o)=>e===s.LEAVE?o._(`If you leave this board, it won't show up on your
    profile and you won't be able to save Pins to it anymore.`, 'the effect of leaving a board', 'the effect of leaving a board'):e===s.DELETE?o._('You won\'t be able to get it back.', 'the effect of deleting a board', 'the effect of deleting a board'):e===s.DELETE_SECTION?o._('Once you delete a section and all its Pins, you can\'t undo it!', ' - ', ' -- '):e===s.ARCHIVE?(0,n.nk)(o._('If you archive {{ boardName }}, we\'ll hide it from your profile and you won\'t be able to save new Pins to it. If you change your mind, you can unarchive it.', ' - ', ' -- '),{boardName:(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:t},t)}):e===s.UNARCHIVE?(0,n.nk)(o._('If you unarchive {{ boardName }}, it will show up on your profile and you\'ll be able to save new Pins to it.', ' - ', ' -- '),{boardName:(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:t},t)}):null,c=(e,t)=>e===s.DELETE?t._('Delete', ' - ', ' -- '):e===s.LEAVE?t._('Leave board', ' - ', ' -- '):e===s.REMOVE?t._('Remove', ' - ', ' -- '):e===s.DELETE_SECTION?t._('Delete section', ' - ', ' -- '):e===s.ARCHIVE?t._('Archive', 'button label on confirming board archive', 'button label on confirming board archive'):e===s.UNARCHIVE?t._('Unarchive', 'button label on confirming board unarchive', 'button label on confirming board unarchive'):"",_=(e,t,o)=>e===s.DELETE?o._('Delete Board?', 'confirmation of the act of deleting a board', 'confirmation of the act of deleting a board'):e===s.LEAVE?o._('Leave this Board?', 'confirmation of the act of leaving a board', 'confirmation of the act of leaving a board'):e===s.REMOVE?(0,n.nk)(o._('Are you sure you want to remove {{ fullName }}?', ' - ', ' -- '),{fullName:t}):e===s.DELETE_SECTION?o._('Delete section?', ' - ', ' -- '):e===s.ARCHIVE?o._('Archive this board?', 'modal heading for board archive confirmation', 'modal heading for board archive confirmation'):e===s.UNARCHIVE?o._('Unarchive this board?', 'modal heading for board unarchive confirmation', 'modal heading for board unarchive confirmation'):null,u=({type:e,fullName:t,isOpen:o,onConfirm:n,onDismiss:s})=>{let u=(0,a.ZP)();return(0,l.jsx)(i.ZP,{accessibilityModalLabel:"",isOpen:o,mobileHideCloseIcon:!0,onDismiss:s,type:"edit_wraning_modal",children:(0,l.jsx)(r.xu,{padding:3,children:(0,l.jsxs)(r.xu,{marginBottom:2,marginTop:3,children:[(0,l.jsx)(r.xu,{children:(0,l.jsx)(r.X6,{align:"center",overflow:"normal",size:"500",children:_(e,t,u)})}),(0,l.jsx)(r.xu,{marginBottom:8,marginTop:2,children:(0,l.jsx)(r.xv,{align:"center",children:d(e,t,u)})}),(0,l.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",justifyContent:"center",children:[(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},"data-test-id":"confirmButtonContainer",padding:1,width:"100%",children:(0,l.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:n,size:"lg",text:c(e,u)})}),(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"no-wrap"}},padding:1,width:"100%",children:(0,l.jsx)(r.zx,{fullWidth:!0,onClick:s,size:"lg",text:u._('Cancel', ' - ', ' -- ')})})]})]})})})}},643121:function(e,t,o){o.d(t,{Z:()=>p});var r=o(667294),i=o(581722),a=o(883119),n=o(583875),l=o(138596),s=o(216975),d=o(338065),c=o(149125),_=o(336486),u=o(687163),h=o(785893);function p({isSelf:e,showVerified:t=!1,user:o={},onFollowChange:p}){let[b,x]=(0,r.useState)(o.explicitly_followed_by_me||!1),[m,f]=(0,r.useState)(!1),g=(0,i.I0)(),v=(0,l.ZP)(),y=()=>{f(!1),g((0,_.fv)(o.id)),x(!1),p&&p(o,!1)},{verified_identity:w,full_name:j,is_verified_merchant:P,is_private_profile:A,explicitly_followed_by_me:C,username:S}=o,z=w?.verified,B=o.image_medium_url||o.image_small_url;return(0,h.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,children:[m&&(0,h.jsx)(c.Z,{firstName:j??"",handleUnfollowUser:y,onDismiss:()=>{f(!1)}}),(0,h.jsx)(a.xu,{flex:"grow",paddingX:1,children:(0,h.jsx)(a.Tg,{href:`/${S}/`,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(a.xu,{width:50,children:(0,h.jsx)(n.qE,{color:o?.avatar_color_index,name:(0,s.nk)(v._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:j}).join(" "),size:"fit",src:B??""})}),(0,h.jsx)(a.xv,{weight:"bold",children:t&&(P||z)?(0,h.jsx)(u.Z,{badgeSize:"sm",badgeSpacing:2,fullName:j??"",isVerifiedIdentity:z,isVerifiedMerchant:P}):j}),A&&(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.JO,{accessibilityLabel:v._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),icon:"lock",inline:!0})})]})})}),(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!A||C)&&(0,h.jsx)(d.Z,{followEventType:45,id:o.id,isFollowed:b,isUserMe:!!e,onFollow:e=>{g((0,_.ZN)(e)),x(!0),p&&p(o,!0)},onUnfollow:()=>{A?f(!0):y()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},148:function(e,t,o){o.d(t,{b:()=>_,v:()=>u});var r=o(667294),i=o(616550),a=o(213491),n=o(477738),l=o(739405),s=o(582610),d=o(785893);let{Provider:c,useHook:_}=(0,a.Z)("SearchParams"),u=({children:e,value:t})=>{let o=function(){let e=(0,l.HG)(),{search:t,pathname:o}=(0,i.TH)(),{scope:r}=(0,i.UO)(),a=!r&&o.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:a?n.lw.SHOP_TOOL:r,search:t})}(),a=(0,r.useMemo)(()=>({...o,...t}),[o,t]);return(0,d.jsx)(c,{value:a,children:e})}},492601:function(e,t,o){o.d(t,{Bq:()=>u,CZ:()=>s,Db:()=>c,Lu:()=>l,kl:()=>a,rC:()=>i,sb:()=>d,t3:()=>n,to:()=>_});var r=o(883119);let i="full-height-inbox-panel",a=new r.Ry(700),n="defaultInboxView",l="newMessageView",s="newMessageSelectRecipientsView",d="invitesRequestsView",c="followInviteEducationView",_=64,u="conversationView"},793160:function(e,t,o){o.d(t,{Z:()=>r});let r=(0,o(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},32602:function(e,t,o){o.d(t,{Z:()=>a});var r=o(667294),i=o(793160);function a(){let e=(0,r.useContext)(i.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},34198:function(e,t,o){function r(e){if(!e)return e;let t=e.replace(/%26/gi,"&");return(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/%3F/gi,"?")).replace(/%23/gi,"#")).replace(/%2B/gi,"+")).replace(/%3B/gi,";")).replace(/%2C/gi,",")).replace(/%2F/gi,"/")).replace(/%3A/gi,":")).replace(/%40/gi,"@")).replace(/%3D/gi,"=")).replace(/%24/gi,"$")}function i(e){return Object.keys(e).reduce((t,o)=>({...t,[o]:r(e[o]??"")}),{})}o.d(t,{Z:()=>i,t:()=>r})},582610:function(e,t,o){o.d(t,{Z:()=>a});var r=o(477738),i=o(575820);function a({isDesktop:e,scope:t,search:o}){let{auto_correction_disabled:a="",b_id:n,brands:l,brand_value:s,category:d,colors:c,commerce_only:_="",cover_pin_sig:u,deb_d:h,domains:p,filters:b,guided_search_query:x,interest_id:m,journey_depth:f,on_sale:g,price_max:v,price_min:y,q:w,query_pin_sigs:j,request_params:P,rs:A,selected_one_bar_modules:C,source_id:S,source_module_id:z,style:B,tab:I,top_pin_ids:k,user:Z}=(0,i.mB)(o),T="true"===_.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:l,brandValue:s,bubbleId:n,category:d,colors:c,commerceOnly:"true"===_.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:b,debD:h,domains:p,guidedSearchQuery:x,interestId:m,journeyDepth:f?parseInt(f,10):void 0,onSale:g,personalizationPinSig:j,placementId:(0,r.Hd)(T,e),priceMax:v,priceMin:y,query:w,requestParams:P,rs:A,scope:T,selectedOneBarModules:C,sourceId:S,sourceModuleId:z,style:B,tab:I||"",topPinIds:k,user:Z,viewParameter:(0,r._R)(T),viewType:T===r.lw.SHOP_TOOL?1:2}}},149125:function(e,t,o){o.d(t,{Z:()=>d});var r=o(883119),i=o(465784),a=o(138596),n=o(216975),l=o(739405),s=o(785893);function d({onDismiss:e,firstName:t,handleUnfollowUser:o}){let d=(0,a.ZP)(),c=(0,l.HG)(),_=(0,n.nk)(d._('Unfollow {{ firstName }}?', 'unfollowUser.modal.header', 'header text asking if we should unfollow the user. firstName: name of the user to unfollow'),{firstName:t}).join(""),u=d._('You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.', 'unFollowUser.modal.description', 'explanation of what removing another user means'),h=d._('Cancel', 'unfollowUser.modal.cancel', 'Cancel unfollowing a user'),p=d._('Unfollow', 'unfollowUser.modal.button.unfollow', 'Button to confirm removing a user');return c?(0,s.jsx)(i.ZP,{accessibilityModalLabel:_,footer:(0,s.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:e,size:"lg",text:h})}),(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:o,size:"lg",text:p})})]}),heading:_,onDismiss:e,role:"alertdialog",size:"md",children:(0,s.jsx)(r.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,s.jsx)(r.xv,{children:u})})}):(0,s.jsxs)(i.ZP,{accessibilityModalLabel:_,mobileHideCloseIcon:!0,onDismiss:e,type:"unFollow_button",children:[(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,s.jsx)(r.X6,{accessibilityLevel:1,size:"500",children:_})}),(0,s.jsx)(r.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,s.jsx)(r.xv,{children:u})}),(0,s.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:e,size:"md",text:h})}),(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:o,size:"md",text:p})})]})]})}},10565:function(e,t,o){o.d(t,{x:()=>n,z:()=>l});var r=o(27399),i=o(779686);function a(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function n(e,t){return o=>(o(a(e)),r.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}let l=(e,t)=>o=>r.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(r=>(o((0,i.Qv)("archived-boards",[{id:e,type:"board"}])),o(a(e,t)),r))},629616:function(e,t,o){o.d(t,{V:()=>d,Z:()=>s});var r=o(681698),i=o(329197),a=o(160587),n=o(779686),l=o(438274);function s(e,t,o){return s=>(0,r.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:o?{orbac_subject_id:o}:{}}).then(()=>Promise.all([s((0,a.eo)({boardId:e})),s((0,i.Z)(t,"pin_count")),s((0,n.N8)(l.Z.BOARD_SECTIONS,t))]))}let d=async(e,t,o,s)=>{await (0,r.Z)({url:`/v3/boards/${t}/merge/${o}/`,method:"POST",data:s?{orbac_subject_id:s}:{}}),e((0,a.eo)({boardId:t})),(0,i.Z)(o,"pin_count"),e((0,n.N8)(l.Z.BOARD_SECTIONS,o))}},951798:function(e,t,o){o.d(t,{Y:()=>n,f:()=>l});var r=o(27399),i=o(779686);function a(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function n(e,t){return o=>(o(a(e)),r.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let l=(e,t)=>o=>r.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(r=>(o((0,i.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),o(a(e)),r))},956701:function(e,t,o){o.d(t,{Cp:()=>d,FK:()=>s,H5:()=>v,MI:()=>b,O0:()=>p,QZ:()=>l,W:()=>f,WF:()=>_,Wz:()=>y,a5:()=>u,dz:()=>m,e0:()=>h,e2:()=>n,iW:()=>g,n1:()=>a,rm:()=>c,xu:()=>x});var r=o(173874),i=o(138482);let a=()=>({type:"DISMISS_UNAUTH_SAVE"}),n=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),l=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),s=()=>({type:"HIDE_NAV_FOOTER"}),d=()=>({type:"SHOW_NAV_FOOTER"}),c=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),_=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),h=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),p=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),b=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),x=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),m=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),f=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),g=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},v=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),y=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,r.bo)(e)?"today":(0,r.dr)(e)?"ideas":t&&(0,r.dZ)(e,t)?"own_section":t&&(0,r.J)(e,t)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,i.Z)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":""})},336486:function(e,t,o){o.d(t,{KF:()=>c,ZN:()=>l,fv:()=>d,kE:()=>u,yA:()=>s});var r=o(27399),i=o(681698),a=o(826681);function n(e,t,o,i){return r.Z.create("UserFollowResource",{user_id:e,invite_code:i||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:o})}function l(e,t=null,o,r){return i=>{n(e,t,o,r).callCreate().catch(()=>i((0,a.P_)(e,!1))),i((0,a.P_)(e,!0))}}function s(e,t=null,o,r){return async i=>{i((0,a.P_)(e,!0)),await n(e,t,o,r).callCreate().catch(t=>{throw i((0,a.P_)(e,!1)),t})}}function d(e,t=null,o){return r=>{n(e,t,o).callDelete().catch(()=>r((0,a.P_)(e,!0))),r((0,a.P_)(e,!1))}}function c(e,t=null,o){return async r=>{r((0,a.P_)(e,!1)),await n(e,t,o).callDelete().catch(t=>{throw r((0,a.P_)(e,!0)),t})}}let _=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&((0,i.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(_(e,!1))),t(_(e,!0)))}},427002:function(e,t,o){o.d(t,{Z:()=>i});var r=o(730056);let i=function(e,t){let o=t=>!!(t.entities&&t.entities[e]);return(i,a)=>{let n=t(i,a);if(a.payload&&!Array.isArray(a.payload)){let{normalizedResponse:t}=a.payload;if(t&&o(t)){var l;return Object.keys(l=t.entities[e]).reduce((e,t)=>({...e,[t]:(0,r.Z)(e[t],l[t])}),n)}}return n}}},871962:function(e,t,o){o.d(t,{U:()=>i,Z:()=>n});var r=o(427002);let i=e=>`${e.board}:${e.invited_user??""}`,a=(e,t)=>({...e,[i(t)]:{...e[i(t)],...t}}),n=(0,r.Z)("collaboratorinvite",(e={},t)=>{switch(t.type){case"BOARD_COLLABORATOR_DELETE":return a(e,{board:t.payload.boardId,invited_user:t.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":let{boardId:o,viewingUser:r,status:n,collaboratingUsers:l}=t.payload;return l.map(e=>e?.id).filter(Boolean).reduce((e,t)=>{let l={access:["delete"],board:o,invited_user:t,invited_by_user:r,status:n,type:"collaboratorinvite"},s=i(l);return e[s]&&"not_invited"!==e[s].status?e:a(e,l)},{...e});case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return a(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":let s=t.payload.isRequestToJoin?"accepted":"new";return a(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id??"",status:s});case"BOARD_INVITE_DENIED_BY_VIEWER":let d=i({board:t.payload.boardId,invited_user:t.payload.userId}),{[d]:c,..._}=e;return _;default:return e}})},956226:function(e,t,o){o.d(t,{Z:()=>r});let r=(0,o(442279).createSelector)(e=>e.boards,e=>Object.keys(e).reduce((t,o)=>{let r=e[o];t[r.url??""]=r;let{oldSlugUrl:i}=r;return i&&(t[i]=r),t},{}))},263433:function(e,t,o){o.d(t,{Z:()=>c});var r=o(667294),i=o(883119),a=o(138596),n=o(216975),l=o(774838),s=o(785893);let d=(0,r.forwardRef)((e,t)=>{let{addButtonRef:o,collaboratorCount:r,nonDisplayedCollaboratorCount:d,displayedCollaborators:c,onClick:_,showAddButton:u,avatarSize:h="md"}=e,p=(0,a.ZP)(),{isRTL:b}=(0,l.B)(),x=c.map(e=>e.name),m="";switch(d?"default":x.length){case 3:m=(0,n.Wc)(p._('{{ first }}, {{ second }}, and {{ last }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames'),{first:`${x[0]}`,second:`${x[1]}`,last:`${x[2]}`});break;case 2:m=(0,n.Wc)(p._('{{ first }} and {{ second }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.'),{first:`${x[0]}`,second:`${x[1]}`});break;default:m=x.join(", ")}let f=d?(0,n.Wc)(p.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', d, 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:m,leftCount:`${d}`}):(0,n.Wc)(p._('Collaborators: {{ userNames }}.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators', 'Accessibility label that lists the names of collaborators'),{userNames:m}),g=c.length>1?[...c,...d?Array(d).fill({name:""}):[]]:c,v=(c.length>1||0===r)&&u,y=p._('Invite collaborators.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.');return(0,s.jsxs)(i.xu,{"data-test-id":"user-rep-avatar",position:"relative",rounding:"pill",children:[v?(0,s.jsx)(i.xu,{ref:o,height:"sm"===h?32:48,left:b,position:"absolute",right:!b,rounding:"circle",top:!0,width:"sm"===h?32:48}):null,(0,s.jsx)(i.HE,{ref:t,accessibilityLabel:v?`${f} ${y}`:`${f}`,addCollaborators:v,collaborators:g,onClick:_,role:"button",size:h})]})});d.displayName="BoardAvatarGroup";let c=d},755559:function(e,t,o){o.d(t,{I:()=>l,Z:()=>n});var r=o(661376),i=o(718846);let a=({boardId:e,ownerUsername:t,ownerName:o,ownerImgSrc:a})=>{let n=(0,i.Z)(),{data:l,isLoaded:s}=(0,r.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...n?{orbac_subject_id:n}:{}}}),d=[{name:o,src:a,href:`/${t}/`,isDim:!1}];return s&&l&&l.length>0&&l.forEach(e=>{d.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),d},n=a;function l({children:e,...t}){return e(a(t))}},692036:function(e,t,o){o.d(t,{Z:()=>tE});var r=o(667294),i=o(581722),a=o(616550),n=o(883119),l=o(363061),s=o(611649),d=o(272598),c=o(257680),_=o(201363),u=o(230201),h=o(943152),p=o(521367),b=o(400962),x=o(112658),m=o(577356),f=o(893957),g=o(462867),v=o(200619),y=o(601871),w=o(603284),j=o(74972),P=o(59111),A=o(785893);function C({layoutType:e,thumbnails:t}){switch(e){case 4:let o=t&&t[0]&&t[0]["236x"];return(0,A.jsx)(n.zd,{height:80,rounding:4,width:80,children:o?(0,A.jsx)(n.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:o.height,naturalWidth:o.width,src:o.url}):(0,A.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,A.jsx)(n.xu,{color:"secondary",height:80,width:39.4}),(0,A.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,A.jsx)(n.xu,{color:"secondary",height:39.4,width:39.4}),(0,A.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,A.jsx)(n.zd,{height:80,rounding:4,width:80,children:(0,A.jsx)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let o=t&&t?.length>0?t[e]:null;return(0,A.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,A.jsx)(n.xu,{height:80,width:39.4,children:o?.["236x"]?.url&&(0,A.jsx)(n.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:o["236x"].url})})},e)})})});default:return null}}let S=[502043,502085],z=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function B({boardId:e,displayData:t,complete:o,dismiss:i,handleShowArchiveConfirmation:a,handleShowGroupPinsModal:l}){let{logContextEvent:s}=(0,u.v)(),d=t.custom_properties,[c,_]=(0,r.useState)(null),h=e=>{c||_(setTimeout(()=>{e()},2e4))};(0,r.useEffect)(()=>()=>clearTimeout(c),[c]);let p={2:a,3:()=>{d&&l(d.cluster_id,d.section_name)}};return(0,r.useEffect)(()=>{h(i),s({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,A.jsxs)(n.mh,{children:[(0,A.jsx)(P.Z,{unsafeCSS:z}),(0,A.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,A.jsx)(n.xu,{flex:"none",children:(0,A.jsx)(C,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,A.jsxs)(n.xu,{marginStart:4,children:[(0,A.jsx)(n.xv,{inline:!0,children:(0,A.jsx)(n.X6,{size:"400",children:t.text})}),(0,A.jsxs)(n.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,A.jsx)(n.zx,{color:"gray",onClick:()=>{s({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),i()},text:t.dismiss_button.text}),(0,A.jsx)(n.xu,{paddingX:2,children:(0,A.jsx)(n.zx,{color:"red",onClick:()=>{p[t.complete_button.action_type](),s({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),o()},text:t.complete_button.text})})]})]})]})]})}function I({boardId:e,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:o}){return(0,A.jsx)(p.a3,{eligibleIds:S,placementId:18,children:({experience:r,complete:i,dismiss:a})=>(0,A.jsx)(B,{boardId:e,complete:i,dismiss:a,displayData:r.display_data,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:o})})}var k=o(680650),Z=o(160587),T=o(250408),E=o(122222),O=o(592444),R=o(311752),D=o(465784),N=o(138596),U=o(216975);function M(){let e=(0,N.ZP)(),t=(0,A.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,A.jsx)(n.xv,{children:(0,U.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,A.jsx)(n.xu,{display:"inlineBlock",children:(0,A.jsx)(n.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})}),o=t=>(0,A.jsx)(n.kC,{justifyContent:"end",children:(0,A.jsx)(n.zx,{onClick:()=>t(),text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),r=t=>(0,A.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,A.jsx)(n.xu,{maxWidth:400,children:(0,A.jsx)(n.X6,{align:"center",size:"500",children:(0,U.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,A.jsx)(n.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(n.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,A.jsx)(n.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(n.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,A.jsx)(n.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,A.jsx)(n.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"md"})})]});return(0,A.jsx)(p.a3,{eligibleIds:[503077],placementId:18,children:({complete:i,dismiss:a})=>(0,A.jsx)(D.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:o(i),heading:r(a),onDismiss:a,size:"sm",children:t})})}var F=o(329577),L=o(779686),H=o(438274),$=o(349554),G=o(309947),V=o(101267),W=o(249347),X=o(189634);function Y({board:e,currentFilter:t,eligibleFilters:o,isOwnBoard:i,surface:a,setCurrentFilter:l,setTitle:s}){let d=(0,F.xZ)(),{logContextEvent:c}=(0,u.v)(),_=(0,N.ZP)(),h=(0,r.useRef)(null),p=d?.boardPinDensity,[b,x]=(0,r.useState)(!1),m=()=>{x(!1)},f=e=>{(0,W.Z)({boardDensity:e,component:"board"===a?13183:13187,viewType:"board"===a?5:164},c),(0,X.Z)({density:e,surface:"board"}),d?.setBoardPinDensity(e)},g=[],v={[V.cg]:12111,[V.c7]:12110,[V.Ac]:12227};if(o){let r={items:o.map(o=>({isSelected:o.pin_type===t,onClick:()=>{c({event_type:101,component:13475,element:v[o.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:i?3069:3070}),l(o.pin_type??-1),s(o.pin_type===V.cg?null:o.text),m()},text:o.text??""})),label:_._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};g.push(r)}return g.push({items:[{isSelected:"regular"===p,onClick:()=>{m(),f("regular")},text:_._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===p,onClick:()=>{m(),f("dense")},text:_._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:_._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(n.xu,{ref:h,children:(0,A.jsx)(n.hU,{accessibilityLabel:_._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),icon:"filter",iconColor:"darkGray",onClick:()=>{c({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:i?3069:3070}),x(!b)},selected:b,size:"lg"})}),b&&(0,A.jsx)(n.Lt,{anchor:h.current,disableMobileUI:!0,id:"filter_board",onDismiss:m,children:g.map(({items:e,label:t})=>(0,A.jsx)(n.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:o})=>(0,A.jsx)(n.Lt.Item,{onSelect:t,option:{label:o,value:o},selected:e?{label:o,value:o}:null},o))},t))})]})}let q=(0,p.RL)(1000332)(function({board:e,currentFilter:t,isHidePinCount:o,isOwnBoard:i,paddingX:a=8,section:l,setCurrentFilter:s,showExperienceTooltip:d}){let c=(0,N.ZP)(),{eligible_pin_type_filters:_}=l??e,[u,h]=(0,r.useState)(null),b=(0,r.useRef)(null),x=l?l.pin_count:e.pin_count,{experimentalGutter:m}=(0,G.Z)(),f=(e,t)=>(b&&b.current?.scrollIntoView(!1),(0,A.jsx)(n.pl,{anchor:b.current,idealDirection:"down",message:t.text,onDismiss:e}));return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:m?{paddingLeft:m,paddingRight:m}:{}},direction:"row",display:"flex",justifyContent:o?"end":"between",paddingX:a,children:[!o&&(0,A.jsx)(n.xu,{flex:"grow",children:(0,A.jsx)(n.X6,{accessibilityLevel:2,size:"400",children:t>0&&u?u:(0,U.nk)(c.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', x ?? 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:x})})}),(0,A.jsx)(n.xu,{ref:b,children:(0,A.jsx)(Y,{board:e,currentFilter:t,eligibleFilters:_,isOwnBoard:i,setCurrentFilter:s,setTitle:h,surface:l?"section":"board"})})]}),d&&b&&(0,A.jsx)(n.mh,{children:(0,A.jsx)(p.a3,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>f(e,t)})})]})});var J=o(531937),K=o(700594),Q=o(844677),ee=o(504860),et=o(497455),eo=o(755533),er=o(93894);let ei=()=>{};function ea({board:e,currentView:t,handleContentViewChange:o,handleSetCurrentModal:a,handleShowEditSectionModal:l,handleShowMergeSectionsConfirmationModal:s,isBoardPreviewMode:d,isHidePinCount:c,isOwnerOrCollaborator:_,isOwnBoard:u,isPinGridSorted:h,refreshBoardData:p=ei,refreshSectionData:b=ei,section:x}){let m=(0,g.Z)(),f=(0,K.Z)({board:e,viewer:m}),v=(e.access||[]).includes("write"),y=F.xZ()?.boardPinDensity,w=(0,eo.Z)(x?(0,et.Z)(e,x):""),[j,P]=(0,r.useState)(V.cg),[C,S]=(0,r.useState)(!1),z=(0,i.I0)();(0,r.useEffect)(()=>()=>{j!==V.cg&&(x?z((0,L.N8)(H.Z.BOARD_SECTION_PINS,x.id??"")):z((0,L.N8)(H.Z.BOARDFEED,e.id)))},[e,j,z,x]);let B=(0,r.useCallback)(()=>{j>0&&(P(V.cg),x?b():p())},[j,b,p,x]),I=(0,r.useMemo)(()=>x?{currentFilter:j,eligibleFilters:x.eligible_pin_type_filters,refreshData:b,sectionId:x.id}:{currentFilter:j,eligibleFilters:e.eligible_pin_type_filters,refreshData:p,setShowExperienceTooltip:S},[x,e.eligible_pin_type_filters,j,p,b]);return x?(0,A.jsx)(J.k,{value:I,children:(0,A.jsxs)(r.Fragment,{children:[_&&!d&&(0,A.jsx)(q,{board:e,currentFilter:j,isOwnBoard:u,section:x,setCurrentFilter:P,showExperienceTooltip:!1}),(0,A.jsx)(ee.Z,{board:e,boardSectionId:x.id,currentFilter:j,denseViewSelected:v&&"dense"===y,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:u,isOwnerOrCollaborator:_,refreshFilteredFeed:B,renderFooterStory:t=>!e.archived_by_me_at&&_&&(0,A.jsx)(n.xu,{marginBottom:12,children:(0,A.jsx)(Q.Z,{children:(0,A.jsx)(er.Z,{collection:x,storyId:t,url:w})})}),viewer:m,viewParameter:f})]})}):(0,A.jsx)(J.k,{value:I,children:(0,A.jsxs)(r.Fragment,{children:[_&&!d&&(0,A.jsx)(R.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,A.jsx)(q,{board:e,currentFilter:j,isHidePinCount:c,isOwnBoard:u,paddingX:0,setCurrentFilter:P,showExperienceTooltip:C})}),(0,A.jsx)($.Z,{actions:{onBoardOrganizeClick:ei},board:e,currentFilter:j,currentView:t,enableReordering:_,isBoardPreviewMode:d,isOwnBoard:u,isPinGridSorted:h,onContentViewChange:o,onShowEditSectionModal:l,onShowMergeSectionsConfirmationModal:(e,t)=>{a(E.s.sectionMergeConfirm),s(e,t)},refreshFilteredFeed:B,viewParameter:f}),_&&(0,A.jsx)(M,{})]})})}var en=o(718846),el=o(166613),es=o(728270),ed=o(181735),ec=o(589641),e_=o(564023),eu=o(711960),eh=o(877263);function ep({onDismiss:e,boardId:t}){let{showErrorToast:o,showSuccessToast:i}=(0,eh.Z)(),[a,n]=(0,r.useState)(null);(0,f.Z)(()=>{(async()=>{try{let e=await (0,e_.Z)(t);e?n(e):o()}catch{o()}})()});let l=async({reasonKey:r})=>{try{await (0,eu.Z)(t,{reason:r}),e(),i()}catch{e(),o()}};return(0,A.jsx)(ec.ZP,{handleSubmitReport:l,objectToReport:{type:"board",id:t},onDismiss:e,reportingReasons:a})}function eb(e){return{name:e.full_name||"",src:e.image_medium_url||e.image_small_url||"",href:`/${e.username}/`}}var ex=o(661376),em=o(836447);function ef({boardId:e,ownerUsername:t,ownerName:o,ownerImgSrc:r,ownerIsAdsOnlyProfile:i,ownerAdsOnlyProfileSite:a,children:n}){let{data:l,isLoaded:s}=(0,ex.Z)({name:"ApiResource",options:{url:em.Z({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),d=[{name:o,src:r,href:`/${t}/`,is_ads_only_profile:i,ads_only_profile_site:a}];return s&&l&&l.length>0&&l.forEach(e=>{d.push(eb(e))}),n(d)}var eg=o(755559),ev=o(104999),ey=o(465076),ew=o(924591);function ej(e){let{boardImage:t,boardName:o,boardUrl:r,onHide:i}=e,a=(0,N.ZP)(),l=(0,A.jsx)(n.xv,{children:(0,U.nk)(a._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,A.jsx)(n.xv,{weight:"bold",children:o},"boardName")})});return(0,A.jsx)(ew.Z,{href:r,imageUrl:t,onHide:i,text:l})}var eP=o(701572),eA=o(36351);class eC extends r.Component{constructor(...e){var t,o,r;super(...e),o={flyoutOpen:!1},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?r:r+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{board:e,bgColor:t="white",children:o,iconColor:i="gray",onCreatePincode:a}=this.props,{flyoutOpen:l}=this.state,s={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url},d=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},c=o&&o({active:l,onClick:()=>d()})||(0,A.jsx)(n.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:i,onClick:({event:e})=>d(e),selected:l,size:"lg"});return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(n.xu,{ref:e=>{this.anchor=e},children:c}),this.state.flyoutOpen&&(0,A.jsx)(n.mh,{children:(0,A.jsx)(n.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>d(),positionRelativeToAnchor:!1,size:"flexible",children:(0,A.jsx)(eA.Z,{component:13216,onCreatePincodeClick:a?()=>{d(),a()}:void 0,onHide:()=>d(),sendType:"board",sharedObject:s,viewType:5})})})]})}}let eS=(0,r.forwardRef)((e,t)=>{let o=(0,N.ZP)(),r=(0,h.Z)();return(0,A.jsx)(eC,{...e,i18n:o,requireAuth:r,sendBoardButtonRef:t})});function ez(e){let t=(0,N.ZP)(),{bgColor:o,board:a,canCreatePincode:l,canEdit:s,handleCreatePincode:d,handleOpenSendBoardFlyout:c,onEditClick:_,onReportClick:u,showFollow:p,showShare:b,size:x}=e,{id:f,name:g,url:v,image_cover_url:y}=a,[w,j]=(0,r.useState)(a.followed_by_me),{showOneToast:P}=(0,m.F9)(),C=(0,i.I0)(),S=(0,h.Z)(),z=(0,ev.Z)(),B=({event:e})=>{if(S){e.stopPropagation(),S();return}w?(C((0,eP.f)(f,z)),j(!1)):(C((0,eP.Z)(f,z)),j(!0),P(({hideToast:e})=>(0,A.jsx)(ej,{boardImage:y??"",boardName:g,boardUrl:v,onHide:e})))},I={edit:t._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:t._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:t._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:t._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:t._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:t._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,A.jsx)(ey.Z,{bgColor:o,icon:"ellipsis",id:"more-board-options",label:t._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:x,children:()=>(0,A.jsxs)(n.Lt.Section,{label:t._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[s&&_&&(0,A.jsx)(n.Lt.Item,{onSelect:()=>{_()},option:{label:I.edit,value:I.edit}}),s&&l&&d&&(0,A.jsx)(n.Lt.Item,{onSelect:()=>{d()},option:{label:I.create_pincode,value:I.create_pincode}}),b&&c&&(0,A.jsx)(eS,{board:a,onCreatePincode:d,onOpen:c,children:({onClick:e})=>(0,A.jsx)(n.Lt.Item,{onSelect:e,option:{label:I.share,value:I.share}})}),p&&(0,A.jsx)(r.Fragment,{children:w?(0,A.jsx)(n.Lt.Item,{onSelect:B,option:{label:I.unfollow,value:I.unfollow}}):(0,A.jsx)(n.Lt.Item,{onSelect:B,option:{label:I.follow,value:I.follow}})}),(0,A.jsx)(n.Lt.Item,{onSelect:u,option:{label:I.report,value:I.report}})]})})}var eB=o(635545),eI=o(249459),ek=o(575820),eZ=o(27399),eT=o(995514),eE=o(660322),eO=o(739405),eR=o(583875),eD=o(180483);let eN=e=>e>99?"99+":e;function eU(e){let{faces:t,maxFaces:o,numFaces:r,onOverflowClick:i,shouldNavigate:a=!0}=e,l=[...t].reverse(),s=t.length>o?l.slice(0,o+1):l,d=r-o,c=(0,g.Z)(),_=c.isAuth?c?.avatar_color_index:void 0;return(0,A.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:s.map((e,t)=>{let{name:o,src:r,href:l,isDim:s}=e;if(0===t&&d>0)return(0,A.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:r&&(0,A.jsx)(n.Ee,{alt:o,fit:"contain",naturalHeight:44,naturalWidth:44,src:r,children:(0,A.jsx)(n.iP,{fullHeight:!0,fullWidth:!0,onTap:i,rounding:"circle",children:(0,A.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,A.jsx)(n.xv,{color:"inverse",size:"200",weight:"bold",children:eN(d)})})})})},t);{let e=(0,A.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{opacity:s?.5:1}},marginStart:-2,children:(0,A.jsx)(eR.qE,{color:_,name:o,outline:!0,size:"sm",src:r})},t);return a?(0,A.jsx)(n.Tg,{href:l,rounding:"circle",children:e},t):e}})})}function eM({invitedByUser:e,isAccepted:t,onDecline:o,onAccept:r,createdAt:i}){let a=(0,N.ZP)(),l=(0,g.Z)(),s=l.isAuth?l?.avatar_color_index:void 0,{first_name:d,full_name:c,username:_,image_medium_url:u}=e||{},h=d||c||a._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,A.jsx)(n.W2,{children:t?(0,A.jsxs)(n.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,A.jsx)(eU,{faces:[{href:l.isAuth?`/${l.username}`:"",name:l.isAuth?l.fullName:"",src:l.isAuth?l.imageMediumUrl:""},{href:`/${_}`,name:c,src:u}],maxFaces:2,numFaces:2}),(0,A.jsxs)(n.xu,{marginStart:2,children:[(0,A.jsx)(n.xv,{weight:"bold",children:a._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,A.jsx)(n.xv,{children:(0,eD.Z)(a._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:h})})]})]}):(0,A.jsx)(n.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,A.jsxs)(n.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,A.jsx)(n.xu,{marginEnd:2,children:(0,A.jsx)(eR.qE,{color:s,name:c,size:"md",src:u})}),(0,A.jsx)(n.xu,{flex:"grow",children:(0,A.jsx)(n.xv,{color:"default",inline:!0,children:(0,U.nk)(a._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,A.jsx)(n.xv,{color:"default",inline:!0,weight:"bold",children:(0,A.jsx)(n.rU,{display:"inlineBlock",href:`/${_}`,underline:"hover",children:c})},_),createdAt:(0,A.jsx)(n.xv,{color:"subtle",inline:!0,children:i})})})}),(0,A.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,A.jsx)(n.xu,{display:"inlineBlock",marginEnd:2,children:(0,A.jsx)(n.zx,{color:"gray",onClick:o,size:"lg",text:a._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,A.jsx)(n.zx,{color:"red",onClick:r,size:"lg",text:a._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var eF=o(211731);function eL({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:o,userInviterId:a}){let l=(0,N.ZP)(),s=(0,m.F9)(),d=(0,eT.Z)(),[c,_]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),p=(0,eO.HG)(),b=(0,g.Z)(),x=(0,i.I0)(),f={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:b.isAuth&&b.id},v=(0,eF.RZ)(),y=(0,eF.CQ)();(0,r.useEffect)(()=>{a&&o&&(v(e).then(()=>{x((0,eF.A8)(e)),p&&s.showToast(({hideToast:e})=>(0,A.jsx)(ew.Z,{duration:5e3,onHide:e,text:l._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))}),eZ.Z.create("UserResource",{field_set_key:"grid_item",user_id:a}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&h(t)}))},[o,a]);let{data:w}=(0,ex.Z)({name:"BoardInviteResource",options:f}),j=!!(a&&o)||c,P=!["new","contact_request_not_approved"].includes(w?.status),C=t=>{(t?v(e):y(e,f.invited_user_id||"")).then(()=>{t&&(x((0,eF.A8)(e)),_(!0),s.showToast(({hideToast:e})=>(0,A.jsx)(ew.Z,{duration:5e3,onHide:e,text:l._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))),x((0,eE.jB)("BoardInviteResource",f))})},S=w?.invited_by_user||u,z=j?p:P;return!S||z?null:(0,A.jsx)(n.xu,{marginTop:3,paddingY:0,children:(0,A.jsx)(eM,{createdAt:d(w?.created_at||"",!0),invitedByUser:S,isAccepted:j,onAccept:()=>C(!0),onDecline:()=>C(!1)})})}function eH({boardId:e}){let t=(0,a.TH)(),o=t&&t.search?(0,ek.mB)(t.search):{},r=o.invite_code,i=o.accept_invite,n=o.inviter_user_id;return(0,A.jsx)(eL,{boardId:e,inviteCode:r,shouldAutoAcceptBoardInvite:i,userInviterId:n})}let e$=function(e){let{board:t}=e,{id:o,owner:i,sensitivity:a}=t,l=(0,g.Z)(),s=l.isAuth?l.id:"",d=i?.id===s,c=(0,el.Uz)(a);return(0,A.jsxs)(r.Fragment,{children:[!c&&(0,A.jsx)(eH,{boardId:o}),c&&(0,es.ZP)(a).hasNotices&&a&&(0,A.jsx)(n.xu,{paddingY:10,children:(0,A.jsx)(ed.Z,{boardId:o,notices:a.notices,sensitivity:a,viewParameter:d?3069:3070,viewType:5})})]})};var eG=o(580188),eV=o(853930),eW=o(487002),eX=o(470205),eY=o(825605),eq=o(263433);let eJ=(0,r.lazy)(()=>Promise.resolve().then(o.bind(o,121614)));function eK({avatarSize:e,board:t,displayedCollaborators:o,isBoardPreviewMode:i,nonDisplayedCollaboratorCount:l,handleShowCollabAndPermissionsModal:s,showPersonAddIconForInvite:d}){let c;let[_,h]=(0,r.useState)(!1),b=(0,g.Z)(),x=(0,r.useRef)(null),m=(0,r.useRef)(),f=(0,a.k6)(),w=(0,v.Z)(),{logContextEvent:j}=(0,u.v)(),P=(0,y.KY)(b,t,w),C=P&&!i,S=(C||t.collaborator_invites_enabled&&t.collaborated_by_me)&&!d,z=(c=()=>f.push(o[0].href??"/"),o[0].is_ads_only_profile&&o[0].ads_only_profile_site&&(c=()=>{j({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(o[0].ads_only_profile_site,"_blank")}),o.length>1&&(c=()=>h(!_)),C&&(P||t.collaborated_by_me)&&(c=s),c),B=[501003];C&&t.is_collaborative&&B.push(502335);let I=o.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,A.jsx)(eq.Z,{ref:x,addButtonRef:m,avatarSize:e,collaboratorCount:t.collaborator_count||0,displayedCollaborators:I,nonDisplayedCollaboratorCount:l,onClick:z,showAddButton:S??!1}),(0,A.jsx)(p.cs,{anchors:{3002:m.current},placementId:18,positionRelativeToAnchor:!1}),(0,A.jsx)(p.Qp,{anchor:m.current,customWrapper:({children:e})=>(0,A.jsx)(n.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new n.Ry(2),children:e}),experienceIds:B,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),_&&(0,A.jsx)(eX.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,A.jsx)(eY.Z,{children:(0,A.jsx)(eJ,{anchor:x.current,board:t,onDismiss:()=>{h(!1),x.current&&x.current.focus()}})})})]})}var eQ=o(774838),e0=o(271875),e1=o(32602),e3=o(914253),e2=o(551140);let e6=e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;case 3:return 3007;default:return}},e5=e=>{let[t,o]=(0,r.useState)(!1),{boardTool:i,boardId:l,boardSectionId:s,iconSize:d=30,index:c,toolSize:_=88}=e,h=(0,e2.t)(),{icon:b,link:x,text:m,tool:v}=i,{isRTL:y}=(0,eQ.B)(),{logContextEvent:w}=(0,u.v)(),{owner:j,pin_count:P,section_count:C}=(0,e3.gC)()(l)||{},S=(0,g.Z)(),z=S.isAuth?S.id:"",B=j?.id===z?3069:3070,I=0===v,k=e=>{1===v&&w({event_type:e,view_type:s?164:5,view_parameter:B,element:10600,aux_data:{board_id:l,board_pin_count:P,board_section_count:C,board_section_id:s,grid_index:c}}),I&&w({event_type:e,view_type:s?164:5,view_parameter:B,component:14926,element:11990,aux_data:{board_id:l,board_session_id:h}})};(0,f.Z)(()=>{k(120),I&&k(13)});let Z=(0,r.useRef)(null),{setGroupBoardMessageButton:T}=(0,e1.Z)(),{conversations:{showConversationsDropdown:E},conversationOpen:O,dropdownOpen:R,dropdownClose:D}=(0,e0.Z)(),N=(0,a.TH)(),{conversation_id:U,tab:M}=(0,ek.mB)(N.search),F=4===v&&!!U&&"inbox"===M;F&&T(Z.current);let L=e6(v);return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(n.Tg,{ref:Z,accessibilityLabel:m,href:F?"":x,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:()=>{F&&(k(102),E?D():(R(),O(U))),I&&k(101)},rounding:6,children:(0,A.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,A.jsx)(n.xu,{alignItems:"center",alignSelf:"center",color:t?"lightWash":"secondary",display:"flex",height:_,justifyContent:"center",rounding:6,width:_,children:(0,A.jsx)(n.JO,{accessibilityLabel:m,color:"default",icon:"text-align-left"===b&&y?"text-align-right":b,size:d})}),(0,A.jsx)(n.xu,{paddingY:1,width:_,children:(0,A.jsx)(n.xv,{align:"center",overflow:"normal",size:"100",weight:"bold",children:m})})]})}),L&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(p.cs,{anchors:{[L]:Z.current},placementId:18,positionRelativeToAnchor:!1}),(0,A.jsx)(p.N,{anchors:{[L]:Z.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function e8({boardId:e,iconSize:t,sectionId:o,toolSize:r}){let i=(0,en.Z)(),a=!!o,{data:l,isLoaded:s}=(0,ex.Z)({name:a?"SectionToolsFeedResource":"BoardToolsFeedResource",options:a?{sectionId:o,orbacSubjectId:i}:{boardId:e,orbacSubjectId:i}});if(s&&(!l||!l.length))return null;let d=l?.filter(({tool:e})=>!i||2===e);return s&&d?.length?(0,A.jsx)(n.xu,{"data-test-id":"board-tools",children:(0,A.jsx)(n.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:d.map((i,a)=>(0,A.jsx)(n.xu,{"data-test-id":i.text,padding:1,children:(0,A.jsx)(e5,{boardId:e,boardSectionId:o,boardTool:i,iconSize:t,index:a,toolSize:r})},i.id))})}):null}e5.displayName="BoardTool";var e4=o(398419),e7=o(345880),e9=o(767894),te=o(121614);function tt({board:e,collaborators:t,overflowNumber:o}){let i=(0,N.ZP)(),a=(0,r.useRef)(null),{logContextEvent:l}=(0,u.v)(),[s,d]=(0,r.useState)(!1),c=t.map((e,t)=>{if(e.isDim)return null;let o=e.is_ads_only_profile&&e.ads_only_profile_site,r=(o?e.ads_only_profile_site:e.href)||"",i=e.href?e.href:e.name+t;return(0,A.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,A.jsx)(n.rU,{display:"inlineBlock",href:r,onClick:()=>{o&&l({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:o?"nofollow":"none",target:o?"blank":null,underline:"none",children:e.name})},i)}).filter(Boolean);return o&&c.push((0,A.jsx)(n.xu,{ref:a,display:"inlineBlock",children:(0,A.jsx)(n.iP,{onTap:()=>d(!0),children:(0,A.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,U.nk)(i.ngettext('{{ overflowNumber }} other', '{{ overflowNumber }} others', o, 'legoBoardPageHeader.collaboratorNames.others', 'number of additional collaborators not listed, overflowNumber:number of collaborators'),{overflowNumber:o})})})},"overflowText")),(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(n.xv,{inline:!0,children:(0,e9.Z)(c,i)}),s&&(0,A.jsx)(te.default,{anchor:a.current,board:e,onDismiss:()=>d(!1)})]})}function to(e){let t=(0,N.ZP)(),{onClick:o,requested:r,size:i,useAlternateText:a}=e;return(0,A.jsx)(n.zx,{fullWidth:!0,onClick:o,size:i||"md",text:(r?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,a)})}function tr(e){let t=(0,N.ZP)(),{boardImage:o,boardName:r,boardUrl:i,onHide:a}=e,l=(0,A.jsx)(n.xv,{children:(0,U.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,A.jsx)(n.xv,{inline:!0,weight:"bold",children:r})})});return(0,A.jsx)(ew.Z,{duration:3e3,href:i,imageUrl:o,onHide:a,text:l})}function ti(e){let t=(0,N.ZP)(),{boardImage:o,boardName:r,boardUrl:i,onHide:a}=e,l=(0,A.jsx)(n.xv,{children:(0,U.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,A.jsx)(n.xv,{inline:!0,weight:"bold",children:r})})});return(0,A.jsx)(ew.Z,{href:i,imageUrl:o,onHide:a,text:l})}function ta(e){let{boardId:t,boardImage:o,boardName:r,boardUrl:a,isRequestedByMe:l,showPulsar:s,size:d,variant:c}=e,{logContextEvent:_}=(0,u.v)(),p=(0,i.I0)(),b=(0,g.Z)(),x=(0,m.F9)(),f=b.isAuth&&b.id||"",v=(0,h.Z)(),y=(0,eF.tV)(),w=({event:e})=>{e.preventDefault(),e.stopPropagation(),v?v():l?(p((0,eF.GJ)(t,f)),x.showOneToast(({hideToast:e})=>(0,A.jsx)(tr,{boardImage:o,boardName:r,boardUrl:a,onHide:e}))):(p(y(t)),x.showOneToast(({hideToast:e})=>(0,A.jsx)(ti,{boardImage:o,boardName:r,boardUrl:a,onHide:e}))),function(e){let{action:t,id:o,logContextEvent:r,url:i}=e;r({event_type:101,component:1,element:"request"===t?7499:7547,object_id_str:o,view_type:4,aux_data:{current_page_url:i}})}({action:l?"request":"cancel",id:t,logContextEvent:_,url:a})};return f?(0,A.jsxs)(n.xu,{display:"flex",position:"relative",children:[(0,A.jsx)(to,{onClick:w,requested:l,size:d,useAlternateText:"lego"===c}),s&&(0,A.jsx)(n.iP,{onTap:e=>{w(e)},children:(0,A.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,A.jsx)(n.o3,{paused:l})})})]}):null}function tn({board:e,boardName:t,collaborators:o,isArchived:r,isBoardPreviewMode:i,isSecret:a,nonDisplayedCollaboratorCount:l,pinCount:s,sectionCount:d,description:c,showPulsar:_,showJoinButton:u,isOwnerOrCollaborator:h,handleShowCollabAndPermissionsModal:p}){let b=(0,N.ZP)(),{featured_board_metadata:x,id:m,image_cover_url:f,layout:g,owner:v={},should_show_board_collaborators:y,url:w,viewer_collaborator_join_requested:j}=e,{curator:P,is_sponsored_content:C}=x||{},S=C?P:null,z=h&&!i,B=[];P&&!z?B.push(eb(P)):y&&o.length?B.push(...o):v&&B.push(eb(v));let I=x?.board_tag;return(0,A.jsxs)(n.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,A.jsxs)(n.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let e=x?.board_subtitle;return e?(0,A.jsx)(n.xu,{marginBottom:-1,children:(0,A.jsx)(n.xv,{weight:"bold",children:e})}):null})(),(0,A.jsx)(n.X6,{id:"board-name",size:"600",children:t}),(0,A.jsx)(e7.Z,{fontSize:"200",isArchived:r,isFeaturedBoard:"featured_board"===g,isSecret:a,pinCount:s,sectionCount:d,showEditorialBoardTag:"number"==typeof I&&I>=0}),!!c&&(0,A.jsx)(eW.Z,{description:c})]}),z&&(0,A.jsx)(n.HE,{accessibilityLabel:B.length>1?b._('Board with collaborators. Keep inviting collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteMoreCollaborators.accessibilityLabel', 'The board has collaborators. User can add additional collaborators. Opens modal to invite collaborators.'):b._('Invite collaborators. Opens a modal.', 'BoardHeaderDetails.AvatarGroup.InviteCollaborators.accessibilityLabel', 'The board has no collaborators. User can add collaborators. Opens modal to invite collaborators.'),addCollaborators:!0,collaborators:B,onClick:p,role:"button",size:"sm"}),z&&(0,A.jsx)(e8,{boardId:m,iconSize:24,toolSize:72}),!z&&S&&(0,A.jsx)(e4.Z,{user:S}),!z&&!S&&(0,A.jsxs)(n.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,A.jsx)(eK,{avatarSize:"sm",board:e,displayedCollaborators:B,handleShowCollabAndPermissionsModal:()=>{},isBoardPreviewMode:i,nonDisplayedCollaboratorCount:l}),(0,A.jsxs)(n.xv,{children:[b._('by ', 'board.Headers.BoardHeader.BoardHeaderDetails.by', 'Text to tell the viewer who the board is owned and collaborated by'),(0,A.jsx)(tt,{board:e,collaborators:B,overflowNumber:l})]})]}),u&&(0,A.jsx)(ta,{boardId:m,boardImage:f??"",boardName:t,boardUrl:w,isRequestedByMe:!!j,showPulsar:_,size:"lg",variant:"lego"})]})}var tl=o(230689),ts=o(401545),td=o(554365);function tc({board:e,handleCreatePincode:t,iconColor:o,isShowShareIcon:i}){let{logContextEvent:a}=(0,u.v)(),l=(0,N.ZP)(),s=(0,h.Z)(),d=(0,r.useRef)(null);return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(eS,{ref:d,board:e,iconColor:o,onCreatePincode:t,onOpen:()=>{if(s){s();return}(0,td.Z)(a)},children:i?void 0:({onClick:e})=>(0,A.jsx)(n.xu,{"data-test-id":"board-share-button-auth",children:(0,A.jsx)(n.zx,{ref:d,color:"gray",fullWidth:!0,onClick:e,size:"lg",text:l._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')})})}),(0,A.jsx)(p.N,{anchors:{3018:d.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}var t_=o(10516);function tu({board:e,boardName:t,collaborators:o,isArchived:r,isBoardPreviewMode:i,isSecret:a,nonDisplayedCollaboratorCount:l,overFlowActionsButton:s,pinCount:d,sectionCount:c,description:_,isOwnerOrCollaborator:u,handleShowCollabAndPermissionsModal:h,onCreatePincode:p,setBoardPreviewMode:b,showPulsar:x,showJoinButton:m}){let{featured_board_metadata:f,header:g,owner:v}=e,{isSmallerImage:y,isSmallScreen:w}=(0,t_.Z)(),j=(0,eV.Z)(v?.id),P=g?.large_image_url||null,C=f?.has_expanded_sections&&j&&b,S=()=>(0,A.jsxs)(n.kC,{dataTestId:"board-actions-container",gap:2,children:[C&&(0,A.jsx)(ts.Z,{isBoardPreviewMode:i,setBoardPreviewMode:b}),!a&&(0,A.jsx)(tc,{board:e,handleCreatePincode:p,iconColor:"darkGray",isShowShareIcon:!0}),s]}),z=()=>(0,A.jsx)(tn,{board:e,boardName:t,collaborators:o,description:_,handleShowCollabAndPermissionsModal:h,isArchived:r,isBoardPreviewMode:i,isOwnerOrCollaborator:u,isSecret:a,nonDisplayedCollaboratorCount:l,pinCount:d,sectionCount:c,showJoinButton:m,showPulsar:x}),B=()=>P?(0,A.jsx)(tl.Z,{boardActions:S(),imageUrl:P,imageWidth:y?t_.w:void 0}):S();return(0,A.jsx)(R.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:eG.Sk,children:(0,A.jsxs)(n.kC,{alignItems:w||!P?"start":u&&!i?"start":"center",dataTestId:"board-header-with-image",direction:w&&P?"column":"row",gap:P?8:0,justifyContent:"between",children:[(0,A.jsx)(n.xu,{children:w&&P?B():z()}),(0,A.jsx)(n.xu,{maxWidth:w?550:void 0,children:w&&P?z():B()})]})})}var th=o(230110);function tp(e){let{board:t,collaborators:o,handleCreatePincode:r,handleShowCollabAndPermissionsModal:i,isBoardPreviewMode:a,overFlowActionsButton:l,showPulsar:s,setBoardPreviewMode:d,userBlocked:c}=e,{access:u,archived_by_me_at:h,collaborator_requests_enabled:p,name:b,owner:x,privacy:m,should_show_board_collaborators:f}=t,{nonDisplayedCollaboratorCount:w}=(0,th.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:o,showOnlyOwner:!f,ownerName:x?.full_name}),j=(0,g.Z)(),P=(0,v.Z)(),C=(0,y.D3)(j,t.owner?.id||"",P),S=u&&u.includes("write")||C,z=(0,_.Z)(t.collaborated_by_me,t.owner?.id,j)||C,B=m===eI.ZP.BoardPrivacy.SECRET,I=!S&&!c&&p&&!j.isPrivateProfile;return(0,A.jsxs)(n.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,A.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,A.jsx)(n.xu,{maxWidth:800,children:(0,A.jsx)(e$,{board:t})})}),(0,A.jsx)(n.xu,{marginTop:4,paddingX:2,children:(0,A.jsx)(tu,{board:t,boardName:b??"",collaborators:o,description:t.description??"",handleShowCollabAndPermissionsModal:i,isArchived:!!h,isBoardPreviewMode:a,isOwnerOrCollaborator:z,isSecret:B,nonDisplayedCollaboratorCount:w,onCreatePincode:r,overFlowActionsButton:l,pinCount:t.pin_count??0,sectionCount:t.section_count??0,setBoardPreviewMode:d,showJoinButton:!!I,showPulsar:s})})]})}var tb=o(285544),tx=o(902123);let tm=(0,r.forwardRef)((e,t)=>{let{boardName:o,boardUrl:r,children:i,description:a,overFlowActionsButton:l,sectionName:s}=e;return(0,A.jsxs)(n.xu,{ref:t,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,A.jsxs)(n.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,A.jsx)(tb.Z,{children:(0,A.jsx)(n.xu,{marginTop:4,children:(0,A.jsx)(tx.q,{children:({active:e,focused:t,hovered:i,onBlur:a,onFocus:l,onMouseEnter:s,onMouseLeave:d})=>(0,A.jsx)(n.Tg,{href:r??"",onBlur:a,onFocus:l,onMouseEnter:s,onMouseLeave:d,children:(0,A.jsx)(n.X6,{align:"center",color:e||t||i?"default":"subtle",children:o})})})})}),(0,A.jsx)(tb.Z,{children:(0,A.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,A.jsx)(n.X6,{align:"center",lineClamp:1,children:s}),!!l&&(0,A.jsx)(n.xu,{paddingX:1,children:l})]})}),!!a&&(0,A.jsx)(tb.Z,{children:(0,A.jsx)(n.xv,{align:"center",children:a})})]}),i&&(0,A.jsx)(n.xu,{marginTop:8,children:i})]})});function tf({board:e,handleBoardEditClick:t,handleFollowersClick:o,handleSectionEditClick:i,handleShowBoardArchiveConfirmation:a,handleShowBoardUnarchiveConfirmation:l,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:d,handleShowMergeModal:u,isBoardPreviewMode:h,section:p,showPulsar:b,setBoardPreviewMode:x}){let m=(0,g.Z)(),f=(0,v.Z)(),w=(0,en.Z)(),j=w&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${w}`:"",{name:P,sensitivity:C,access:S,url:z=""}=e,[B,I]=(0,r.useState)(!1),k=(0,y.D3)(m,e.owner?.id||"",f),Z=S&&S.includes("write")||k?eg.I:ef,T=(0,el.Uz)(C),E=(0,_.Z)(e.collaborated_by_me,e.owner?.id,m)||k,O=null;O=E?(0,A.jsx)(eB.Z,{bgColor:p?"lightGray":"white",board:e,excludeShareOption:!0,onArchiveClick:a,onCreatePincode:d,onEditBoardClick:t,onEditSectionClick:i,onMergeClick:u,onUnarchiveClick:l,showCreatePinCodeOption:m.isAuth&&m.isPartner,size:"lg",surface:p?"section":"board"}):(0,A.jsx)(ez,{bgColor:"white",board:e,onReportClick:()=>I(!0),showFollow:!0,size:"lg"});let R=T&&(0,es.ZP)(C).hasNotices;return(0,A.jsxs)(r.Fragment,{children:[B&&(0,A.jsx)(ep,{boardId:e.id,onDismiss:()=>I(!1)}),p?(0,A.jsxs)(r.Fragment,{children:[R&&(0,A.jsx)(tb.Z,{children:(0,A.jsx)(n.xu,{maxWidth:800,paddingY:10,children:C&&(0,A.jsx)(ed.Z,{boardId:e.id,boardSectionId:p.id,notices:C.notices,sensitivity:C,viewParameter:k?3069:3070,viewType:5})})}),(0,A.jsx)(tm,{boardName:P,boardUrl:`${z}${j}`,description:p.description??"",overFlowActionsButton:O,sectionName:p.title??""})]}):(0,A.jsx)(n.xu,{"data-test-id":"board-header",paddingX:2,children:(0,A.jsx)(Z,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,A.jsx)(tp,{board:e,collaborators:t,handleCreatePincode:d,handleShowCollabAndPermissionsModal:s,hideFollowers:k,isBoardPreviewMode:h,isToolsBoard:!0,onFollowersClick:o,overFlowActionsButton:O,setBoardPreviewMode:x,showPulsar:b,userBlocked:!!e.owner?.blocked_by_me})})})]})}tm.displayName="SectionHeader";var tg=o(681698);function tv({boardId:e,collaboratorId:t,collaboratorUsername:o}){let r=(0,i.I0)(),l=(0,a.k6)(),s=(0,N.ZP)();return(0,A.jsx)(n.kC,{justifyContent:"center",width:"100%",children:(0,A.jsx)(n.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,A.jsx)(n.XA,{message:s._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:s._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:s._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:()=>{(0,tg.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"PUT",data:{collaborator:t}}),r((0,Z.K8)(o)),l.push(`/${o}/`)}},secondaryAction:{accessibilityLabel:s._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:s._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:()=>{r((0,eF.xx)(e,t))}},title:s._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}var ty=o(869552);let tw=e=>()=>{e({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})};function tj({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:o,surface:i}){let{logContextEvent:a}=(0,u.v)(),l=(0,N.ZP)(),s=(0,r.useRef)(null),d="board"===i?l._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):l._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,A.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,A.jsx)(ty.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:o,onOpen:tw(a),surface:i,children:({active:e,openFlyout:t})=>(0,A.jsxs)(n.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,A.jsx)(n.xG,{ref:s,accessibilityExpanded:e,accessibilityLabel:d,accessibilityPopupRole:"dialog",icon:"add",onClick:t,selected:e,tooltip:{text:d}}),(0,A.jsx)(p.cs,{anchors:{3006:s.current},idealDirection:"up",placementId:18}),(0,A.jsx)(p.N,{anchors:{3006:s.current},idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})})})}var tP=o(59355);let tA=o(488661).HW+1;function tC({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:o}){let r=(0,N.ZP)();return(0,tP.Q)({component:13860,view_type:5,aux_data:o}),(0,A.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new n.Ry(tA),children:(0,A.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,A.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,A.jsx)(n.X6,{align:"center",color:"light",children:r._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,A.jsxs)(n.kC,{gap:{row:6,column:0},children:[(0,A.jsx)(n.zx,{color:"red",onClick:e,size:"lg",text:r._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,A.jsx)(n.zx,{color:"white",onClick:t,size:"lg",text:r._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,A.jsx)(n.xu,{paddingY:4,children:(0,A.jsx)(n.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,U.nk)(r._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,A.jsx)(n.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,A.jsx)(n.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:r._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var tS=o(273379),tz=o(382802),tB=o(421951),tI=o(629616),tk=o(900842);function tZ(e){let t=(0,N.ZP)(),{boardUrl:o="",onHide:r,slug:i}=e;return(0,A.jsx)(ew.Z,{duration:2e3,href:`${o}${i}`,onHide:r,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}let tT=()=>{},tE=(0,p.RL)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:o,refreshBoardData:P=tT,refreshSectionData:C=tT,setPlacementExtraContext:S,section:z,showPulsar:B}){let[R,D]=(0,r.useState)(!1),{logContextEvent:U}=(0,u.v)(),M=(0,i.I0)(),L=(0,h.Z)(),{setFooterPlusButtonVisible:H}=(0,j.I)(),$=(0,g.Z)(),G=(0,v.Z)(),V=(0,k.W$)($,e),{collaborated_by_me:W,id:X,owner:Y,pending_ownership_transfer:q,pin_count:J,privacy:Q}=e,ee=Y?.id||"",et=(0,y.q6)($,ee,G),eo=(0,_.Z)(W,ee,$)||et,er=$.isAuth&&$.id===q,ei=(0,y.lJ)($,G),el=ei&&(0,c.Z)(Q)?`?orbac_subject_id=${ei}`:"",es=(0,s.Z)(!0),ed=!!z;(0,r.useEffect)(()=>{let t="other";V?t="own":(0,k.Df)($,e)&&(t="collaborator"),S({board_ownership:t})},[t]),(0,r.useEffect)(()=>(eo&&H(!1),()=>{H(!0)}),[H,eo]);let{showOneToast:ec}=(0,m.F9)(),e_=(0,a.k6)(),{previous:eu}=(0,b.Hv)(),eh=0===eu.length;!function(){let e=(0,F.xZ)(),t=(0,g.Z)(),o=(0,ex.Z)({name:"UserMetadataResource",options:{user:t}});(0,r.useEffect)(()=>{if(o&&o.data&&!e?.boardPinDensity){let{profile_pin_rep_view_type:t}=o.data;e?.setBoardPinDensity(t??"regular")}})}();let{handleShowMergeSectionsConfirmationModal:ep,mergeConfirmationModalProps:eb,onConfirm:em}=(0,O.Z)({board:e}),ef=function(){let e=(0,N.ZP)(),{logContextEvent:t}=(0,u.v)(),o=(0,i.I0)(),{showBlockingActionToast:r}=(0,tB.Z)(),a=(0,en.Z)();return({board:i,targetBoard:n})=>{t({event_type:7172,object_id_str:i.id,aux_data:{merge_flow:"menu"}}),o((0,tI.Z)(i.id,n.id,a)).then(()=>{r({actionType:"merge",board:n})}).catch(t=>{tz.Z.showError(t.message||e._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}}(),eg={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[ev,ey]=(0,r.useState)(!!e.sensitivity_screen?.show_warning&&!eo),[ew,ej]=(0,r.useState)(null),[eP,eA]=(0,r.useState)(o||null),[eC,eS]=(0,r.useState)(null),[ez,eB]=(0,r.useState)(e&&(0,tk.Z)($,e)||"custom"),eI=()=>eA(E.s.boardArchiveConfirmation),ek=()=>eA(E.s.boardUnarchiveConfirmation),eZ=()=>{let e=$.isAuth?`/${(0,y.Ms)($,G)}`:"/";e_.replace(e)},eT=e=>{if(L){L();return}eA(E.s.editSection),ej(e)},eE=t=>{ec(({hideToast:o})=>(0,A.jsx)(tZ,{boardUrl:e.url,onHide:o,slug:t.slug??""}))},eO={board_id:e.id,board_pin_count:J};return(0,f.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=e_.location.state||Object.freeze({});e&&(eA(E.s.collaboratorsAndPermissions),e_.replace({...e_.location,state:{...e_.location.state,shouldOpenCollaboratorsModal:!1}}))}),(0,A.jsx)(w.Z,{objectIdStr:X,viewParameter:V?3069:3070,viewType:5,children:(0,A.jsx)(x.Z,{auxData:eO,objectId:X,view:5,viewParameter:(0,K.Z)({board:e,viewer:$}),children:(0,A.jsxs)(r.Fragment,{children:[(0,A.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:ev?{filter:"blur(30px)"}:{}},children:[e.is_temporarily_disabled?(0,A.jsx)(tS.Z,{board:e,boardName:e.name||"",handleShowBoardArchiveConfirmation:eI,handleShowBoardUnarchiveConfirmation:ek,isOwnerOrCollaborator:eo,showOverflowButton:eo}):(0,A.jsxs)(e2.h,{children:[(0,A.jsx)(tf,{board:e,handleBoardEditClick:()=>{U({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eA(E.s.boardEdit)},handleFollowersClick:()=>{eA(E.s.followers)},handleSectionEditClick:()=>eT(),handleShowBoardArchiveConfirmation:eI,handleShowBoardUnarchiveConfirmation:ek,handleShowCollabAndPermissionsModal:()=>eA(E.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(L){L();return}U({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eA(E.s.pincode)},handleShowMergeModal:()=>{if(L){L();return}eA(E.s.mergeBoard)},isBoardPreviewMode:R,section:z,setBoardPreviewMode:D,showPulsar:B}),eo&&ed&&!R&&(0,A.jsx)(n.xu,{marginBottom:6,marginTop:6,children:(0,A.jsx)(e8,{boardId:e.id,sectionId:z?.id})}),er&&(0,A.jsx)(tv,{boardId:e.id,collaboratorId:$.isAuth?$.id:"",collaboratorUsername:$.isAuth?$.username:""}),eP!==E.s.jumpstartBoard&&(0,A.jsx)(x.Z,{auxData:eO,component:178,objectId:e.id,view:5,viewParameter:V?3069:3070,children:(0,A.jsx)(ea,{board:e,currentView:ez,handleContentViewChange:e=>eB(e),handleSetCurrentModal:eA,handleShowEditSectionModal:eT,handleShowMergeSectionsConfirmationModal:ep,isBoardPreviewMode:R,isHidePinCount:!ed,isOwnBoard:V,isOwnerOrCollaborator:eo,isPinGridSorted:"custom"!==ez,refreshBoardData:P,refreshSectionData:C,section:z})}),(0,A.jsx)(I,{boardId:e.id,handleShowArchiveConfirmation:eI,handleShowGroupPinsModal:(e,t)=>{eA(E.s.groupPins),eS({clusterId:e,suggestedSectionName:t})}}),eo&&(0,A.jsx)(tj,{handleAddSection:()=>{if(L){L();return}U({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eA(E.s.simpleCreateSection)},handleCreatePin:()=>{if(L){L();return}U({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),e_.push({pathname:"/pin-builder/",state:{board:e,boardSection:z}})},handleCreateStoryPin:()=>{if(L){L();return}U({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),e_.push({pathname:(0,l.Z)(es),state:{board:e,entry_type:"board_plus_button",boardSection:z}})},surface:z?"section":"board"})]}),eP&&(0,A.jsx)(T.Z,{actions:{completeCreateSectionAction:e=>{if(L){L();return}eA(null),eE(e)},onBoardArchiveChange:()=>{M((0,Z.K8)($.isAuth?$.username:""))},onBoardDelete:()=>{P(),eZ()},onBoardLeave:()=>{M((0,Z.K8)($.isAuth?$.username:"")),eZ()},onBoardMerge:t=>{ef({board:e,targetBoard:t}),eZ()},onBoardSectionDelete:()=>{if(ej(null),eA(null),z){let t=e.url??"";e_.replace(`${t}${el}`)}},onBoardSectionSave:({slug:t})=>{if(ej(null),eA(null),z){let o=`${e.url??""}${t}/${el}`;e_.replace(o)}},onConfirmMergeSection:em},board:e,boardSection:z||ew,currentModal:eP,groupPinsData:eC,mergeConfirmationModalProps:eb,onClearModal:()=>eA(null)}),(0,A.jsx)(p.RK,{placementId:18}),(0,A.jsx)(d.Z,{placementId:18}),(0,A.jsx)(p._f,{experience:t,placementId:18}),(0,A.jsx)(p.nj,{experience:t,placementId:18})]}),ev&&(0,A.jsx)(tC,{handleGoBack:()=>{U({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eg}}),eh&&e_.replace("/"),e_.goBack()},hideSensitivityScreen:()=>{M((0,Z.of)(e.id)),U({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eg}}),ey(!1)},sensitivityScreenAuxData:eg})]})})})})},531937:function(e,t,o){o.d(t,{k:()=>a,s:()=>n});var r=o(667294);let i=(0,r.createContext)(Object.freeze({})),a=i.Provider;function n(){return(0,r.useContext)(i)}},273379:function(e,t,o){o.d(t,{Z:()=>d});var r=o(883119),i=o(361981),a=o(138596),n=o(216975),l=o(635545),s=o(785893);function d({board:e,boardName:t,handleShowBoardArchiveConfirmation:o,handleShowBoardUnarchiveConfirmation:d,isOwnerOrCollaborator:c,showOverflowButton:_}){let u=(0,a.ZP)(),h=()=>{};return(0,s.jsx)(r.xu,{height:"100%",width:"100%",children:(0,s.jsxs)(r.kC,{alignItems:"center",direction:"column",children:[(0,s.jsx)(r.xu,{marginTop:4,children:(0,s.jsxs)(r.kC,{alignItems:"center",direction:"row",gap:4,children:[_&&(0,s.jsx)(r.xu,{width:44}),(0,s.jsx)(r.X6,{align:"center",children:t}),_&&!!e&&!!o&&!!d&&(0,s.jsx)(r.xu,{marginTop:2,children:(0,s.jsx)(l.Z,{board:e,onArchiveClick:o,onCreatePincode:h,onEditBoardClick:h,onEditSectionClick:h,onMergeClick:h,onUnarchiveClick:d,showArchiveOnly:!0,showCreatePinCodeOption:!1,surface:"board"})})]})}),(0,s.jsx)(r.xu,{height:105}),(0,s.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:8,children:[(0,s.jsx)(r.xu,{"aria-hidden":!0,color:"default",height:160,width:160,children:(0,s.jsx)(r.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:i})}),(0,s.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,s.jsx)(r.X6,{align:"center",size:"400",children:u._('Sorry, this board is currently unavailable', 'temporarilyDisabledBoard.unavailableText', 'Unavailable board text')}),c&&(0,s.jsx)(r.xv,{children:(0,n.nk)(u._('Learn more about some of our {{ recentUpdates }}', 'temporarilyDisabledBoard.descriptionText', 'text explaining why board is unavailable. recentUpdates:link to recent privacy policy updates'),{recentUpdates:(0,s.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/teen-safety-options",target:"blank",underline:"always",children:u._('recent updates', 'temporarilyDisabledBoard.link', 'Text for link to view teen safety options')},"helpLink")})})]})]})]})})}},504860:function(e,t,o){o.d(t,{Z:()=>x});var r=o(581722),i=o(661376),a=o(462867),n=o(200619),l=o(601871),s=o(44849),d=o(438274),c=o(768033),_=o(836643),u=o(338170),h=o(173842),p=o(785893);function b(e){let t=(0,a.Z)(),o=(0,n.Z)(),b=(0,l.lJ)(t,o),x=(0,i.Z)({name:"BoardSectionPinsResource",options:function(e,t,o,r=""){return{currentFilter:o,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:r}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,b)}),m=(0,i.Z)({name:"BoardsResource",options:(0,s.Z)(e.viewer.username,!0)}),f=(0,r.v9)(({feeds:t,desktopStories:o})=>(0,_.Z)(t[`${d.Z.BOARD_SECTION_PINS}:${e.boardSectionId}`],o));return(0,p.jsx)(c.Z,{...e,...f,boardsResource:m,renderFeaturedBoardsStory:t=>(0,p.jsx)(u.Z,{isOwnBoard:e.isOwnBoard,storyId:t}),renderMoreIdeas:t=>e.isOwnerOrCollaborator?null:(0,p.jsx)(h.default,{storyId:t}),resource:x})}b.displayName="BoardSectionPinGrid";let x=b},497455:function(e,t,o){o.d(t,{Z:()=>r});function r(e,t){let{url:o}=e,{slug:r}=t;return`${o??""}${r??""}/`}},398419:function(e,t,o){o.d(t,{Z:()=>s});var r=o(883119),i=o(583875),a=o(138596),n=o(739405),l=o(785893);function s(e){let t=(0,a.ZP)(),o=(0,n.HG)()?"300":"200",{user:s}=e,{full_name:d="",image_medium_url:c,username:_}=s||{};return(0,l.jsxs)(r.kC,{alignItems:"center",dataTestId:"sponsor-avatar-and-name",gap:2,children:[(0,l.jsx)(r.Tg,{href:`/${_}/`,rounding:"circle",children:(0,l.jsx)(i.qE,{name:d,size:"sm",src:c})}),(0,l.jsxs)(r.xu,{children:[(0,l.jsx)(r.xu,{marginBottom:1,children:(0,l.jsx)(r.xv,{size:o,children:t._('Featured sponsor', 'board.Headers.BoardHeader.BoardHeaderDetails.featuredSponsor', 'Text to tell the viewer for board with set sponsor user')})}),(0,l.jsx)(r.xv,{size:o,weight:"bold",children:(0,l.jsx)(r.rU,{display:"inlineBlock",href:`/${_}/`,underline:"none",children:d})})]})]})}},345880:function(e,t,o){o.d(t,{Z:()=>m});var r=o(667294),i=o(883119),a=o(995514),n=o(138596),l=o(720459),s=o(216975),d=o(774838),c=o(380938),_=o(785893);let u=()=>{let e=(0,n.ZP)();return(0,_.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,_.jsx)(i.JO,{accessibilityLabel:e._('Pinterest logo', 'board.editorialBoardTag.pinterestLogo', 'Accessibility label for Pinterest icon on editorial boards'),color:"error",icon:"pinterest"}),(0,_.jsx)(i.xv,{color:"error",size:"200",children:e._('Featured creator', 'board.editorialBoardTag.featuredCreatorText', 'Featured creator tag for editorial boards')})]})};function h({size:e="200"}){let t=(0, n.ZP)()._('Featured board', 'boardHeader.featuredBoardTag.label', 'Label for a secret board');return(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},children:(0,_.jsxs)(i.kC,{alignItems:"center",gap:1,children:[(0,_.jsx)(i.JO,{accessibilityLabel:t,color:"default",icon:"tag"}),(0,_.jsx)(i.xv,{align:"center",color:"default",size:e,children:t})]})})}function p(e){let t=(0,n.ZP)(),{color:o,size:r}=e;return(0,_.jsx)(i.JO,{accessibilityLabel:t._('secret board', 'accessible label for secret board icon', 'accessible label for secret board icon'),color:o,icon:"lock",size:r})}let b=({children:e})=>{let t=e.filter(e=>!!e);return(0,_.jsx)(i.kC,{dataTestId:"board-count-info",children:t.map((e,o)=>(0,_.jsxs)(r.Fragment,{children:[e,o<t.length-1&&(0,_.jsx)(c.Z,{color:"subtle"})]},o))})},x=({size:e,children:t,dataTestId:o})=>(0,_.jsx)(i.xv,{color:"subtle",dataTestId:o,size:e,children:t});function m({fontSize:e,isArchived:t,showEditorialBoardTag:o,isFeaturedBoard:r=!1,isSecret:c,lastModified:m,pinCount:f,sectionCount:g}){let v=(0,n.ZP)(),y=(0,l.Z)(),{locale:w}=(0,d.B)(),j=(0,a.Z)();return(0,_.jsxs)(i.kC,{alignItems:"center",dataTestId:"board-summary-container",justifyContent:"start",children:[t&&(0,_.jsxs)(i.kC,{alignItems:"center",dataTestId:"archived-board-icon-label",gap:1,children:[(0,_.jsx)(i.JO,{accessibilityLabel:v._('Icon indicating a board that is archived', 'board.Headers.BoardHeader.BoardHeaderDetails.archived', 'Accessible label for archived board icon'),color:"subtle",icon:"file-box",size:16}),(0,_.jsxs)(i.xv,{color:"subtle",size:e,children:[v._('Archived', 'board.Headers.BoardHeader.BoardHeaderDetails.archived', 'Label indicating that the board is archived'),"\xa0\xa0\xb7\xa0\xa0"]})]}),c&&(0,_.jsxs)(i.kC,{alignItems:"center",dataTestId:"secret-board-icon-label",gap:1,children:[(0,_.jsx)(p,{color:"subtle",size:16}),(0,_.jsxs)(i.xv,{color:"subtle",size:e,children:[v._('Secret', 'board.Headers.BoardHeader.BoardHeaderDetails.secret', 'Label indicating that the board is secret'),"\xa0\xa0\xb7\xa0\xa0"]})]}),(0,_.jsxs)(b,{children:[r&&(0,_.jsx)(h,{}),o&&!r&&(0,_.jsx)(u,{}),(0,_.jsx)(x,{dataTestId:"pin-count",size:e,children:(0,s.nk)(v.ngettext('{{ count }} Pin', '{{ count }} Pins', f, 'board.Headers.BoardHeader.BoardSummary.count', 'Label for the number of pins belonging to a board. count: The number of pins'),{count:y(w,f,{})})}),g>0&&(0,_.jsx)(x,{size:e,children:g>0&&(0,s.nk)(v.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', g, 'board.Headers.BoardHeader.BoardSummary.sectionCount', 'Label for the number of sections belonging to a board. sectionCount: The number of sections'),{sectionCount:y(w,g,{})})}),m&&(0,_.jsx)(x,{dataTestId:"last-updated-date",size:e,children:(0,s.nk)(v._('{{ lastModifiedDate }}', 'boardPage.header.attribution.lastModified', 'Label displaying how many days ago the board was last modified. lastModifiedDate: The date the board was last modified'),{lastModifiedDate:j(m,!0)})})]})]})}},230689:function(e,t,o){o.d(t,{Z:()=>n});var r=o(883119),i=o(138596),a=o(785893);function n({boardActions:e,imageUrl:t,imageWidth:o}){let n=(0,i.ZP)();return(0,a.jsx)(r.zd,{height:360,rounding:6,wash:!0,width:o||540,children:(0,a.jsx)(r.Ee,{alt:n._('Board Header Image', 'save.board.headers.boardHeader.boardHeaderImage', 'alt for the image that is displayed in a boards header on desktop'),fit:"cover",naturalHeight:360,naturalWidth:o||540,role:"presentation",src:t,children:(0,a.jsx)(r.kC,{justifyContent:"end",children:(0,a.jsx)(r.xu,{"data-test-id":"board-actions",paddingX:4,paddingY:4,children:e})})})})}},635545:function(e,t,o){o.d(t,{Z:()=>u});var r=o(667294),i=o(883119),a=o(230201),n=o(521367),l=o(138596),s=o(386385),d=o(554365),c=o(36351),_=o(785893);function u({board:e,onArchiveClick:t,onCreatePincode:o,onEditBoardClick:u,onEditSectionClick:h,onMergeClick:p,onUnarchiveClick:b,showArchiveOnly:x=!1,showCreatePinCodeOption:m,surface:f,excludeShareOption:g,size:v="sm",bgColor:y="lightGray"}){let w=(0,l.ZP)(),j=(0,r.useRef)(null),{logContextEvent:P}=(0,a.v)(),[A,C]=(0,r.useState)(!1),[S,z]=(0,r.useState)("boardOptions"),B=()=>{C(!1),z("boardOptions")},I={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},k=()=>{C(e=>!e),z("boardOptions")},Z=!!e.archived_by_me_at,T=["section"===f?function({handleClose:e,onEditClick:t,setMenuType:o},r,i){return{items:[{dataTestId:"edit-section-button",text:r._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{t(),e()}},{text:r._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(i),o("boardShare")}}],label:r._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout')}}({handleClose:B,onEditClick:h,setMenuType:z},w,P):function({handleClose:e,isArchived:t,onArchiveClick:o,onCreatePincode:r,onEditClick:i,onMergeClick:a,onUnarchiveClick:n,setMenuType:l,showCreatePinCodeOption:s,isAdOnlyPins:c,excludeShareOption:_},u,h,p){let b=p?[]:[{dataTestId:"editBoardButton",text:u._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{i(),e()}}];return _||b.push({dataTestId:"shareBoardButton",text:u._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,d.Z)(h),l("boardShare")}}),c||t||b.push({dataTestId:"mergeBoardButton",text:u._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:()=>{a(),e()}}),t?b.push({dataTestId:"unarchiveBoardButton",text:u._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:()=>{n(),e()}}):b.push({dataTestId:"archiveBoardButton",text:u._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:()=>{o(),e()}}),s&&!p&&b.push({dataTestId:"createPinCodeBoardButton",text:u._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:()=>{r(),e()}}),{items:b,label:u._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout')}}({handleClose:B,isArchived:Z,onArchiveClick:t,onCreatePincode:o,onEditClick:u,onMergeClick:p,onUnarchiveClick:b,setMenuType:z,showCreatePinCodeOption:m,isAdOnlyPins:e.is_ads_only,excludeShareOption:g},w,P,x)];return(0,_.jsxs)(i.xu,{position:"relative",zIndex:new i.Ry(s.fe-1),children:[(0,_.jsx)(i.xu,{ref:j,"data-test-id":"more-board-options",children:(0,_.jsx)(i.hU,{accessibilityLabel:w._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:y,icon:"ellipsis",iconColor:"darkGray",onClick:k,selected:A,size:v})}),(0,_.jsx)(n.cs,{anchors:{3001:j.current},onCompleteByAnchor:{3001:k},placementId:18}),(0,_.jsx)(n.N,{anchors:{3001:j.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),A&&("boardOptions"===S?(0,_.jsx)(i.Lt,{anchor:j.current,disableMobileUI:!0,id:"board_options",onDismiss:B,children:T.map(({items:e,label:t})=>(0,_.jsx)(i.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:o,text:r})=>(0,_.jsx)(i.Lt.Item,{dataTestId:e,onSelect:o,option:{label:r,value:r},selected:t?{label:r,value:r}:null},r))},t))}):(0,_.jsx)(i.J2,{anchor:j.current,onDismiss:B,size:"flexible",children:(0,_.jsx)(c.Z,{component:13216,onCreatePincodeClick:o,onHide:B,sendType:"board",sharedObject:I,viewType:5})}))]})}},401545:function(e,t,o){o.d(t,{Z:()=>n});var r=o(883119),i=o(138596),a=o(785893);function n({isBoardPreviewMode:e,setBoardPreviewMode:t}){let o=(0,i.ZP)();return(0,a.jsx)(r.hU,{accessibilityLabel:o._('Board preview', 'boardPreview.iconButton.accessibilityLabel', 'Accessibility label for the board preview button'),bgColor:"white",icon:e?"eye-hide":"eye",iconColor:"darkGray",onClick:()=>t(!e),size:"lg"})}},230110:function(e,t,o){o.d(t,{Z:()=>r});let r=({boardCollaboratorCount:e,collaborators:t,showOnlyOwner:o=!1,ownerName:r=""})=>{let i=e?e+1:t.length,a=i>3,n=t.find(e=>e.name===r);!n&&t.length>0&&(n=t[0]);let l=o?[n]:t.slice(0,a?2:3),s=a?i-l.length:0;return{displayedCollaborators:l,nonDisplayedCollaboratorCount:s}}},10516:function(e,t,o){o.d(t,{Z:()=>a,w:()=>i});var r=o(667294);let i=484;function a(){let[e,t]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{let{innerWidth:e}=window;t(e<780),i(e<1024)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{isSmallerImage:e,isSmallScreen:o}}},554365:function(e,t,o){o.d(t,{Z:()=>r});function r(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},36351:function(e,t,o){o.d(t,{Z:()=>c});var r=o(667294),i=o(883119),a=o(470205),n=o(138596),l=o(825605),s=o(785893);let d=(0,r.lazy)(()=>Promise.all([o.e("26134"),o.e("79339"),o.e("37408")]).then(o.bind(o,845222)));function c(e){let t=(0,n.ZP)();return(0,s.jsx)(a.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,s.jsx)(l.Z,{fallback:(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,s.jsx)(i.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,s.jsx)(d,{...e})})})}},912471:function(e,t,o){o.d(t,{D3:()=>b,Iz:()=>x,Rh:()=>_,pW:()=>d,sF:()=>u,tA:()=>c});var r,i=o(167912),a=o(27399),n=o(160125),l=o(25870);let s={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:o}){let{FBMessenger:r,WhatsApp:i,Facebook:a,Twitter:n,Email:l,Line:d,Telegram:c,Viber:_,Sms:u,CopyLink:h,ShareVia:p}=s;function b(){switch(e){case"US":return t?[i,a,n,l]:[u,r,i,a,n];case"ID":return t?[i,d,l,a]:[i,c,u,d,l,a];case"JP":case"TH":case"TW":return t?[d,n,l,a]:[d,l,u,n,a];case"GR":return t?[i,a,n,l]:[_,r,i,u,a,n];case"IR":case"IQ":return t?[i,a,n,l]:[i,c,u,r,n];case"UA":case"RU":return t?[i,a,n,l]:[i,_,c,a,r,u,n];default:return t?[i,a,n,l]:[i,r,u,a,n]}}return t?[h,...b()]:[...b(),h,...o?[p]:[]]}function c({invitePath:e,inviteTitle:t,objectType:o,i18n:r,isDesktop:i}){let a=r._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===o&&(a=r._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));let l=`mailto:?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(e)}`,s=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${n.GH}`,d=`${t}
${e}`,c=i?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,_=i?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,u=i?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,h=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:l,messengerShareLink:s,twitterShareLink:c,whatsappShareLink:_,lineShareLink:u,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function _(e,t,o,r){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},e=>{e&&!e.error_message&&r&&r()})}function u(e,t,o,r){if(!o||!t)return;let i=new t(o,{container:o.parentElement,text:()=>e});i.on("success",e=>{r&&r(e)}),i.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}let h=void 0!==r?r:r=o(908026),p=()=>{let e=(0,i.useRelayEnvironment)();return async(t,o,r,a)=>{let n={invite_category:t,invite_object:o,invite_channel:r};return await new Promise((t,o)=>(0,i.fetchQuery)(e,h,{inviteType:JSON.stringify(n),objectId:a}).subscribe({next:e=>{e.v3InviteUserExternalQuery&&"data"in e.v3InviteUserExternalQuery&&e.v3InviteUserExternalQuery?.data&&t({inviteCode:e.v3InviteUserExternalQuery?.data?.inviteCode??"",invitePath:e.v3InviteUserExternalQuery?.data?.inviteUrl??"",title:e.v3InviteUserExternalQuery?.data?.title??"",message:e.v3InviteUserExternalQuery?.data?.message??""})},error:e=>o(e)}))}};function b(){let e=p();return async(t,o,r)=>await e(3,r,t,o)}async function x({inviteChannel:e,inviteCode:t,objectId:o,objectType:r,component:i,clientTrackingParams:n,logContextEvent:s,view_parameter:d,view_type:c,socialShareComponent:_}){let u;s({aux_data:{invite_object:r},object_id_str:o,component:i,clientTrackingParams:n,element:l.cc[e],event_type:102,view_type:c,view_parameter:d}),u=2===r?l.LO:3===r?l.Pu:l.dB,s({event_type:10399,component:14122===i?14312:14123===i?14310:_||i,object_id_str:o,clientTrackingParams:n,view_type:c,view_parameter:d,aux_data:{invite_object:r},element:u[e]}),a.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:r,invite_channel:e},invite_code:t,object_id:o,client_tracking_params:n}).callCreate()}},508859:function(e,t,o){o.d(t,{Z:()=>l});var r=o(667294),i=o(883119),a=o(785893);function n(e,t,o){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends r.Component{constructor(...e){super(...e),n(this,"setSearchRef",e=>{e&&(this.searchRef=e)}),n(this,"searchRef",null)}componentDidMount(){this.props.autoFocus&&this.searchRef?.focus()}render(){let{accessibilityLabel:e,id:t,onBlur:o,onChange:r,onFocus:n,placeholder:l,value:s}=this.props;return(0,a.jsx)(i.Um,{ref:this.setSearchRef,accessibilityLabel:e,id:t,onBlur:o,onChange:r,onFocus:n,placeholder:l,size:"lg",value:s})}}},292917:function(e,t,o){o.d(t,{j:()=>i});let r=RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6A-Za-z\xc0-\xd6\xd8-\xf6︀-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]");function i(e){return r.test(e||"")?"rtl":"ltr"}},972699:function(e,t,o){o.d(t,{Z:()=>d});var r=o(667294),i=o(616550),a=o(173874),n=o(138482),l=o(661376),s=o(415316);let d=e=>{let t=(0,s.vE)(),o=(0,i.TH)(),[d]=(0,r.useState)(o),c=o.pathname===d.pathname&&o.search===d.search&&((0,a.ey)(o)&&((0,a.fY)(o)&&"pin"||(0,a.am)(o)&&"board"||(0,n.Z)(o)&&"profile")||null)||null,[_,u]=(0,r.useState)(null),{isLoaded:h,data:p}=(0,l.Z)(!e&&t&&c?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,r.useEffect)(()=>{h&&p&&u(p??null)},[h,p]),t&&c?{invite:_,pageType:c}:null}},810752:function(e,t,o){function r(e){let[t,o]=e.split(/\/(.*)+/);return{filepath:o||"",site:t||""}}function i(e,t){return t?`${e||""}/${t}`:`/${e||""}`}o.d(t,{ac:()=>r,ke:()=>i})},177433:function(e,t,o){o.d(t,{MM:()=>n,uo:()=>l,wH:()=>a});var r=o(213491),i=o(810752);let{Provider:a,useHook:n}=(0,r.Z)("HandlerId");function l(){let e=n();return(0,i.ac)(e).site}},271245:function(e,t,o){o.d(t,{Z:()=>u});var r=o(667294),i=o(613567),a=o(317109),n=o(767415),l=o(177433);let{Provider:s,useMaybeHook:d}=(0,o(213491).Z)("LazyComponent");var c=o(785893);function _({children:e,enabledHydrationFix:t,chunkName:o,hasModuleInCache:i}){let a=(0,l.MM)();return(0,r.useEffect)(()=>{(0,n.nP)("webapp.lazyComponent.suspend",{tags:{chunkName:o??"unknown",enabledHydrationFix:t,handler:a,hasModuleInCache:i}})},[]),e}function u(e,t,l,s){let u,h;let p=t?.ssr??!0?r.Suspense:a.Z,b=(0,r.forwardRef)((a,u)=>{let b=(0,i.F)();d(),t?.dynamicRequestKey;let x=l?l(a):"",m=!1,f=!1;if(!h){let t=function({chunkName:e,dynamicImport:t,experimentsClient:i,moduleId:a,props:l}){let s=(0,r.lazy)(()=>t(l)),d=function(e){if(e&&o.m[e])return o(e).default}(a),c=!!d,_=c&&i.checkExperiment("lazycomponent_hydrationfix").anyEnabled;return(0,n.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",enabledHydrationFix:_,hasModuleInCache:c}}),{componentToRender:_&&d||s,enabledHydrationFix:_,hasModuleInCache:c}}({chunkName:s,dynamicImport:e,experimentsClient:b,moduleId:x,props:a});({componentToRender:h,enabledHydrationFix:m,hasModuleInCache:f}=t)}let g=(0,c.jsx)(_,{chunkName:s,enabledHydrationFix:m,hasModuleInCache:f,children:a.fallback||t?.fallback});return(0,c.jsx)(p,{fallback:g,children:(0,c.jsx)(h,{...a,ref:u})})});function x(t){return u||(u=(async()=>(h||(h=(await e(t)).default),h))()),u}return b.preload=e=>{x(e)},b.load=e=>x(e),b}},653015:function(e,t,o){o.d(t,{Z:()=>i,u:()=>r});let r="HIDDEN_ON_SERVER_ERROR",i=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(r)},361981:function(e){e.exports="https://s.pinimg.com/webapp/sad-coffee-5a5d2aaf.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88985-5d18e6e07ecfb6a2.mjs.map